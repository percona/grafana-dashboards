{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": false,
        "iconColor": "#e0752d",
        "limit": 100,
        "matchAny": true,
        "name": "PMM Annotations",
        "showIn": 0,
        "tags": [
          "pmm_annotation",
          "$node_name",
          "$service_name"
        ],
        "target": {
          "limit": 100,
          "matchAny": true,
          "tags": [
            "pmm_annotation",
            "$node_name",
            "$service_name"
          ],
          "type": "tags"
        },
        "type": "tags"
      },
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "#6ed0e0",
        "limit": 100,
        "name": "Annotations & Alerts",
        "showIn": 0,
        "tags": [],
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": false,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": 81,
  "links": [
    {
      "icon": "doc",
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "Home"
      ],
      "targetBlank": false,
      "title": "Home",
      "type": "link",
      "url": "/graph/d/pmm-home/home-dashboard"
    },
    {
      "icon": "dashboard",
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "Query Analytics"
      ],
      "targetBlank": false,
      "title": "Query Analytics",
      "type": "link",
      "url": "/graph/d/pmm-qan/pmm-query-analytics"
    },
    {
      "icon": "bolt",
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "Compare"
      ],
      "targetBlank": false,
      "title": "Compare",
      "type": "link",
      "url": "/graph/d/mongodb-instance-compare/mongodb-instances-compare"
    },
    {
      "asDropdown": true,
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "MongoDB"
      ],
      "targetBlank": false,
      "title": "MongoDB",
      "type": "dashboards"
    },
    {
      "asDropdown": true,
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "MongoDB_HA"
      ],
      "targetBlank": false,
      "title": "HA",
      "type": "dashboards"
    },
    {
      "asDropdown": true,
      "includeVars": false,
      "keepTime": true,
      "tags": [
        "Services"
      ],
      "targetBlank": false,
      "title": "Services",
      "type": "dashboards"
    },
    {
      "asDropdown": true,
      "includeVars": false,
      "keepTime": true,
      "tags": [
        "PMM"
      ],
      "targetBlank": false,
      "title": "PMM",
      "type": "dashboards"
    }
  ],
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 68,
      "panels": [],
      "title": "Overview",
      "type": "row"
    },
    {
      "description": "Number of sharded clusters",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "rgb(31, 120, 193)",
            "mode": "fixed"
          },
          "mappings": [],
          "noValue": "0",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 0,
        "y": 1
      },
      "id": 227,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.6.4",
      "targets": [
        {
          "editorMode": "code",
          "expr": "count(count by (cluster) (\n  mongodb_mongos_sharding_shards_total{environment=~\"$environment\", cluster=~\"$cluster\"}\n))",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Sharded Clusters",
      "type": "stat"
    },
    {
      "description": "The number of replica sets that are not part of a sharded cluster",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "rgb(31, 120, 193)",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 6,
        "y": 1
      },
      "id": 228,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.6.4",
      "targets": [
        {
          "editorMode": "code",
          "expr": "count(count by (cluster) (\n  mongodb_myState{environment=~\"$environment\", cluster=~\"$cluster\", cl_role=\"\"}\n)) or vector(0)",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Replica Sets",
      "type": "stat"
    },
    {
      "description": "Total number of MongoDB processes monitored (mongod + mongos)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "rgb(31, 120, 193)",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 12,
        "y": 1
      },
      "id": 70,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.6.4",
      "targets": [
        {
          "editorMode": "code",
          "expr": "count(mongodb_up{environment=~\"$environment\", cluster=~\"$cluster\", service_name=~\"$service_name\"})",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Processes",
      "type": "stat"
    },
    {
      "description": "Percent of time each replicaset had a primary",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-red"
              },
              {
                "color": "dark-yellow",
                "value": 50
              },
              {
                "color": "dark-green",
                "value": 100
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 18,
        "y": 1
      },
      "id": 229,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "max"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.6.4",
      "targets": [
        {
          "editorMode": "code",
          "expr": "avg_over_time(\n  max by (replset) (mongodb_mongod_replset_my_state{environment=~\"$environment\", cluster=~\"$cluster\"} == 1)[$__range]\n) * 100",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Availability",
      "type": "stat"
    },
    {
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#1f78c1",
            "mode": "fixed"
          },
          "decimals": 2,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 0,
        "y": 4
      },
      "id": 75,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.6.4",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum(rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type!=\"command\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type!=\"command\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type!=\"command\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type!=\"command\"}[5m]))",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Operations",
      "type": "stat"
    },
    {
      "description": "Documents inserted, updated, deleted or returned per second.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#1f78c1",
            "mode": "fixed"
          },
          "decimals": 2,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-blue"
              }
            ]
          },
          "unit": "docs/s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 6,
        "y": 4
      },
      "id": 81,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "max"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.6.4",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum(rate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\"}[5m]))",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Docs Accessed",
      "type": "stat"
    },
    {
      "description": "Time since the most recent election in any replicaset",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "rgb(31, 120, 193)",
            "mode": "thresholds"
          },
          "decimals": 1,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-red"
              },
              {
                "color": "dark-yellow",
                "value": 300
              },
              {
                "color": "dark-green",
                "value": 3600
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 12,
        "y": 4
      },
      "id": 226,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.6.4",
      "targets": [
        {
          "editorMode": "code",
          "expr": "time() - max(mongodb_mongod_replset_member_election_date{environment=~\"$environment\", cluster=~\"$cluster\", service_name=~\"$service_name\"})",
          "interval": "5m",
          "intervalFactor": 1,
          "legendFormat": "",
          "metric": "",
          "range": true,
          "refId": "A",
          "step": 300
        }
      ],
      "title": "Time Since Election",
      "type": "stat"
    },
    {
      "description": "Minimum uptime between all processes (mongod and mongos)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 2,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "#d44a3a"
              },
              {
                "color": "#FF780A",
                "value": 300
              },
              {
                "color": "#299c46",
                "value": 3600
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 18,
        "y": 4
      },
      "id": 72,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "none",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.6.4",
      "targets": [
        {
          "editorMode": "code",
          "expr": "min(mongodb_instance_uptime_seconds{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\"})",
          "format": "time_series",
          "interval": "$interval",
          "intervalFactor": 1,
          "legendFormat": "",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Min Uptime",
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 7
      },
      "id": 220,
      "panels": [],
      "title": "Status",
      "type": "row"
    },
    {
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "semi-dark-blue",
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "OK"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "semi-dark-green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "CHECK"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "semi-dark-red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 8
      },
      "id": 221,
      "options": {
        "displayLabels": [
          "value"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false,
          "values": []
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "last"
          ],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.4",
      "targets": [
        {
          "editorMode": "code",
          "exemplar": false,
          "expr": "count(\n  \"state\",\n  max by(member_idx) (mongodb_members_state{environment=~\"$environment\", cluster=~\"$cluster\", node_name=~\"$node_name\", service_name=~\"$service_name\"}\n    == 1)\n  or\n  max by(member_idx) (mongodb_members_state{environment=~\"$environment\", cluster=~\"$cluster\", node_name=~\"$node_name\", service_name=~\"$service_name\"}\n    == 2)\n  or\n  max by(member_idx) (mongodb_members_state{environment=~\"$environment\", cluster=~\"$cluster\", node_name=~\"$node_name\", service_name=~\"$service_name\"}\n    == 7) \n)",
          "hide": false,
          "instant": true,
          "legendFormat": "OK",
          "range": false,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "exemplar": false,
          "expr": "count(\n  \"state\",\n  max by(member_idx) (mongodb_members_state{environment=~\"$environment\", cluster=~\"$cluster\", node_name=~\"$node_name\", service_name=~\"$service_name\"}\n    != 1)\n  and\n  max by(member_idx) (mongodb_members_state{environment=~\"$environment\", cluster=~\"$cluster\", node_name=~\"$node_name\", service_name=~\"$service_name\"}\n    != 2)\n  and\n  max by(member_idx) (mongodb_members_state{environment=~\"$environment\", cluster=~\"$cluster\", node_name=~\"$node_name\", service_name=~\"$service_name\"}\n    != 7)  \n)",
          "hide": false,
          "instant": true,
          "legendFormat": "CHECK",
          "range": false,
          "refId": "B"
        }
      ],
      "title": "Node Summary",
      "type": "piechart"
    },
    {
      "description": "Click on each replica set to go to the details page",
      "fieldConfig": {
        "defaults": {
          "fieldMinMax": false,
          "mappings": [
            {
              "options": {
                "0": {
                  "color": "dark-red",
                  "index": 0,
                  "text": "CHECK"
                },
                "7": {
                  "color": "dark-green",
                  "index": 3,
                  "text": "OK"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "from": 1,
                "result": {
                  "color": "dark-green",
                  "index": 1,
                  "text": "OK"
                },
                "to": 2
              },
              "type": "range"
            },
            {
              "options": {
                "from": 3,
                "result": {
                  "color": "dark-red",
                  "index": 2,
                  "text": "CHECK"
                },
                "to": 6
              },
              "type": "range"
            },
            {
              "options": {
                "from": 8,
                "result": {
                  "color": "dark-red",
                  "index": 4,
                  "text": "CHECK"
                },
                "to": 10
              },
              "type": "range"
            }
          ]
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 8
      },
      "id": 222,
      "options": {
        "autoSizeColumns": true,
        "autoSizePolygons": true,
        "autoSizeRows": true,
        "compositeConfig": {
          "animationSpeed": "2500",
          "composites": [],
          "enabled": true
        },
        "compositeGlobalAliasingEnabled": false,
        "ellipseCharacters": 18,
        "ellipseEnabled": true,
        "globalAutoScaleFonts": false,
        "globalClickthrough": "/graph/d/mongodb-replicaset-summary/mongodb-replset-summary?var-rs_nm=${__cell_name}",
        "globalClickthroughCustomTarget": "",
        "globalClickthroughCustomTargetEnabled": false,
        "globalClickthroughNewTabEnabled": true,
        "globalClickthroughSanitizedEnabled": true,
        "globalCompositeValueFontSize": 14,
        "globalDecimals": 2,
        "globalDisplayMode": "all",
        "globalDisplayTextTriggeredEmpty": "OK",
        "globalFillColor": "#0a55a1",
        "globalFontSize": 12,
        "globalGradientsEnabled": true,
        "globalLabelFontSize": 12,
        "globalOperator": "last",
        "globalPolygonBorderColor": "#000000",
        "globalPolygonBorderSize": 2,
        "globalPolygonSize": 50,
        "globalRegexPattern": "",
        "globalShape": "hexagon_pointed_top",
        "globalShowTimestampEnabled": false,
        "globalShowTimestampFontSize": 12,
        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
        "globalShowTimestampPosition": "below_value",
        "globalShowTimestampYOffset": 0,
        "globalShowTooltipColumnHeadersEnabled": true,
        "globalShowValueEnabled": true,
        "globalTextFontAutoColor": "#000000",
        "globalTextFontAutoColorEnabled": false,
        "globalTextFontColor": "#000000",
        "globalTextFontFamily": "Inter",
        "globalThresholdsConfig": [],
        "globalTooltipsEnabled": true,
        "globalTooltipsFontFamily": "Inter",
        "globalTooltipsShowTimestampEnabled": true,
        "globalTooltipsShowValueEnabled": true,
        "globalUnitFormat": "short",
        "globalValueFontSize": 14,
        "layoutDisplayLimit": 100,
        "layoutNumColumns": 8,
        "layoutNumRows": 8,
        "overrideConfig": {
          "overrides": []
        },
        "panelId": 0,
        "radius": 100,
        "sortByDirection": 1,
        "sortByField": "name",
        "tooltipDisplayMode": "all",
        "tooltipDisplayTextTriggeredEmpty": "OK",
        "tooltipPrimarySortByField": "thresholdLevel",
        "tooltipPrimarySortDirection": 2,
        "tooltipSecondarySortByField": "value",
        "tooltipSecondarySortDirection": 2
      },
      "pluginVersion": "2.1.5",
      "targets": [
        {
          "editorMode": "code",
          "exemplar": false,
          "expr": "max by (rs_nm)(mongodb_members_state{environment=~\"$environment\",cluster=~\"$cluster\",node_name=~\"$node_name\",service_name=~\"$service_name\"} != 7)",
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "__auto",
          "range": false,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "exemplar": false,
          "expr": "max by (rs_nm)(mongodb_members_state{environment=~\"$environment\",cluster=~\"$cluster\",node_name=~\"$node_name\",service_name=~\"$service_name\"} == 0)",
          "hide": false,
          "instant": true,
          "legendFormat": "__auto",
          "range": false,
          "refId": "B"
        }
      ],
      "title": "Replica Set Status",
      "type": "grafana-polystat-panel"
    },
    {
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "noValue": "No routers detected"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "semi-dark-red",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "CHECK"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "OK"
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "semi-dark-green",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 16
      },
      "id": 224,
      "options": {
        "displayLabels": [
          "value"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "pieType": "donut",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.4",
      "targets": [
        {
          "editorMode": "code",
          "exemplar": false,
          "expr": "count_values( \"state\", min by (service_name)(mongodb_up{environment=~\"$environment\",cluster=~\"$cluster\",node_name=~\"$node_name\",service_name=~\"$mongos_service_name\"} ))",
          "hide": false,
          "instant": true,
          "legendFormat": "__auto",
          "range": false,
          "refId": "C"
        }
      ],
      "title": "Router Summary",
      "type": "piechart"
    },
    {
      "description": "Click on each router to go to the details page",
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "0": {
                  "color": "dark-red",
                  "index": 0,
                  "text": "CHECK"
                },
                "1": {
                  "color": "dark-green",
                  "index": 1,
                  "text": "OK"
                }
              },
              "type": "value"
            }
          ]
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 16
      },
      "id": 225,
      "options": {
        "autoSizeColumns": true,
        "autoSizePolygons": true,
        "autoSizeRows": true,
        "compositeConfig": {
          "animationSpeed": "2500",
          "composites": [],
          "enabled": false
        },
        "compositeGlobalAliasingEnabled": false,
        "ellipseCharacters": 18,
        "ellipseEnabled": true,
        "globalAutoScaleFonts": false,
        "globalClickthrough": "/graph/d/mongodb-router-summary/mongodb-router-summary?var-service_name=${__cell_name}",
        "globalClickthroughCustomTarget": "",
        "globalClickthroughCustomTargetEnabled": false,
        "globalClickthroughNewTabEnabled": false,
        "globalClickthroughSanitizedEnabled": false,
        "globalCompositeValueFontSize": 14,
        "globalDecimals": 2,
        "globalDisplayMode": "all",
        "globalDisplayTextTriggeredEmpty": "No routers detected",
        "globalFillColor": "#0a55a1",
        "globalFontSize": 12,
        "globalGradientsEnabled": true,
        "globalLabelFontSize": 12,
        "globalOperator": "last",
        "globalPolygonBorderColor": "#000000",
        "globalPolygonBorderSize": 2,
        "globalPolygonSize": 50,
        "globalRegexPattern": "",
        "globalShape": "hexagon_pointed_top",
        "globalShowTimestampEnabled": false,
        "globalShowTimestampFontSize": 12,
        "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
        "globalShowTimestampPosition": "below_value",
        "globalShowTimestampYOffset": 0,
        "globalShowTooltipColumnHeadersEnabled": true,
        "globalShowValueEnabled": true,
        "globalTextFontAutoColor": "#000000",
        "globalTextFontAutoColorEnabled": false,
        "globalTextFontColor": "#000000",
        "globalTextFontFamily": "Inter",
        "globalThresholdsConfig": [],
        "globalTooltipsEnabled": true,
        "globalTooltipsFontFamily": "Inter",
        "globalTooltipsShowTimestampEnabled": true,
        "globalTooltipsShowValueEnabled": true,
        "globalUnitFormat": "short",
        "globalValueFontSize": 14,
        "layoutDisplayLimit": 100,
        "layoutNumColumns": 8,
        "layoutNumRows": 8,
        "overrideConfig": {
          "overrides": []
        },
        "panelId": 0,
        "radius": 100,
        "sortByDirection": 1,
        "sortByField": "name",
        "tooltipDisplayMode": "all",
        "tooltipDisplayTextTriggeredEmpty": "-",
        "tooltipPrimarySortByField": "thresholdLevel",
        "tooltipPrimarySortDirection": 2,
        "tooltipSecondarySortByField": "value",
        "tooltipSecondarySortDirection": 2
      },
      "pluginVersion": "2.1.5",
      "targets": [
        {
          "editorMode": "code",
          "exemplar": false,
          "expr": "min by (service_name)(mongodb_up{cluster_role=\"mongos\",environment=~\"$environment\",cluster=~\"$cluster\",node_name=~\"$node_name\",service_name=~\"$service_name\"})",
          "hide": false,
          "instant": true,
          "legendFormat": "{{service_name}}",
          "range": false,
          "refId": "B"
        }
      ],
      "title": "Router Status",
      "type": "grafana-polystat-panel"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 24
      },
      "id": 114,
      "panels": [
        {
          "description": "TCP connections (Incoming) in mongod processes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 25
          },
          "id": 38,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,avg by (service_name) ((max_over_time(mongodb_mongod_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[$interval]) or max_over_time(mongodb_mongod_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[5m]) or\nmax_over_time(mongodb_mongos_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[$interval]) or max_over_time(mongodb_mongos_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[5m]) or\nmax_over_time(mongodb_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[$interval]) or max_over_time(mongodb_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(max_over_time(mongodb_mongod_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[$interval]) or max_over_time(mongodb_mongod_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[5m]) or\nmax_over_time(mongodb_mongos_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[$interval]) or max_over_time(mongodb_mongos_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[5m]) or\nmax_over_time(mongodb_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[$interval]) or max_over_time(mongodb_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Connections",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 25
          },
          "id": 138,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "last",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": "",
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "short"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "editorMode": "code",
              "expr": "avg by (service_name) (max_over_time(mongodb_mongod_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[$interval]) or max_over_time(mongodb_mongod_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[5m]) or\nmax_over_time(mongodb_mongos_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[$interval]) or max_over_time(mongodb_mongos_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[5m]) or\nmax_over_time(mongodb_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[$interval]) or max_over_time(mongodb_connections{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", state=\"current\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Current Connections",
          "type": "grafana-polystat-panel"
        }
      ],
      "title": "Connections Detail",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 25
      },
      "id": 147,
      "panels": [
        {
          "description": "The average rate of commands performed per second over the selected sample period",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 26
          },
          "id": 148,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "expr": "topk(5,sum by (service_name) (rate(mongodb_mongod_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[5m]) or \nrate(mongodb_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[$interval]) or \nirate(mongodb_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[5m])))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "refId": "J",
              "step": 300
            },
            {
              "expr": "avg(sum by (service_name) (rate(mongodb_mongod_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[5m]) or \nrate(mongodb_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[$interval]) or \nirate(mongodb_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[5m])))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "refId": "A"
            }
          ],
          "title": "Top 5 Command Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 26
          },
          "id": 158,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "expr": "sum by (service_name) (rate(mongodb_mongod_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[5m]) or \nrate(mongodb_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[$interval]) or \nirate(mongodb_op_counters_total{service_name=~\"$service_name\", type=\"command\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "refId": "A"
            }
          ],
          "title": "Command Operations",
          "type": "grafana-polystat-panel"
        },
        {
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 34
          },
          "id": 152,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,(sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[5m])))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Getmore Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 34
          },
          "id": 156,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"getmore\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Getmore Operations",
          "type": "grafana-polystat-panel"
        },
        {
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "id": 150,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,(sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[5m])))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Delete Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "id": 157,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"delete\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Delete Operations",
          "type": "grafana-polystat-panel"
        },
        {
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 50
          },
          "id": 151,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,(sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[5m])))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Insert Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 50
          },
          "id": 155,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{service_name=~\"$service_name\", type=\"insert\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"insert\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Insert Operations",
          "type": "grafana-polystat-panel"
        },
        {
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 58
          },
          "id": 154,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,(sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[5m])))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Update Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 58
          },
          "id": 173,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"update\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Update Operations",
          "type": "grafana-polystat-panel"
        },
        {
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 66
          },
          "id": 153,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,(sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[5m])))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Query Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 66
          },
          "id": 149,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (service_name) (rate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[$interval]) or \nirate(mongodb_mongod_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[5m]) or \nrate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[$interval]) or \nirate(mongodb_mongos_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[5m]) or \nrate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[$interval]) or \nirate(mongodb_op_counters_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\", type=\"query\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Query Operations",
          "type": "grafana-polystat-panel"
        }
      ],
      "title": "Opcounters Detail",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 26
      },
      "id": 132,
      "panels": [
        {
          "description": "This panel shows the actual number of documents that were affected on average during the given time period. A single *update* command for example could perform updates on hundreds or thousands of documents. If these counters seem high, you might want to check your statements to make sure they are properly operating against the documents that they should.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 27
          },
          "id": 36,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,avg by (service_name) ((rate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"deleted\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"deleted\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(rate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"deleted\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"deleted\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Document Delete Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 27
          },
          "id": 174,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "editorMode": "code",
              "expr": "avg by (service_name) (rate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"deleted\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"deleted\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Document Delete Operations",
          "type": "grafana-polystat-panel"
        },
        {
          "description": "This panel shows the actual number of documents that were affected on average during the given time period. A single *update* command for example could perform updates on hundreds or thousands of documents. If these counters seem high, you might want to check your statements to make sure they are properly operating against the documents that they should.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 35
          },
          "id": 175,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,avg by (service_name) ((rate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"inserted\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"inserted\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(rate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"inserted\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"inserted\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Document Insert Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 35
          },
          "id": 180,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "expr": "avg by (service_name) (rate(mongodb_mongod_metrics_document_total{service_name=~\"$service_name\",state=\"inserted\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{service_name=~\"$service_name\",state=\"inserted\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "refId": "A"
            }
          ],
          "title": "Document Insert Operations",
          "type": "grafana-polystat-panel"
        },
        {
          "description": "This panel shows the actual number of documents that were affected on average during the given time period. A single *update* command for example could perform updates on hundreds or thousands of documents. If these counters seem high, you might want to check your statements to make sure they are properly operating against the documents that they should.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 43
          },
          "id": 176,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,avg by (service_name) ((rate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"returned\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"returned\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(rate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"returned\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"returned\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Document Return Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 43
          },
          "id": 179,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "expr": "avg by (service_name) (rate(mongodb_mongod_metrics_document_total{service_name=~\"$service_name\",state=\"returned\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{service_name=~\"$service_name\",state=\"returned\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "refId": "A"
            }
          ],
          "title": "Document Return Operations",
          "type": "grafana-polystat-panel"
        },
        {
          "description": "This panel shows the actual number of documents that were affected on average during the given time period. A single *update* command for example could perform updates on hundreds or thousands of documents. If these counters seem high, you might want to check your statements to make sure they are properly operating against the documents that they should.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 51
          },
          "id": 177,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,avg by (service_name) ((rate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"updated\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"updated\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(rate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"updated\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",state=\"updated\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Document Update Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 51
          },
          "id": 178,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "expr": "avg by (service_name) (rate(mongodb_mongod_metrics_document_total{service_name=~\"$service_name\",state=\"updated\"}[$interval]) or \nirate(mongodb_mongod_metrics_document_total{service_name=~\"$service_name\",state=\"updated\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "refId": "A"
            }
          ],
          "title": "Document Update Operations",
          "type": "grafana-polystat-panel"
        }
      ],
      "title": "Document Operations Detail",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 27
      },
      "id": 134,
      "panels": [
        {
          "description": "This shows the number of read and write operations that are waiting due to for a lock. Consistently small values here should not be of concern, but if the values are consistently high the queries causing long lock times should be tracked down and fixed.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 116
          },
          "id": 40,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,avg by (service_name) ((max_over_time(mongodb_mongod_global_lock_current_queue{environment=~\"$environment\", cluster=~\"$cluster\",ervice_name=~\"$service_name\",type=\"reader\"}[$interval]) or \nmax_over_time(mongodb_mongod_global_lock_current_queue{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type=\"reader\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(max_over_time(mongodb_mongod_global_lock_current_queue{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type=\"reader\"}[$interval]) or \nmax_over_time(mongodb_mongod_global_lock_current_queue{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type=\"reader\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Queued Read Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 116
          },
          "id": 181,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [
                    {
                      "color": "#299c46",
                      "state": 0,
                      "value": 0
                    },
                    {
                      "color": "#ed8128",
                      "state": 1,
                      "value": 1
                    }
                  ],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "editorMode": "code",
              "expr": "avg by (service_name) (max_over_time(mongodb_mongod_global_lock_current_queue{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type=\"reader\"}[$interval]) or \nmax_over_time(mongodb_mongod_global_lock_current_queue{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type=\"reader\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Queued Read Operations",
          "type": "grafana-polystat-panel"
        },
        {
          "description": "This shows the number of read and write operations that are waiting due to for a lock. Consistently small values here should not be of concern, but if the values are consistently high the queries causing long lock times should be tracked down and fixed.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "points",
                "fillOpacity": 20,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 2,
              "links": [
                {
                  "targetBlank": true,
                  "title": "MongoDB Instance Summary - ${__series.name}",
                  "url": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?var-service_name=${__series.name}&$__url_time_range"
                }
              ],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#C4162A",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.showPoints",
                    "value": "never"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 124
          },
          "id": 182,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.6.4",
          "targets": [
            {
              "editorMode": "code",
              "expr": "topk(5,avg by (service_name) ((max_over_time(mongodb_mongod_global_lock_current_queue{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type=\"writer\"}[$interval]) or \nmax_over_time(mongodb_mongod_global_lock_current_queue{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type=\"writer\"}[5m]))))",
              "format": "time_series",
              "hide": false,
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "range": true,
              "refId": "J",
              "step": 300
            },
            {
              "editorMode": "code",
              "expr": "avg(max_over_time(mongodb_mongod_global_lock_current_queue{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type=\"writer\"}[$interval]) or \nmax_over_time(mongodb_mongod_global_lock_current_queue{environment=~\"$environment\", cluster=~\"$cluster\",service_name=~\"$service_name\",type=\"writer\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "Avg",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Top 5 Queued Write Operations",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 124
          },
          "id": 183,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "2500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": false,
            "globalClickthroughSanitizedEnabled": false,
            "globalCompositeValueFontSize": 14,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "#0a50a1",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalLabelFontSize": 12,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "black",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 50,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColor": "#000000",
            "globalTextFontAutoColorEnabled": false,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Inter",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Inter",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "globalValueFontSize": 14,
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": [
                {
                  "alias": "",
                  "clickThrough": "/graph/d/mongodb-instance-summary/mongodb-instance-summary?from=$__from&to=$__to&var-service_name=${__cell_name}",
                  "clickThroughCustomTarget": "",
                  "clickThroughCustomTargetEnabled": false,
                  "clickThroughOpenNewTab": true,
                  "clickThroughSanitize": false,
                  "colors": [
                    "#299c46",
                    "#e5ac0e",
                    "#bf1b00",
                    "#ffffff"
                  ],
                  "decimals": 2,
                  "enabled": true,
                  "label": "OVERRIDE 1",
                  "metricName": "/.*/",
                  "operatorName": "last",
                  "order": 0,
                  "prefix": "",
                  "scaledDecimals": 0,
                  "suffix": "",
                  "thresholds": [
                    {
                      "color": "#299c46",
                      "state": 0,
                      "value": 0
                    },
                    {
                      "color": "#e5ac0e",
                      "state": 1,
                      "value": 1
                    }
                  ],
                  "unitFormat": "ops"
                }
              ]
            },
            "panelId": 0,
            "radius": 100,
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 2,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 2
          },
          "pluginVersion": "2.1.5",
          "targets": [
            {
              "expr": "avg by (service_name) (max_over_time(mongodb_mongod_global_lock_current_queue{service_name=~\"$service_name\",type=\"writer\"}[$interval]) or \nmax_over_time(mongodb_mongod_global_lock_current_queue{service_name=~\"$service_name\",type=\"writer\"}[5m]))",
              "format": "time_series",
              "interval": "$interval",
              "intervalFactor": 1,
              "legendFormat": "{{service_name}}",
              "refId": "A"
            }
          ],
          "title": "Queued Write Operations",
          "type": "grafana-polystat-panel"
        }
      ],
      "title": "Queued Operations Detail",
      "type": "row"
    }
  ],
  "preload": false,
  "refresh": "1m",
  "schemaVersion": 41,
  "tags": [
    "MongoDB",
    "Percona",
    "Services"
  ],
  "templating": {
    "list": [
      {
        "auto": true,
        "auto_count": 200,
        "auto_min": "1s",
        "current": {
          "text": "$__auto",
          "value": "$__auto"
        },
        "label": "Interval",
        "name": "interval",
        "options": [
          {
            "selected": false,
            "text": "1s",
            "value": "1s"
          },
          {
            "selected": false,
            "text": "5s",
            "value": "5s"
          },
          {
            "selected": false,
            "text": "1m",
            "value": "1m"
          },
          {
            "selected": false,
            "text": "5m",
            "value": "5m"
          },
          {
            "selected": false,
            "text": "1h",
            "value": "1h"
          },
          {
            "selected": false,
            "text": "6h",
            "value": "6h"
          },
          {
            "selected": false,
            "text": "1d",
            "value": "1d"
          }
        ],
        "query": "1s,5s,1m,5m,1h,6h,1d",
        "refresh": 2,
        "type": "interval"
      }
    ]
  },
  "time": {
    "from": "now-15m",
    "to": "now"
  },
  "timepicker": {
    "hidden": false,
    "now": true,
    "refresh_intervals": [
      "1s",
      "5s",
      "1m",
      "5m",
      "1h",
      "6h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "MongoDB Instances Overview",
  "uid": "mongodb-instance-overview",
  "version": 11
}
