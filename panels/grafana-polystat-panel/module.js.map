{"version":3,"file":"module.js","mappings":"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","sources":["webpack://grafana-polystat-panel/../node_modules/semver/functions/gt.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/lt.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/sort.js","webpack://grafana-polystat-panel/../node_modules/semver/ranges/to-comparators.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/diff.js","webpack://grafana-polystat-panel/../node_modules/semver/ranges/intersects.js","webpack://grafana-polystat-panel/../node_modules/semver/internal/lrucache.js","webpack://grafana-polystat-panel/external amd \"module\"","webpack://grafana-polystat-panel/../node_modules/semver/ranges/simplify.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/patch.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/satisfies.js","webpack://grafana-polystat-panel/external amd \"@grafana/ui\"","webpack://grafana-polystat-panel/../node_modules/semver/functions/gte.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/compare-build.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/rcompare.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/major.js","webpack://grafana-polystat-panel/external amd \"lodash\"","webpack://grafana-polystat-panel/../node_modules/semver/ranges/min-version.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/cmp.js","webpack://grafana-polystat-panel/../node_modules/semver/internal/identifiers.js","webpack://grafana-polystat-panel/external amd \"d3\"","webpack://grafana-polystat-panel/../node_modules/semver/ranges/ltr.js","webpack://grafana-polystat-panel/../node_modules/classnames/index.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/coerce.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/compare.js","webpack://grafana-polystat-panel/../node_modules/semver/ranges/outside.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/parse.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/inc.js","webpack://grafana-polystat-panel/external amd \"react\"","webpack://grafana-polystat-panel/../node_modules/semver/functions/minor.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/rsort.js","webpack://grafana-polystat-panel/external amd \"@emotion/css\"","webpack://grafana-polystat-panel/../node_modules/semver/internal/re.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/eq.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/compare-loose.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/lte.js","webpack://grafana-polystat-panel/../node_modules/semver/internal/parse-options.js","webpack://grafana-polystat-panel/../node_modules/semver/ranges/valid.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/valid.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/neq.js","webpack://grafana-polystat-panel/external amd \"@grafana/data\"","webpack://grafana-polystat-panel/../node_modules/semver/ranges/max-satisfying.js","webpack://grafana-polystat-panel/../node_modules/semver/ranges/gtr.js","webpack://grafana-polystat-panel/../node_modules/semver/ranges/min-satisfying.js","webpack://grafana-polystat-panel/../node_modules/semver/classes/semver.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/clean.js","webpack://grafana-polystat-panel/../node_modules/semver/classes/range.js","webpack://grafana-polystat-panel/../node_modules/semver/index.js","webpack://grafana-polystat-panel/external amd \"@grafana/runtime\"","webpack://grafana-polystat-panel/../node_modules/semver/ranges/subset.js","webpack://grafana-polystat-panel/../node_modules/semver/classes/comparator.js","webpack://grafana-polystat-panel/../node_modules/semver/functions/prerelease.js","webpack://grafana-polystat-panel/../node_modules/semver/internal/constants.js","webpack://grafana-polystat-panel/../node_modules/semver/internal/debug.js","webpack://grafana-polystat-panel/webpack/bootstrap","webpack://grafana-polystat-panel/webpack/runtime/compat get default export","webpack://grafana-polystat-panel/webpack/runtime/define property getters","webpack://grafana-polystat-panel/webpack/runtime/hasOwnProperty shorthand","webpack://grafana-polystat-panel/webpack/runtime/make namespace object","webpack://grafana-polystat-panel/webpack/runtime/publicPath","webpack://grafana-polystat-panel/./node_modules/grafana-public-path.js","webpack://grafana-polystat-panel/./components/types.ts","webpack://grafana-polystat-panel/../node_modules/uuid/dist/esm-browser/native.js","webpack://grafana-polystat-panel/../node_modules/uuid/dist/esm-browser/rng.js","webpack://grafana-polystat-panel/../node_modules/uuid/dist/esm-browser/stringify.js","webpack://grafana-polystat-panel/../node_modules/uuid/dist/esm-browser/v4.js","webpack://grafana-polystat-panel/./components/thresholds/types.ts","webpack://grafana-polystat-panel/./components/thresholds/ThresholdItem.tsx","webpack://grafana-polystat-panel/./components/gradients/color.ts","webpack://grafana-polystat-panel/./components/defaults.ts","webpack://grafana-polystat-panel/./components/thresholds/ThresholdsEditor.tsx","webpack://grafana-polystat-panel/./components/metric_hints.ts","webpack://grafana-polystat-panel/./components/overrides/OverrideItem.tsx","webpack://grafana-polystat-panel/./components/overrides/OverrideEditor.tsx","webpack://grafana-polystat-panel/../node_modules/d3-hexbin/src/hexbin.js","webpack://grafana-polystat-panel/../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","webpack://grafana-polystat-panel/../node_modules/@floating-ui/core/dist/floating-ui.core.mjs","webpack://grafana-polystat-panel/../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","webpack://grafana-polystat-panel/../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","webpack://grafana-polystat-panel/../node_modules/react-tooltip/dist/react-tooltip.min.mjs","webpack://grafana-polystat-panel/./components/gradients/Gradients.tsx","webpack://grafana-polystat-panel/./components/layout/layoutManager.ts","webpack://grafana-polystat-panel/./components/styles.ts","webpack://grafana-polystat-panel/./components/tooltips/Tooltip.tsx","webpack://grafana-polystat-panel/./utils.ts","webpack://grafana-polystat-panel/./components/auto_font_scaler.ts","webpack://grafana-polystat-panel/./components/Polystat.tsx","webpack://grafana-polystat-panel/./components/alignment.ts","webpack://grafana-polystat-panel/./data/deframer.ts","webpack://grafana-polystat-panel/./data/threshold_processor.ts","webpack://grafana-polystat-panel/./data/clickThroughTransformer.ts","webpack://grafana-polystat-panel/./data/types.ts","webpack://grafana-polystat-panel/./data/time_formatter.ts","webpack://grafana-polystat-panel/./data/composite_processor.ts","webpack://grafana-polystat-panel/./data/stats.ts","webpack://grafana-polystat-panel/./data/valueMappingsWrapper/v7/valueMappings.ts","webpack://grafana-polystat-panel/./data/valueMappingsWrapper/v8/types/valueMappings.ts","webpack://grafana-polystat-panel/./data/valueMappingsWrapper/v8/valueMappings.ts","webpack://grafana-polystat-panel/./data/valueMappingsWrapper/index.ts","webpack://grafana-polystat-panel/./data/override_processor.ts","webpack://grafana-polystat-panel/./data/processor.ts","webpack://grafana-polystat-panel/./components/PolystatPanel.tsx","webpack://grafana-polystat-panel/./components/composites/types.ts","webpack://grafana-polystat-panel/./components/composites/CompositeMetricItem.tsx","webpack://grafana-polystat-panel/./components/composites/CompositeItem.tsx","webpack://grafana-polystat-panel/./components/composites/CompositeEditor.tsx","webpack://grafana-polystat-panel/./components/thresholds/GlobalThresholdEditor.tsx","webpack://grafana-polystat-panel/./migrations.ts","webpack://grafana-polystat-panel/./module.ts","webpack://grafana-polystat-panel/./components/suggestions.ts"],"sourcesContent":["'use strict'\n\nconst compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","'use strict'\n\nconst compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","'use strict'\n\nconst compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","'use strict'\n\nconst Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","'use strict'\n\nconst parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // If the main part has no difference\n    if (lowVersion.compareMain(highVersion) === 0) {\n      if (lowVersion.minor && !lowVersion.patch) {\n        return 'minor'\n      }\n      return 'patch'\n    }\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","'use strict'\n\nconst Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","'use strict'\n\nclass LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1308__;","'use strict'\n\n// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","'use strict'\n\nconst Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2007__;","'use strict'\n\nconst compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","'use strict'\n\nconst compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3241__;","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","'use strict'\n\nconst eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","'use strict'\n\nconst numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__4201__;","'use strict'\n\nconst outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","'use strict'\n\nconst SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","module.exports = __WEBPACK_EXTERNAL_MODULE__5959__;","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","'use strict'\n\nconst compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","module.exports = __WEBPACK_EXTERNAL_MODULE__6089__;","'use strict'\n\nconst {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst safeSrc = exports.safeSrc = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  safeSrc[index] = safe\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n// Non-numberic identifiers include numberic identifiers but can be longer.\n// Therefore non-numberic identifiers must go first.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","'use strict'\n\nconst compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","'use strict'\n\nconst compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","'use strict'\n\nconst compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","'use strict'\n\n// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","'use strict'\n\nconst Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","'use strict'\n\nconst parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","'use strict'\n\nconst compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","module.exports = __WEBPACK_EXTERNAL_MODULE__7781__;","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","'use strict'\n\n// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","'use strict'\n\nconst debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const match = `-${identifier}`.match(this.options.loose ? re[t.PRERELEASELOOSE] : re[t.PRERELEASE])\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","'use strict'\n\nconst parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","'use strict'\n\nconst SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","'use strict'\n\n// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8531__;","'use strict'\n\nconst Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","'use strict'\n\nconst ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","'use strict'\n\nconst parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","'use strict'\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","'use strict'\n\nconst debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"public/plugins/grafana-polystat-panel/\";","\nimport amdMetaModule from 'amd-module';\n\n__webpack_public_path__ =\n  amdMetaModule && amdMetaModule.uri\n    ? amdMetaModule.uri.slice(0, amdMetaModule.uri.lastIndexOf('/') + 1)\n    : 'public/plugins/grafana-polystat-panel/';\n","import { SelectableValue, ValueMapping } from '@grafana/data';\nimport { CompositeItemType } from 'components/composites/types';\nimport { OverrideItemType } from './overrides/types';\nimport { PolystatThreshold } from './thresholds/types';\n\nexport interface PolystatOptions {\n  autoSizeColumns: boolean;\n  autoSizeRows: boolean;\n  autoSizePolygons: boolean;\n  ellipseCharacters: number;\n  ellipseEnabled: boolean;\n  globalAutoScaleFonts: boolean;\n  globalClickthrough: string;\n  globalClickthroughNewTabEnabled: boolean;\n  globalClickthroughSanitizedEnabled: boolean;\n  globalClickthroughCustomTargetEnabled: boolean;\n  globalClickthroughCustomTarget: string;\n  globalDecimals: number;\n  globalDisplayMode: string;\n  globalDisplayTextTriggeredEmpty: string;\n  globalFillColor: string;\n  globalLabelFontSize: number;\n  globalValueFontSize: number;\n  globalCompositeValueFontSize: number;\n  globalGradientsEnabled: boolean;\n  globalOperator: string;\n  globalPolygonBorderSize: number;\n  globalPolygonBorderColor: string;\n  globalPolygonSize: string;\n  globalRegexPattern: string;\n  globalShape: PolygonShapes;\n  globalShowValueEnabled: boolean;\n  globalShowTimestampEnabled: boolean;\n  globalShowTimestampFormat: string;\n  globalShowTimestampFontSize: number;\n  globalShowTimestampPosition: TimestampPositions;\n  globalShowTimestampYOffset: number;\n  globalShowTooltipColumnHeadersEnabled: boolean;\n  globalTextFontAutoColor: string;\n  globalTextFontAutoColorEnabled: boolean;\n  globalTextFontColor: string;\n  globalTextFontFamily: string;\n  globalThresholdsConfig: PolystatThreshold[];\n  globalTooltipsEnabled: boolean;\n  globalTooltipsShowTimestampEnabled: boolean;\n  globalTooltipsShowValueEnabled: boolean;\n  globalTooltipsFontFamily: string,\n  globalUnitFormat: string;\n  layoutDisplayLimit: number;\n  layoutNumColumns: number;\n  layoutNumRows: number;\n  processedData?: PolystatModel[] | null;\n  panelHeight: any;\n  panelWidth: any;\n  panelId: number;\n  radius: number | null;\n  renderTime?: Date;\n  sortByField: string;\n  sortByDirection: number;\n  overrideConfig: {\n    overrides: OverrideItemType[];\n  };\n  compositeGlobalAliasingEnabled: boolean;\n  compositeConfig: {\n    animationSpeed: string;\n    composites: CompositeItemType[];\n    enabled: boolean;\n  };\n  tooltipPrimarySortDirection: number;\n  tooltipPrimarySortByField: string;\n  tooltipSecondarySortDirection: number;\n  tooltipSecondarySortByField: string;\n  tooltipDisplayMode: string;\n  tooltipDisplayTextTriggeredEmpty: string;\n};\n\nexport interface PolystatModel {\n  displayMode?: string;\n  thresholdLevel?: number; // 0 = ok, 1 = warn, 2 = crit, 3 = unknown (same as sensu)\n  value: number;\n  valueFormatted: string;\n  valueRounded: number;\n  stats: any;\n  name: string;\n  displayName: string; // Used for composites\n  timestamp: number;\n  prefix: string;\n  suffix: string;\n  color: string;\n  clickThrough: string;\n  operatorName: string;\n  newTabEnabled: boolean;\n  customClickthroughTargetEnabled: boolean;\n  customClickthroughTarget: string;\n  sanitizedURL: string;\n  sanitizeURLEnabled: boolean;\n  showName: boolean;\n  showValue: boolean;\n  showTimestamp: boolean;\n  timestampFormatted: string;\n  isComposite: boolean;\n  members: PolystatModel[];\n  triggerCache?: any; // holds animation frame info\n  mappings?: ValueMapping[];\n};\n\nexport enum PolygonShapes {\n  HEXAGON_POINTED_TOP = 'hexagon_pointed_top',\n  CIRCLE = 'circle',\n  SQUARE = 'square',\n};\n\nexport const PolygonNamedShapes = [\n  { value: 'hexagon_pointed_top', label: 'Hexagon Pointed Top' },\n  { value: 'circle', label: 'Circle' },\n  { value: 'square', label: 'Square' },\n];\n\nexport interface PolystatDiameters {\n  diameterX: number;\n  diameterY: number;\n};\n\nexport const OperatorOptions: SelectableValue[] = [\n  { value: 'mean', label: 'Mean (avg)' },\n  { value: 'sum', label: 'Sum' },\n  { value: 'min', label: 'Min' },\n  { value: 'max', label: 'Max' },\n  { value: 'last', label: 'Last' },\n  { value: 'lastNotNull', label: 'Last Not Null' },\n  { value: 'first', label: 'First' },\n  { value: 'firstNotNull', label: 'First Not Null' },\n  { value: 'count', label: 'Count' },\n  { value: 'allIsNull', label: 'All Is Null (boolean)' },\n  { value: 'allIsZero', label: 'All Is Zero (boolean)' },\n  { value: 'delta', label: 'Delta' },\n  { value: 'diff', label: 'Difference' },\n  { value: 'diffperc', label: 'Difference (Percent)' },\n  { value: 'last_time', label: 'Time of Last Point' },\n  { value: 'logmin', label: 'Log Min' },\n  { value: 'name', label: 'Name' },\n  { value: 'nonNullCount', label: 'Non Null Count' },\n  { value: 'previousDeltaUp', label: 'Previous Delta Up' },\n  { value: 'range', label: 'Range' },\n  { value: 'step', label: 'Step' },\n];\n\nexport const SortOptions = [\n  { value: 0, label: 'Disabled' },\n  { value: 1, label: 'Alphabetical (asc)' },\n  { value: 2, label: 'Alphabetical (desc)' },\n  { value: 3, label: 'Numerical (asc)' },\n  { value: 4, label: 'Numerical (desc)' },\n  { value: 5, label: 'Alphabetical (case-insensitive, asc)' },\n  { value: 6, label: 'Alphabetical (case-insensitive, desc)' },\n  { value: 7, label: 'Natural sort (asc)' },\n  { value: 8, label: 'Natural sort (desc)' },\n];\n\nexport const SortOptionOperators = ['disabled', 'asc', 'desc', 'asc', 'desc', 'iasc', 'idesc'];\n\nexport const SortByFieldOptions = [\n  { value: 'name', label: 'Name' },\n  { value: 'thresholdLevel', label: 'Threshold Level' },\n  { value: 'value', label: 'Value' },\n];\n\nexport const DisplayModes = [\n  { value: 'all', label: 'Show All' },\n  { value: 'triggered', label: 'Show Triggered' },\n];\n\nexport const AnimationModes = [\n  { value: 'all', text: 'Show All' },\n  { value: 'triggered', text: 'Show Triggered' },\n];\n\nexport enum FontFamilies {\n  ARIAL = 'Arial',\n  HELVETICA = 'Helvetica',\n  HELVETICA_NEUE = 'Helvetica Neue',\n  INTER = 'Inter',\n  ROBOTO = 'Roboto',\n  ROBOTO_MONO = 'Roboto Mono',\n};\n\nexport const FontFamilyOptions = [\n  { value: FontFamilies.ARIAL, label: 'Arial' },\n  { value: FontFamilies.HELVETICA, label: 'Helvetica' },\n  { value: FontFamilies.HELVETICA_NEUE, label: 'Helvetica Neue' },\n  { value: FontFamilies.INTER, label: 'Inter' },\n  { value: FontFamilies.ROBOTO_MONO, label: 'Roboto Mono' },\n];\n\nexport const FontFamilyOptionsLegacy = [\n  { value: FontFamilies.ARIAL, label: 'Arial' },\n  { value: FontFamilies.HELVETICA, label: 'Helvetica' },\n  { value: FontFamilies.HELVETICA_NEUE, label: 'Helvetica Neue' },\n  { value: FontFamilies.ROBOTO, label: 'Roboto' },\n  { value: FontFamilies.ROBOTO_MONO, label: 'Roboto Mono' },\n];\n\nexport const ShowTimestampFormats = [\n  { value: 'HH:mm:ss', label: 'HH:mm:ss' },\n  { value: 'YYYY-MM-DD HH:mm', label: 'YYYY-MM-DD HH:mm' },\n  { value: 'YYYY-MM-DD HH:mm:ss', label: 'YYYY-MM-DD HH:mm:ss' },\n  { value: 'YYYY-MM-DD HH:mm:ss.SSS', label: 'YYYY-MM-DD HH:mm:ss.SSS' },\n  { value: 'MM/DD/YY h:mm:ss a', label: 'MM/DD/YY h:mm:ss a' },\n  { value: 'MMMM D, YYYY LT', label: 'MMMM D, YYYY LT' },\n  { value: 'YYYY-MM-DD', label: 'YYYY-MM-DD' },\n];\n\nexport enum TimestampPositions {\n  BELOW_VALUE = 'below_value',\n  ABOVE_VALUE = 'above_value',\n};\n\nexport const ShowTimestampPositions = [\n  { value: TimestampPositions.ABOVE_VALUE, label: 'Above Value' },\n  { value: TimestampPositions.BELOW_VALUE, label: 'Below Value' },\n];\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nexport default v4;\n","import { SelectableValue } from '@grafana/data';\n\nexport interface PolystatThreshold {\n  color: string;\n  state: number;\n  value: number;\n}\n\nexport interface ThresholdItemTracker {\n  threshold: PolystatThreshold;\n  order: number;\n  ID: string;\n}\n\nexport const ThresholdStates: SelectableValue[] = [\n  { value: 0, label: 'ok' },\n  { value: 1, label: 'warning' },\n  { value: 2, label: 'critical' },\n  { value: 3, label: 'custom' },\n];\n","import React, { useState } from 'react';\nimport { GrafanaTheme2, SelectableValue } from '@grafana/data';\nimport { Input, ColorPicker, IconButton, useStyles2, Select } from '@grafana/ui';\nimport { css } from '@emotion/css';\n\nimport { PolystatThreshold, ThresholdStates } from './types';\n\ninterface ThresholdItemProps {\n  threshold: PolystatThreshold;\n  key: string;\n  ID: string;\n  valueSetter: any;\n  colorSetter: any;\n  stateSetter: any;\n  remover: any;\n  index: number;\n  disabled: boolean;\n}\n\nexport const ThresholdItem: React.FC<ThresholdItemProps> = (options: ThresholdItemProps) => {\n  const styles = useStyles2(getThresholdStyles);\n  const getThreshold = (thresholdId: number) => {\n    const keys = ThresholdStates.keys();\n    for (const aKey of keys) {\n      if (ThresholdStates[aKey].value === thresholdId) {\n        return ThresholdStates[aKey];\n      }\n    }\n    // no match, return current by default\n    return ThresholdStates[0];\n  };\n\n  const [threshold, setThreshold] = useState<SelectableValue>(getThreshold(options.threshold.state));\n\n  return (\n    <Input\n      disabled={options.disabled}\n      type=\"number\"\n      step=\"1.0\"\n      key={options.ID}\n      onChange={(e) => options.valueSetter(options.index, Number(e.currentTarget.value))}\n      value={options.threshold.value}\n      prefix={\n        <div className={styles.inputPrefix}>\n          <div className={styles.colorPicker}>\n            <ColorPicker\n              color={options.threshold.color}\n              onChange={(color) => options.colorSetter(options.index, color)}\n              enableNamedColors={true}\n            />\n          </div>\n        </div>\n      }\n      suffix={\n        <>\n          <Select\n            disabled={options.disabled}\n            menuShouldPortal={true}\n            value={threshold}\n            onChange={(v) => {\n              setThreshold(v);\n              options.stateSetter(options.index, v.value);\n            }}\n            options={ThresholdStates}\n          />\n          <IconButton\n            disabled={options.disabled}\n            key=\"deleteThreshold\"\n            variant=\"destructive\"\n            name=\"trash-alt\"\n            tooltip=\"Delete Threshold\"\n            onClick={() => options.remover(options.index)}\n          />\n        </>\n      }\n    />\n  );\n};\n\nconst getThresholdStyles = (theme: GrafanaTheme2) => {\n  return {\n    inputPrefix: css`\n      display: flex;\n      align-items: center;\n    `,\n    colorPicker: css`\n      padding: 0 ${theme.spacing(1)};\n    `,\n  };\n};\n","/*\n  Generic class to provide gradient colors\n\n  Based on https://codepen.io/anon/pen/wWxGkr\n\n*/\nexport class Color {\n  r: number;\n  g: number;\n  b: number;\n\n  constructor(r: number, g: number, b: number) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n  }\n\n  asHex() {\n    return '#' + ((1 << 24) + (this.r << 16) + (this.g << 8) + this.b).toString(16).slice(1);\n  }\n\n  asRGB() {\n    return 'rgb(' + this.r + ',' + this.g + ',' + this.b + ')';\n  }\n\n  blendWith(col: Color, a: number) {\n    const r = Math.round(col.r * (1 - a) + this.r * a);\n    const g = Math.round(col.g * (1 - a) + this.g * a);\n    const b = Math.round(col.b * (1 - a) + this.b * a);\n    return new Color(r, g, b);\n  }\n\n  Mul(col: Color, a: number) {\n    const r = Math.round((col.r / 255) * this.r * a);\n    const g = Math.round((col.g / 255) * this.g * a);\n    const b = Math.round((col.b / 255) * this.b * a);\n    return new Color(r, g, b);\n  }\n\n  RGBToHex(rgb: any) {\n    let sep = rgb.indexOf(',') > -1 ? ',' : ' ';\n    rgb = rgb.substr(4).split(')')[0].split(sep);\n    // Convert %s to 0255\n    for (let R in rgb) {\n      let r = rgb[R];\n      if (r.indexOf('%') > -1) {\n        rgb[R] = Math.round((r.substr(0, r.length - 1) / 100) * 255);\n      }\n    }\n  }\n\n  static RGBAToHex(orig: string) {\n    const rgb = orig.replace(/\\s/g, '').match(/^rgba?\\((\\d+),(\\d+),(\\d+),?([^,\\s)]+)?/i);\n    const alpha = ((rgb && rgb[4]) || '').trim();\n    let hex = rgb\n      ? (parseInt(rgb[1], 10) | (1 << 8)).toString(16).slice(1) +\n        (parseInt(rgb[2], 10) | (1 << 8)).toString(16).slice(1) +\n        (parseInt(rgb[3], 10) | (1 << 8)).toString(16).slice(1)\n      : orig;\n\n    let a = '1';\n    if (alpha !== '') {\n      const alphaVal = parseFloat(alpha);\n      // multiply before convert to HEX\n      a = ((alphaVal * 255) | (1 << 8)).toString(16).slice(1);\n    }\n    return '#' + hex + a;\n  }\n\n  fromHex(hex: string) {\n    // http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n    hex = hex.substring(1, 7);\n    const bigint = parseInt(hex, 16);\n    this.r = (bigint >> 16) & 255;\n    this.g = (bigint >> 8) & 255;\n    this.b = bigint & 255;\n  }\n}\n","import { Color } from './gradients/color';\nimport { FontFamilies } from './types';\n\n/**\n * Color to use when rendering without any thresholds/overrides\n */\nexport const GLOBAL_FILL_COLOR_RGBA = 'rgba(10, 85, 161, 1)'; // \"#0a55a1\"\nexport const GLOBAL_FILL_COLOR_HEX = '#0a55a1';\nexport const GLOBAL_FILL_COLOR = new Color(10, 85, 161);\n\nexport const GLOBAL_BORDER_COLOR_RGBA = 'rgba(0, 0, 0, 0)'; // \"#000000\"\n/**\n * Color for threshold OK state\n */\nexport const DEFAULT_OK_COLOR_RGBA = 'rgba(41, 156, 70, 1))'; // #299c46\nexport const DEFAULT_OK_COLOR_HEX = '#299c46';\nexport const DEFAULT_OK_COLOR = new Color(41, 156, 70);\n/**\n * Color for threshold Warning state\n */\nexport const DEFAULT_WARNING_COLOR_RGBA = 'rgba(237, 129, 40, 1)'; // alternates // #FFC837 // '#e5ac0e'\nexport const DEFAULT_WARNING_COLOR_HEX = '#ed8128'; // alternates // #FFC837 // '#e5ac0e'\nexport const DEFAULT_WARNING_COLOR = new Color(237, 129, 40);\n/**\n * Color for threshold Critical state\n */\nexport const DEFAULT_CRITICAL_COLOR_RGBA = 'rgba(245, 54, 54, 1)';\nexport const DEFAULT_CRITICAL_COLOR_HEX = '#f53636';\nexport const DEFAULT_CRITICAL_COLOR = new Color(245, 54, 54);\n\nexport const DEFAULT_NO_THRESHOLD_COLOR_RGBA = GLOBAL_FILL_COLOR_RGBA;\nexport const DEFAULT_NO_THRESHOLD_COLOR_HEX = GLOBAL_FILL_COLOR_HEX;\nexport const DEFAULT_NO_THRESHOLD_COLOR = new Color(64, 64, 160);\n\nexport const DEFAULT_NO_DATA_COLOR_HEX = '#808080'; // \"grey\"\n\n/**\n * Unit to apply to all metrics without overrides\n */\nexport const GLOBAL_UNIT_FORMAT = 'short';\n/**\n * Number of decimals to display in polygon\n */\nexport const GLOBAL_DISPLAY_DECIMALS = 2;\n/**\n * Show all metrics\n */\nexport const GLOBAL_DISPLAY_MODE = 'all';\n/**\n * Display OK when global mode is set to triggered and there are no triggers\n */\nexport const GLOBAL_DISPLAY_TEXT_TRIGGERED_EMPTY = 'OK';\n/**\n * Display average (mean) stat for metric\n */\nexport const GLOBAL_OPERATOR_NAME = 'mean'; // mean\n\nexport const GLOBAL_OVERRIDE_COLORS = [\n  DEFAULT_OK_COLOR_HEX,\n  DEFAULT_WARNING_COLOR_HEX,\n  DEFAULT_CRITICAL_COLOR_HEX,\n  DEFAULT_NO_THRESHOLD_COLOR_HEX,\n];\n\nexport const GLOBAL_TEXT_FONT_FAMILY = FontFamilies.INTER;\nexport const GLOBAL_TOOLTIP_FONT_FAMILY = FontFamilies.INTER;\nexport const GLOBAL_TEXT_FONT_FAMILY_LEGACY = FontFamilies.ROBOTO;\nexport const GLOBAL_TOOLTIP_FONT_FAMILY_LEGACY = FontFamilies.ROBOTO;\n","import React, { useState } from 'react';\nimport { orderBy } from 'lodash';\nimport { Button, useTheme, useTheme2 } from '@grafana/ui';\nimport { v4 as UUIdv4 } from 'uuid';\nimport { PolystatThreshold, ThresholdItemTracker } from './types';\nimport { ThresholdItem } from './ThresholdItem';\nimport { DEFAULT_OK_COLOR_HEX, DEFAULT_WARNING_COLOR_HEX, DEFAULT_CRITICAL_COLOR_HEX } from '../defaults';\n\ninterface Props {\n  thresholds: PolystatThreshold[];\n  setter: any;\n  disabled?: boolean;\n}\nexport const ThresholdsEditor: React.FC<Props> = (options) => {\n  const [tracker, _setTracker] = useState((): ThresholdItemTracker[] => {\n    if (!options.thresholds) {\n      return [] as ThresholdItemTracker[];\n    }\n    const items: ThresholdItemTracker[] = [];\n    options.thresholds.forEach((value: PolystatThreshold, index: number) => {\n      items[index] = {\n        threshold: value,\n        order: index,\n        ID: UUIdv4(),\n      };\n    });\n    return items;\n  });\n  // v9 compatible\n  const theme2 = useTheme2();\n  const oldTheme = useTheme();\n\n  const setTracker = (v: ThresholdItemTracker[]) => {\n    _setTracker(v);\n    const allThresholds: PolystatThreshold[] = [];\n    v.forEach((element) => {\n      allThresholds.push(element.threshold);\n    });\n    options.setter(allThresholds);\n  };\n\n  const updateThresholdValue = (index: number, value: number) => {\n    tracker[index].threshold.value = Number(value);\n    // reorder\n    const allThresholds = [...tracker];\n    const orderedThresholds = orderBy(allThresholds, ['threshold.value'], ['asc']);\n    setTracker([...orderedThresholds]);\n  };\n\n  const updateThresholdColor = (index: number, color: string) => {\n    const useColor = theme2.visualization.getColorByName(color);\n    tracker[index].threshold.color = useColor;\n    setTracker([...tracker]);\n  };\n\n  const updateThresholdState = (index: number, state: any) => {\n    tracker[index].threshold.state = state;\n    // set the color if it is not a custom state\n    if (state < 3) {\n      tracker[index].threshold.color = colorForThresholdState(state);\n    }\n    setTracker([...tracker]);\n  };\n\n  const colorForThresholdState = (state: number) => {\n    switch (state) {\n      case 0:\n        return DEFAULT_OK_COLOR_HEX;\n      case 1:\n        return DEFAULT_WARNING_COLOR_HEX;\n      case 2:\n        return DEFAULT_CRITICAL_COLOR_HEX;\n      default:\n        return DEFAULT_OK_COLOR_HEX;\n    }\n  };\n\n  const removeThreshold = (index: number) => {\n    const allThresholds = [...tracker];\n    let removeIndex = 0;\n    for (let i = 0; i < allThresholds.length; i++) {\n      if (allThresholds[i].order === index) {\n        removeIndex = i;\n        break;\n      }\n    }\n    allThresholds.splice(removeIndex, 1);\n    // reorder\n    for (let i = 0; i < allThresholds.length; i++) {\n      allThresholds[i].order = i;\n    }\n    setTracker([...allThresholds]);\n  };\n\n  const addItem = () => {\n    const order = tracker.length;\n    const aThreshold: PolystatThreshold = {\n      color: DEFAULT_OK_COLOR_HEX, // \"rgba(50, 172, 45, 1)\",  // green\n      state: 0,\n      value: 0,\n    };\n    const aTracker: ThresholdItemTracker = {\n      threshold: aThreshold,\n      order: order,\n      ID: UUIdv4(),\n    };\n    setTracker([...tracker, aTracker]);\n  };\n\n  return (\n    <>\n      <Button disabled={options.disabled} fill=\"solid\" variant=\"primary\" icon=\"plus\" onClick={addItem}>\n        Add Threshold\n      </Button>\n      {tracker &&\n        tracker.map((tracker: ThresholdItemTracker, index: number) => {\n          return (\n            <ThresholdItem\n              disabled={options.disabled || false}\n              key={`threshold-item-index-${tracker.ID}`}\n              ID={tracker.ID}\n              threshold={tracker.threshold}\n              valueSetter={updateThresholdValue}\n              colorSetter={updateThresholdColor}\n              stateSetter={updateThresholdState}\n              remover={removeThreshold}\n              index={index}\n            />\n          );\n        })}\n    </>\n  );\n};\n","import { FieldType } from '@grafana/data';\n\n// builds unique metric names to shorten the list displayed\nexport const getMetricHints = (frames: any) => {\n  let metricHints = new Set<string>();\n  for (let i = 0; i < frames.length; i++) {\n    // start with empty hint\n    let hintValue = '';\n    // the frame may have a name defined, start with it, fields will change it as needed\n    if (frames[i]?.name) {\n      hintValue = frames[i].name;\n    }\n    // iterate over fields, get all number types and provide as hints\n    for (const aField of frames[i].fields) {\n      if (aField.type === FieldType.number) {\n        // update the hint to use the field Name if we didn't get a value from above\n        if ((aField.name) && (hintValue === '')) {\n          hintValue = aField.name;\n        }\n        // check for a label with __name__ and use it instead\n        if (aField?.labels && ('__name__' in aField.labels)) {\n          hintValue = aField.labels['__name__'];\n          // append the rest of the labels\n          const appendLabels: string[] = [];\n          for (const aLabel in aField.labels) {\n            if (aLabel !== '__name__') {\n              appendLabels.push(`${aLabel}=\"${aField.labels[aLabel]}\"`);\n            }\n          }\n          if (appendLabels.length > 0) {\n            // sort them first\n            appendLabels.sort();\n            hintValue += '{' + appendLabels.join('') + '}';\n          }\n        }\n        // update the hint to use the displayNameFromDS value\n        // (the query has a specified a naming convention)\n        if (aField?.config && aField.config?.displayNameFromDS) {\n          hintValue = aField.config?.displayNameFromDS;\n        }\n        metricHints.add(hintValue);\n      }\n    }\n  }\n  return metricHints;\n}\n","import React, { useEffect, useState } from 'react';\n\nimport {\n  IconName,\n  Input,\n  Field,\n  FieldSet,\n  Switch,\n  Card,\n  IconButton,\n  UnitPicker,\n  Select,\n  Cascader,\n  CascaderOption,\n} from '@grafana/ui';\nimport { OverrideItemProps, OverrideItemType } from './types';\nimport { ThresholdsEditor } from '../thresholds/ThresholdsEditor';\nimport { PolystatThreshold } from '../thresholds/types';\nimport { OperatorOptions, ShowTimestampFormats } from '../types';\nimport { SelectableValue } from '@grafana/data';\nimport { getMetricHints } from '../metric_hints';\n\nexport const OverrideItem: React.FC<OverrideItemProps> = (props) => {\n  const [metricHints, setMetricHints] = useState<CascaderOption[]>([]);\n  const [override, _setOverride] = useState(props.override);\n\n  const setOverride = (value: OverrideItemType) => {\n    _setOverride(value);\n    props.setter(override.order, value);\n  };\n  const [visibleIcon] = useState<IconName>('eye');\n  const [hiddenIcon] = useState<IconName>('eye-slash');\n\n  const getOperator = (operatorName: string) => {\n    const keys = OperatorOptions.keys();\n    for (const aKey of keys) {\n      if (OperatorOptions[aKey].value === operatorName) {\n        return OperatorOptions[aKey];\n      }\n    }\n    // no match, return last not null by default\n    return OperatorOptions[5];\n  };\n  const [operatorName, setOperatorName] = useState<SelectableValue>(getOperator(props.override.operatorName));\n  const removeItem = () => {\n    props.remover(override.order);\n  };\n\n  const moveUp = () => {\n    props.moveUp(override.order);\n  };\n  const moveDown = () => {\n    props.moveDown(override.order);\n  };\n  const createDuplicate = () => {\n    props.createDuplicate(override.order);\n  };\n\n  const setThresholds = (val: PolystatThreshold[]) => {\n    setOverride({ ...override, thresholds: val });\n  };\n\n  useEffect(() => {\n    if (props.context.data) {\n      const frames = props.context.data;\n      let hints: CascaderOption[] = [];\n      let metricHints = getMetricHints(frames);\n      for (const metricName of metricHints) {\n        hints.push({\n          label: metricName,\n          value: metricName,\n        });\n      }\n      setMetricHints(hints);\n    }\n  }, [props.context.data]);\n\n  return (\n    <Card key={`override-card-${props.ID}`}>\n      <Card.Meta>\n        <FieldSet>\n          <Field\n            label=\"Label\"\n            description=\"Sets the name of the override in the configuration editor.\"\n            disabled={!override.enabled}\n          >\n            <Input\n              value={override.label}\n              placeholder=\"\"\n              onChange={(e) => setOverride({ ...override, label: e.currentTarget.value })}\n            />\n          </Field>\n          <Field label=\"Metric/RegEx\" disabled={!override.enabled}>\n            <Cascader\n              initialValue={override.metricName}\n              allowCustomValue\n              placeholder=\"\"\n              options={metricHints}\n              onSelect={(val: string) => setOverride({ ...override, metricName: val })}\n            />\n          </Field>\n          <Field label=\"Alias\" disabled={!override.enabled} hidden={true}>\n            <Input\n              value={override.alias}\n              placeholder=\"\"\n              onChange={(e) => setOverride({ ...override, alias: e.currentTarget.value })}\n            />\n          </Field>\n          <Field label=\"Decimals\" disabled={!override.enabled}>\n            <Input\n              value={override.decimals}\n              type=\"number\"\n              step={1}\n              placeholder=\"\"\n              onChange={(e) => setOverride({ ...override, decimals: e.currentTarget.value })}\n            />\n          </Field>\n          <Field label=\"Stat\" description=\"The statistic to be displayed\" disabled={!override.enabled}>\n            <Select\n              menuShouldPortal={true}\n              value={operatorName}\n              onChange={(v) => {\n                setOperatorName(v);\n                setOverride({ ...override, operatorName: v.value });\n              }}\n              options={OperatorOptions}\n            />\n          </Field>\n          <Field label=\"Unit Format\" disabled={!override.enabled}>\n            {override.enabled ? (\n              <UnitPicker\n                value={override.unitFormat}\n                onChange={(val: any) => setOverride({ ...override, unitFormat: val })}\n              />\n            ) : (\n              <span>{override.unitFormat}</span>\n            )}\n          </Field>\n          {/*\n          <Field label=\"Show Timestamp\" description=\"Toggle Display of Timestamp\" disabled={!override.enabled}>\n            <Switch\n              transparent={true}\n              value={override.showTimestampEnabled}\n              disabled={!override.enabled}\n              onChange={() => setOverride({ ...override, showTimestampEnabled: !override.showTimestampEnabled })}\n            />\n          </Field>\n          <Field label=\"Timestamp Format\" description=\"Format of timestamp to display\" disabled={!override.enabled} hidden={!override.showTimestampEnabled}>\n            <Cascader\n              initialValue={override.showTimestampFormat}\n              allowCustomValue\n              placeholder=\"\"\n              options={ShowTimestampFormats}\n              onSelect={(val: string) => setOverride({ ...override, showTimestampFormat: val })}\n            />\n          </Field>\n          <Field label=\"Timestamp Y Offset\" description=\"Adjust the displayed timestamp up or down the Y-Axis, use negative value to move up, positive for down\" disabled={!override.enabled} hidden={!override.showTimestampEnabled}>\n            <Input\n              value={override.showTimestampYOffset}\n              type=\"number\"\n              step={1}\n              placeholder=\"0\"\n              onChange={(v) => setOverride({ ...override, showTimestampYOffset: v.currentTarget.valueAsNumber })}\n            />\n          </Field>\n          */}\n\n          <Field label=\"Thresholds\" disabled={!override.enabled}>\n            <ThresholdsEditor disabled={!override.enabled} thresholds={override.thresholds} setter={setThresholds} />\n          </Field>\n          <Field label=\"Prefix\" description=\"Apply text to beginning of metric\" disabled={!override.enabled}>\n            <Input\n              value={override.prefix}\n              placeholder=\"\"\n              onChange={(e) => setOverride({ ...override, prefix: e.currentTarget.value })}\n            />\n          </Field>\n          <Field label=\"Suffix\" description=\"Apply text to end of metric\" disabled={!override.enabled}>\n            <Input\n              value={override.suffix}\n              placeholder=\"\"\n              onChange={(e) => setOverride({ ...override, suffix: e.currentTarget.value })}\n            />\n          </Field>\n          <Field label=\"Clickthrough URL\" description=\"URL to Open on Click\" disabled={!override.enabled}>\n            <Input\n              value={override.clickThrough}\n              placeholder=\"https://\"\n              onChange={(e) => setOverride({ ...override, clickThrough: e.currentTarget.value })}\n            />\n          </Field>\n          <Field label=\"Sanitize URL\" description=\"Sanitize URL before evaluating\" disabled={!override.enabled}>\n            <Switch\n              transparent={false}\n              disabled={!override.enabled}\n              value={override.clickThroughSanitize}\n              onChange={() => setOverride({ ...override, clickThroughSanitize: !override.clickThroughSanitize })}\n            />\n          </Field>\n          <Field label=\"Open URL in New Tab\" description=\"Open link in new tab\" disabled={!override.enabled}>\n            <Switch\n              transparent={false}\n              value={override.clickThroughOpenNewTab}\n              disabled={!override.enabled}\n              onChange={() => setOverride({ ...override, clickThroughOpenNewTab: !override.clickThroughOpenNewTab })}\n            />\n          </Field>\n          <Field label=\"Enable Custom URL Target\" description=\"Enable custom target\" disabled={!override.enabled} hidden={override.clickThroughOpenNewTab}>\n            <Switch\n              transparent={false}\n              value={override.clickThroughCustomTargetEnabled}\n              disabled={!override.enabled}\n              onChange={() => setOverride({ ...override,\n                clickThroughCustomTargetEnabled: !override.clickThroughCustomTargetEnabled,\n                clickThroughCustomTarget: override.clickThroughCustomTarget || ''\n              })}\n            />\n          </Field>\n          <Field label=\"Custom URL Target\" description=\"Specify a custom target, typical values are: _blank|_self|_parent|_top|framename\" disabled={!override.enabled} hidden={!override.clickThroughCustomTargetEnabled}>\n            <Input\n              value={override.clickThroughCustomTarget}\n              placeholder=\"_self\"\n              disabled={!override.enabled}\n              onChange={(e) => setOverride({ ...override, clickThroughCustomTarget: e.currentTarget.value })}\n            />\n          </Field>\n        </FieldSet>\n      </Card.Meta>\n\n      <Card.Actions>\n        <IconButton key=\"moveUp\" name=\"arrow-up\" tooltip=\"Move Up\" onClick={moveUp} />\n        <IconButton key=\"moveDown\" name=\"arrow-down\" tooltip=\"Move Down\" onClick={moveDown} />\n        <IconButton\n          key=\"overrideEnabled\"\n          name={override.enabled ? visibleIcon : hiddenIcon}\n          tooltip=\"Hide/Show Override\"\n          onClick={() => setOverride({ ...override, enabled: !override.enabled })}\n        />\n        <IconButton key=\"copyOverride\" name=\"copy\" tooltip=\"Duplicate\" onClick={createDuplicate} />\n        <IconButton\n          key=\"deleteOverride\"\n          variant=\"destructive\"\n          name=\"trash-alt\"\n          tooltip=\"Delete Override\"\n          onClick={removeItem}\n        />\n      </Card.Actions>\n    </Card>\n  );\n};\n","import React, { useState } from 'react';\nimport { StandardEditorProps } from '@grafana/data';\nimport { OverrideItem } from './OverrideItem';\nimport { OverrideItemType, OverrideItemTracker } from './types';\nimport { v4 as UUIdv4 } from 'uuid';\nimport { Button, Collapse } from '@grafana/ui';\nimport { PolystatThreshold } from '../thresholds/types';\nimport { OperatorOptions, ShowTimestampFormats } from '../types';\nimport {\n  DEFAULT_CRITICAL_COLOR_HEX,\n  DEFAULT_NO_THRESHOLD_COLOR_HEX,\n  DEFAULT_OK_COLOR_HEX,\n  DEFAULT_WARNING_COLOR_HEX,\n} from '../defaults';\n\nexport interface OverrideEditorSettings {\n  overrides: OverrideItemType[];\n  enabled: boolean;\n}\n\ninterface Props extends StandardEditorProps<string | string[] | null, OverrideEditorSettings> {}\n\nexport const OverrideEditor: React.FC<Props> = ({ item, context, onChange }) => {\n  const [settings] = useState(context.options.overrideConfig);\n  const [tracker, _setTracker] = useState((): OverrideItemTracker[] => {\n    if (!settings.overrides) {\n      return [] as OverrideItemTracker[];\n    }\n    const items: OverrideItemTracker[] = [];\n    settings.overrides.forEach((value: OverrideItemType, index: number) => {\n      items[index] = {\n        override: value,\n        order: index,\n        ID: UUIdv4(),\n      };\n    });\n    return items;\n  });\n\n  const setTracker = (v: OverrideItemTracker[]) => {\n    _setTracker(v);\n    const allOverrides: OverrideItemType[] = [];\n    v.forEach((element) => {\n      allOverrides.push(element.override);\n    });\n    const overrideConfig = {\n      overrides: allOverrides,\n      enabled: settings.enabled,\n    };\n    onChange(overrideConfig as any);\n  };\n\n  const [isOpen, setIsOpen] = useState((): boolean[] => {\n    if (!tracker) {\n      return [] as boolean[];\n    }\n    let size = tracker.length;\n    const openStates: boolean[] = [];\n    while (size--) {\n      openStates[size] = false;\n    }\n    return openStates;\n  });\n\n  const updateOverride = (index: number, value: OverrideItemType) => {\n    tracker[index].override = value;\n    // works ... setTracker(tracker);\n    setTracker([...tracker]);\n  };\n\n  const createDuplicate = (index: number) => {\n    const original = tracker[index].override;\n    const order = tracker.length;\n    const anOverride: OverrideItemType = {\n      label: `${original.label} Copy`,\n      enabled: original.enabled,\n      metricName: original.metricName,\n      alias: original.alias,\n      thresholds: original.thresholds,\n      prefix: original.prefix,\n      suffix: original.suffix,\n      clickThrough: original.clickThrough,\n      clickThroughOpenNewTab: original.clickThroughOpenNewTab,\n      clickThroughSanitize: original.clickThroughSanitize,\n      clickThroughCustomTargetEnabled: original.clickThroughCustomTargetEnabled,\n      clickThroughCustomTarget: original.clickThroughCustomTarget,\n      showTimestampEnabled: false,\n      showTimestampFormat: ShowTimestampFormats[0].value,\n      showTimestampYOffset: 0,\n      unitFormat: original.unitFormat,\n      scaledDecimals: original.scaledDecimals,\n      decimals: original.decimals,\n      colors: original.colors,\n      operatorName: original.operatorName,\n      order: order,\n    };\n    const aTracker: OverrideItemTracker = {\n      override: anOverride,\n      order: order,\n      ID: UUIdv4(),\n    };\n    setTracker([...tracker, aTracker]);\n    setIsOpen([...isOpen, true]);\n  };\n\n  // generic move\n  const arrayMove = (arr: any, oldIndex: number, newIndex: number) => {\n    if (newIndex >= arr.length) {\n      let k = newIndex - arr.length + 1;\n      while (k--) {\n        arr.push(undefined);\n      }\n    }\n    arr.splice(newIndex, 0, arr.splice(oldIndex, 1)[0]);\n  };\n\n  const moveDown = (index: number) => {\n    if (index !== tracker.length - 1) {\n      arrayMove(tracker, index, index + 1);\n      // reorder\n      for (let i = 0; i < tracker.length; i++) {\n        tracker[i].order = i;\n        tracker[i].override.order = i;\n      }\n      setTracker([...tracker]);\n    }\n  };\n\n  const moveUp = (index: number) => {\n    if (index > 0) {\n      arrayMove(tracker, index, index - 1);\n      // reorder\n      for (let i = 0; i < tracker.length; i++) {\n        tracker[i].order = i;\n        tracker[i].override.order = i;\n      }\n      setTracker([...tracker]);\n    }\n  };\n\n  const removeOverride = (index: number) => {\n    const allOverrides = [...tracker];\n    let removeIndex = 0;\n    for (let i = 0; i < allOverrides.length; i++) {\n      if (allOverrides[i].order === index) {\n        removeIndex = i;\n        break;\n      }\n    }\n    allOverrides.splice(removeIndex, 1);\n    // reorder\n    for (let i = 0; i < allOverrides.length; i++) {\n      allOverrides[i].order = i;\n      allOverrides[i].override.order = i;\n    }\n    setTracker([...allOverrides]);\n  };\n\n  const toggleOpener = (index: number) => {\n    const currentState = [...isOpen];\n    currentState[index] = !currentState[index];\n    setIsOpen([...currentState]);\n  };\n\n  const addItem = () => {\n    const order = tracker.length;\n    const anOverride: OverrideItemType = {\n      label: `Override-${order}`,\n      enabled: true,\n      metricName: '',\n      alias: '',\n      thresholds: [] as PolystatThreshold[],\n      prefix: '',\n      suffix: '',\n      clickThrough: '',\n      clickThroughOpenNewTab: true,\n      clickThroughSanitize: true,\n      clickThroughCustomTargetEnabled: false,\n      clickThroughCustomTarget: '',\n      showTimestampEnabled: false,\n      showTimestampFormat: ShowTimestampFormats[0].value,\n      showTimestampYOffset: 0,\n      unitFormat: 'short',\n      scaledDecimals: null,\n      decimals: '2',\n      colors: [\n        DEFAULT_OK_COLOR_HEX,\n        DEFAULT_WARNING_COLOR_HEX,\n        DEFAULT_CRITICAL_COLOR_HEX,\n        DEFAULT_NO_THRESHOLD_COLOR_HEX,\n      ],\n      operatorName: OperatorOptions[0].value,\n      order: order,\n    };\n    const aTracker: OverrideItemTracker = {\n      override: anOverride,\n      order: order,\n      ID: UUIdv4(),\n    };\n    setTracker([...tracker, aTracker]);\n    // add an opener also\n    setIsOpen([...isOpen, true]);\n  };\n\n  return (\n    <>\n      <Button fill=\"solid\" variant=\"primary\" icon=\"plus\" onClick={addItem}>\n        Add Override\n      </Button>\n      {tracker &&\n        tracker.map((tracker: OverrideItemTracker, index: number) => {\n          return (\n            <Collapse\n              key={`collapse-item-index-${tracker.ID}`}\n              label={tracker.override.label}\n              isOpen={isOpen[index]}\n              onToggle={() => toggleOpener(index)}\n              collapsible\n            >\n              <OverrideItem\n                key={`override-item-index-${tracker.ID}`}\n                ID={tracker.ID}\n                override={tracker.override}\n                enabled={tracker.override.enabled}\n                setter={updateOverride}\n                remover={removeOverride}\n                moveDown={moveDown}\n                moveUp={moveUp}\n                createDuplicate={createDuplicate}\n                context={context}\n              />\n            </Collapse>\n          );\n        })}\n    </>\n  );\n};\n","var thirdPi = Math.PI / 3,\n    angles = [0, thirdPi, 2 * thirdPi, 3 * thirdPi, 4 * thirdPi, 5 * thirdPi];\n\nfunction pointX(d) {\n  return d[0];\n}\n\nfunction pointY(d) {\n  return d[1];\n}\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1,\n      x = pointX,\n      y = pointY,\n      r,\n      dx,\n      dy;\n\n  function hexbin(points) {\n    var binsById = {}, bins = [], i, n = points.length;\n\n    for (i = 0; i < n; ++i) {\n      if (isNaN(px = +x.call(null, point = points[i], i, points))\n          || isNaN(py = +y.call(null, point, i, points))) continue;\n\n      var point,\n          px,\n          py,\n          pj = Math.round(py = py / dy),\n          pi = Math.round(px = px / dx - (pj & 1) / 2),\n          py1 = py - pj;\n\n      if (Math.abs(py1) * 3 > 1) {\n        var px1 = px - pi,\n            pi2 = pi + (px < pi ? -1 : 1) / 2,\n            pj2 = pj + (py < pj ? -1 : 1),\n            px2 = px - pi2,\n            py2 = py - pj2;\n        if (px1 * px1 + py1 * py1 > px2 * px2 + py2 * py2) pi = pi2 + (pj & 1 ? 1 : -1) / 2, pj = pj2;\n      }\n\n      var id = pi + \"-\" + pj, bin = binsById[id];\n      if (bin) bin.push(point);\n      else {\n        bins.push(bin = binsById[id] = [point]);\n        bin.x = (pi + (pj & 1) / 2) * dx;\n        bin.y = pj * dy;\n      }\n    }\n\n    return bins;\n  }\n\n  function hexagon(radius) {\n    var x0 = 0, y0 = 0;\n    return angles.map(function(angle) {\n      var x1 = Math.sin(angle) * radius,\n          y1 = -Math.cos(angle) * radius,\n          dx = x1 - x0,\n          dy = y1 - y0;\n      x0 = x1, y0 = y1;\n      return [dx, dy];\n    });\n  }\n\n  hexbin.hexagon = function(radius) {\n    return \"m\" + hexagon(radius == null ? r : +radius).join(\"l\") + \"z\";\n  };\n\n  hexbin.centers = function() {\n    var centers = [],\n        j = Math.round(y0 / dy),\n        i = Math.round(x0 / dx);\n    for (var y = j * dy; y < y1 + r; y += dy, ++j) {\n      for (var x = i * dx + (j & 1) * dx / 2; x < x1 + dx / 2; x += dx) {\n        centers.push([x, y]);\n      }\n    }\n    return centers;\n  };\n\n  hexbin.mesh = function() {\n    var fragment = hexagon(r).slice(0, 4).join(\"l\");\n    return hexbin.centers().map(function(p) { return \"M\" + p + \"m\" + fragment; }).join(\"\");\n  };\n\n  hexbin.x = function(_) {\n    return arguments.length ? (x = _, hexbin) : x;\n  };\n\n  hexbin.y = function(_) {\n    return arguments.length ? (y = _, hexbin) : y;\n  };\n\n  hexbin.radius = function(_) {\n    return arguments.length ? (r = +_, dx = r * 2 * Math.sin(thirdPi), dy = r * 1.5, hexbin) : r;\n  };\n\n  hexbin.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], hexbin) : [x1 - x0, y1 - y0];\n  };\n\n  hexbin.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], hexbin) : [[x0, y0], [x1, y1]];\n  };\n\n  return hexbin.radius(1);\n}\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\nfunction getSideAxis(placement) {\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nconst lrPlacement = ['left', 'right'];\nconst rlPlacement = ['right', 'left'];\nconst tbPlacement = ['top', 'bottom'];\nconst btPlacement = ['bottom', 'top'];\nfunction getSideList(side, isStart, rtl) {\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\n      return isStart ? lrPlacement : rlPlacement;\n    case 'left':\n    case 'right':\n      return isStart ? tbPlacement : btPlacement;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => d.overflows[0] > 0 && getSideAxis(d.placement) === initialSideAxis)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\n}\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\nfunction isTableElement(element) {\n  return tableElements.has(getNodeName(element));\n}\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (_e) {\n      return false;\n    }\n  });\n}\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\nconst containValues = ['paint', 'layout', 'strict', 'content'];\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\nfunction isLastTraversableNode(node) {\n  return lastTraversableNodeNames.has(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n","import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll, ignoreScrollbarX) {\n  if (ignoreScrollbarX === void 0) {\n    ignoreScrollbarX = false;\n  }\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - (ignoreScrollbarX ? 0 :\n  // RTL <body> scrollbar.\n  getWindowScrollBarX(documentElement, htmlRect));\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll, true) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n","/*\n* React Tooltip\n* {@link https://github.com/ReactTooltip/react-tooltip}\n* @copyright ReactTooltip Team\n* @license MIT\n*/\nimport e,{useLayoutEffect as t,useEffect as o,createContext as l,useState as r,useCallback as n,useMemo as i,useContext as c,useRef as s,useImperativeHandle as a}from\"react\";import{arrow as u,computePosition as d,offset as p,flip as v,shift as m,autoUpdate as f}from\"@floating-ui/dom\";import y from\"classnames\";const h=\"react-tooltip-core-styles\",w=\"react-tooltip-base-styles\",b={core:!1,base:!1};function S({css:e,id:t=w,type:o=\"base\",ref:l}){var r,n;if(!e||\"undefined\"==typeof document||b[o])return;if(\"core\"===o&&\"undefined\"!=typeof process&&(null===(r=null===process||void 0===process?void 0:process.env)||void 0===r?void 0:r.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if(\"base\"!==o&&\"undefined\"!=typeof process&&(null===(n=null===process||void 0===process?void 0:process.env)||void 0===n?void 0:n.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;\"core\"===o&&(t=h),l||(l={});const{insertAt:i}=l;if(document.getElementById(t))return;const c=document.head||document.getElementsByTagName(\"head\")[0],s=document.createElement(\"style\");s.id=t,s.type=\"text/css\",\"top\"===i&&c.firstChild?c.insertBefore(s,c.firstChild):c.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),b[o]=!0}function g({type:e=\"base\",id:t=w}={}){if(!b[e])return;\"core\"===e&&(t=h);const o=document.getElementById(t);\"style\"===(null==o?void 0:o.tagName)?null==o||o.remove():console.warn(`[react-tooltip] Failed to remove 'style' element with id '${t}'. Call \\`injectStyle()\\` first`),b[e]=!1}const E=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:o=null,place:l=\"top\",offset:r=10,strategy:n=\"absolute\",middlewares:i=[p(Number(r)),v({fallbackAxisSideDirection:\"start\"}),m({padding:5})],border:c,arrowSize:s=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:l};if(null===t)return{tooltipStyles:{},tooltipArrowStyles:{},place:l};const a=i;return o?(a.push(u({element:o,padding:5})),d(e,t,{placement:l,strategy:n,middleware:a}).then((({x:e,y:t,placement:o,middlewareData:l})=>{var r,n;const i={left:`${e}px`,top:`${t}px`,border:c},{x:a,y:u}=null!==(r=l.arrow)&&void 0!==r?r:{x:0,y:0},d=null!==(n={top:\"bottom\",right:\"left\",bottom:\"top\",left:\"right\"}[o.split(\"-\")[0]])&&void 0!==n?n:\"bottom\",p=c&&{borderBottom:c,borderRight:c};let v=0;if(c){const e=`${c}`.match(/(\\d+)px/);v=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:i,tooltipArrowStyles:{left:null!=a?`${a}px`:\"\",top:null!=u?`${u}px`:\"\",right:\"\",bottom:\"\",...p,[d]:`-${s/2+v}px`},place:o}}))):d(e,t,{placement:\"bottom\",strategy:n,middleware:a}).then((({x:e,y:t,placement:o})=>({tooltipStyles:{left:`${e}px`,top:`${t}px`},tooltipArrowStyles:{},place:o})))},A=(e,t)=>!(\"CSS\"in window&&\"supports\"in window.CSS)||window.CSS.supports(e,t),_=(e,t,o)=>{let l=null;const r=function(...r){const n=()=>{l=null,o||e.apply(this,r)};o&&!l&&(e.apply(this,r),l=setTimeout(n,t)),o||(l&&clearTimeout(l),l=setTimeout(n,t))};return r.cancel=()=>{l&&(clearTimeout(l),l=null)},r},O=e=>null!==e&&!Array.isArray(e)&&\"object\"==typeof e,k=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,o)=>k(e,t[o])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!O(e)||!O(t))return e===t;const o=Object.keys(e),l=Object.keys(t);return o.length===l.length&&o.every((o=>k(e[o],t[o])))},T=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return[\"overflow\",\"overflow-x\",\"overflow-y\"].some((e=>{const o=t.getPropertyValue(e);return\"auto\"===o||\"scroll\"===o}))},L=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(T(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},C=\"undefined\"!=typeof window?t:o,R=e=>{e.current&&(clearTimeout(e.current),e.current=null)},x=\"DEFAULT_TOOLTIP_ID\",N={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},$=l({getTooltipData:()=>N}),I=({children:t})=>{const[o,l]=r({[x]:new Set}),[c,s]=r({[x]:{current:null}}),a=(e,...t)=>{l((o=>{var l;const r=null!==(l=o[e])&&void 0!==l?l:new Set;return t.forEach((e=>r.add(e))),{...o,[e]:new Set(r)}}))},u=(e,...t)=>{l((o=>{const l=o[e];return l?(t.forEach((e=>l.delete(e))),{...o}):o}))},d=n(((e=x)=>{var t,l;return{anchorRefs:null!==(t=o[e])&&void 0!==t?t:new Set,activeAnchor:null!==(l=c[e])&&void 0!==l?l:{current:null},attach:(...t)=>a(e,...t),detach:(...t)=>u(e,...t),setActiveAnchor:t=>((e,t)=>{s((o=>{var l;return(null===(l=o[e])||void 0===l?void 0:l.current)===t.current?o:{...o,[e]:t}}))})(e,t)}}),[o,c,a,u]),p=i((()=>({getTooltipData:d})),[d]);return e.createElement($.Provider,{value:p},t)};function z(e=x){return c($).getTooltipData(e)}const j=({tooltipId:t,children:l,className:r,place:n,content:i,html:c,variant:a,offset:u,wrapper:d,events:p,positionStrategy:v,delayShow:m,delayHide:f})=>{const{attach:h,detach:w}=z(t),b=s(null);return o((()=>(h(b),()=>{w(b)})),[]),e.createElement(\"span\",{ref:b,className:y(\"react-tooltip-wrapper\",r),\"data-tooltip-place\":n,\"data-tooltip-content\":i,\"data-tooltip-html\":c,\"data-tooltip-variant\":a,\"data-tooltip-offset\":u,\"data-tooltip-wrapper\":d,\"data-tooltip-events\":p,\"data-tooltip-position-strategy\":v,\"data-tooltip-delay-show\":m,\"data-tooltip-delay-hide\":f},l)};var B={tooltip:\"core-styles-module_tooltip__3vRRp\",fixed:\"core-styles-module_fixed__pcSol\",arrow:\"core-styles-module_arrow__cvMwQ\",noArrow:\"core-styles-module_noArrow__xock6\",clickable:\"core-styles-module_clickable__ZuTTB\",show:\"core-styles-module_show__Nt9eE\",closing:\"core-styles-module_closing__sGnxF\"},D={tooltip:\"styles-module_tooltip__mnnfp\",arrow:\"styles-module_arrow__K0L3T\",dark:\"styles-module_dark__xNqje\",light:\"styles-module_light__Z6W-X\",success:\"styles-module_success__A2AKt\",warning:\"styles-module_warning__SCK0X\",error:\"styles-module_error__JvumD\",info:\"styles-module_info__BWdHW\"};const q=({forwardRef:t,id:l,className:i,classNameArrow:c,variant:u=\"dark\",anchorId:d,anchorSelect:p,place:v=\"top\",offset:m=10,events:h=[\"hover\"],openOnClick:w=!1,positionStrategy:b=\"absolute\",middlewares:S,wrapper:g,delayShow:A=0,delayHide:O=0,float:T=!1,hidden:x=!1,noArrow:N=!1,clickable:$=!1,closeOnEsc:I=!1,closeOnScroll:j=!1,closeOnResize:q=!1,openEvents:H,closeEvents:M,globalCloseEvents:W,imperativeModeOnly:P,style:V,position:F,afterShow:K,afterHide:U,disableTooltip:X,content:Y,contentWrapperRef:G,isOpen:Z,defaultIsOpen:J=!1,setIsOpen:Q,activeAnchor:ee,setActiveAnchor:te,border:oe,opacity:le,arrowColor:re,arrowSize:ne=8,role:ie=\"tooltip\"})=>{var ce;const se=s(null),ae=s(null),ue=s(null),de=s(null),pe=s(null),[ve,me]=r({tooltipStyles:{},tooltipArrowStyles:{},place:v}),[fe,ye]=r(!1),[he,we]=r(!1),[be,Se]=r(null),ge=s(!1),Ee=s(null),{anchorRefs:Ae,setActiveAnchor:_e}=z(l),Oe=s(!1),[ke,Te]=r([]),Le=s(!1),Ce=w||h.includes(\"click\"),Re=Ce||(null==H?void 0:H.click)||(null==H?void 0:H.dblclick)||(null==H?void 0:H.mousedown),xe=H?{...H}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!H&&Ce&&Object.assign(xe,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Ne=M?{...M}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!M&&Ce&&Object.assign(Ne,{mouseleave:!1,blur:!1,mouseout:!1});const $e=W?{...W}:{escape:I||!1,scroll:j||!1,resize:q||!1,clickOutsideAnchor:Re||!1};P&&(Object.assign(xe,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Ne,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign($e,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),C((()=>(Le.current=!0,()=>{Le.current=!1})),[]);const Ie=e=>{Le.current&&(e&&we(!0),setTimeout((()=>{Le.current&&(null==Q||Q(e),void 0===Z&&ye(e))}),10))};o((()=>{if(void 0===Z)return()=>null;Z&&we(!0);const e=setTimeout((()=>{ye(Z)}),10);return()=>{clearTimeout(e)}}),[Z]),o((()=>{if(fe!==ge.current)if(R(pe),ge.current=fe,fe)null==K||K();else{const e=(e=>{const t=e.match(/^([\\d.]+)(ms|s)$/);if(!t)return 0;const[,o,l]=t;return Number(o)*(\"ms\"===l?1:1e3)})(getComputedStyle(document.body).getPropertyValue(\"--rt-transition-show-delay\"));pe.current=setTimeout((()=>{we(!1),Se(null),null==U||U()}),e+25)}}),[fe]);const ze=e=>{me((t=>k(t,e)?t:e))},je=(e=A)=>{R(ue),he?Ie(!0):ue.current=setTimeout((()=>{Ie(!0)}),e)},Be=(e=O)=>{R(de),de.current=setTimeout((()=>{Oe.current||Ie(!1)}),e)},De=e=>{var t;if(!e)return;const o=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==o?void 0:o.isConnected))return te(null),void _e({current:null});A?je():Ie(!0),te(o),_e({current:o}),R(de)},qe=()=>{$?Be(O||100):O?Be():Ie(!1),R(ue)},He=({x:e,y:t})=>{var o;const l={getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,left:e,right:e,bottom:t})};E({place:null!==(o=null==be?void 0:be.place)&&void 0!==o?o:v,offset:m,elementReference:l,tooltipReference:se.current,tooltipArrowReference:ae.current,strategy:b,middlewares:S,border:oe,arrowSize:ne}).then((e=>{ze(e)}))},Me=e=>{if(!e)return;const t=e,o={x:t.clientX,y:t.clientY};He(o),Ee.current=o},We=e=>{var t;if(!fe)return;const o=e.target;if(!o.isConnected)return;if(null===(t=se.current)||void 0===t?void 0:t.contains(o))return;[document.querySelector(`[id='${d}']`),...ke].some((e=>null==e?void 0:e.contains(o)))||(Ie(!1),R(ue))},Pe=_(De,50,!0),Ve=_(qe,50,!0),Fe=e=>{Ve.cancel(),Pe(e)},Ke=()=>{Pe.cancel(),Ve()},Ue=n((()=>{var e,t;const o=null!==(e=null==be?void 0:be.position)&&void 0!==e?e:F;o?He(o):T?Ee.current&&He(Ee.current):(null==ee?void 0:ee.isConnected)&&E({place:null!==(t=null==be?void 0:be.place)&&void 0!==t?t:v,offset:m,elementReference:ee,tooltipReference:se.current,tooltipArrowReference:ae.current,strategy:b,middlewares:S,border:oe,arrowSize:ne}).then((e=>{Le.current&&ze(e)}))}),[fe,ee,Y,V,v,null==be?void 0:be.place,m,b,F,null==be?void 0:be.position,T,ne]);o((()=>{var e,t;const o=new Set(Ae);ke.forEach((e=>{(null==X?void 0:X(e))||o.add({current:e})}));const l=document.querySelector(`[id='${d}']`);l&&!(null==X?void 0:X(l))&&o.add({current:l});const r=()=>{Ie(!1)},n=L(ee),i=L(se.current);$e.scroll&&(window.addEventListener(\"scroll\",r),null==n||n.addEventListener(\"scroll\",r),null==i||i.addEventListener(\"scroll\",r));let c=null;$e.resize?window.addEventListener(\"resize\",r):ee&&se.current&&(c=f(ee,se.current,Ue,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const s=e=>{\"Escape\"===e.key&&Ie(!1)};$e.escape&&window.addEventListener(\"keydown\",s),$e.clickOutsideAnchor&&window.addEventListener(\"click\",We);const a=[],u=e=>Boolean((null==e?void 0:e.target)&&(null==ee?void 0:ee.contains(e.target))),p=e=>{fe&&u(e)||De(e)},v=e=>{fe&&u(e)&&qe()},m=[\"mouseover\",\"mouseout\",\"mouseenter\",\"mouseleave\",\"focus\",\"blur\"],y=[\"click\",\"dblclick\",\"mousedown\",\"mouseup\"];Object.entries(xe).forEach((([e,t])=>{t&&(m.includes(e)?a.push({event:e,listener:Fe}):y.includes(e)&&a.push({event:e,listener:p}))})),Object.entries(Ne).forEach((([e,t])=>{t&&(m.includes(e)?a.push({event:e,listener:Ke}):y.includes(e)&&a.push({event:e,listener:v}))})),T&&a.push({event:\"pointermove\",listener:Me});const h=()=>{Oe.current=!0},w=()=>{Oe.current=!1,qe()},b=$&&(Ne.mouseout||Ne.mouseleave);return b&&(null===(e=se.current)||void 0===e||e.addEventListener(\"mouseover\",h),null===(t=se.current)||void 0===t||t.addEventListener(\"mouseout\",w)),a.forEach((({event:e,listener:t})=>{o.forEach((o=>{var l;null===(l=o.current)||void 0===l||l.addEventListener(e,t)}))})),()=>{var e,t;$e.scroll&&(window.removeEventListener(\"scroll\",r),null==n||n.removeEventListener(\"scroll\",r),null==i||i.removeEventListener(\"scroll\",r)),$e.resize?window.removeEventListener(\"resize\",r):null==c||c(),$e.clickOutsideAnchor&&window.removeEventListener(\"click\",We),$e.escape&&window.removeEventListener(\"keydown\",s),b&&(null===(e=se.current)||void 0===e||e.removeEventListener(\"mouseover\",h),null===(t=se.current)||void 0===t||t.removeEventListener(\"mouseout\",w)),a.forEach((({event:e,listener:t})=>{o.forEach((o=>{var l;null===(l=o.current)||void 0===l||l.removeEventListener(e,t)}))}))}}),[ee,Ue,he,Ae,ke,H,M,W,Ce,A,O]),o((()=>{var e,t;let o=null!==(t=null!==(e=null==be?void 0:be.anchorSelect)&&void 0!==e?e:p)&&void 0!==t?t:\"\";!o&&l&&(o=`[data-tooltip-id='${l.replace(/'/g,\"\\\\'\")}']`);const r=new MutationObserver((e=>{const t=[],r=[];e.forEach((e=>{if(\"attributes\"===e.type&&\"data-tooltip-id\"===e.attributeName){e.target.getAttribute(\"data-tooltip-id\")===l?t.push(e.target):e.oldValue===l&&r.push(e.target)}if(\"childList\"===e.type){if(ee){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(o)try{r.push(...t.filter((e=>e.matches(o)))),r.push(...t.flatMap((e=>[...e.querySelectorAll(o)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,ee))&&(we(!1),Ie(!1),te(null),R(ue),R(de),!0)}))}if(o)try{const l=[...e.addedNodes].filter((e=>1===e.nodeType));t.push(...l.filter((e=>e.matches(o)))),t.push(...l.flatMap((e=>[...e.querySelectorAll(o)])))}catch(e){}}})),(t.length||r.length)&&Te((e=>[...e.filter((e=>!r.includes(e))),...t]))}));return r.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"data-tooltip-id\"],attributeOldValue:!0}),()=>{r.disconnect()}}),[l,p,null==be?void 0:be.anchorSelect,ee]),o((()=>{Ue()}),[Ue]),o((()=>{if(!(null==G?void 0:G.current))return()=>null;const e=new ResizeObserver((()=>{setTimeout((()=>Ue()))}));return e.observe(G.current),()=>{e.disconnect()}}),[Y,null==G?void 0:G.current]),o((()=>{var e;const t=document.querySelector(`[id='${d}']`),o=[...ke,t];ee&&o.includes(ee)||te(null!==(e=ke[0])&&void 0!==e?e:t)}),[d,ke,ee]),o((()=>(J&&Ie(!0),()=>{R(ue),R(de)})),[]),o((()=>{var e;let t=null!==(e=null==be?void 0:be.anchorSelect)&&void 0!==e?e:p;if(!t&&l&&(t=`[data-tooltip-id='${l.replace(/'/g,\"\\\\'\")}']`),t)try{const e=Array.from(document.querySelectorAll(t));Te(e)}catch(e){Te([])}}),[l,p,null==be?void 0:be.anchorSelect]),o((()=>{ue.current&&(R(ue),je(A))}),[A]);const Xe=null!==(ce=null==be?void 0:be.content)&&void 0!==ce?ce:Y,Ye=fe&&Object.keys(ve.tooltipStyles).length>0;return a(t,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] \"${e.anchorSelect}\" is not a valid CSS selector`)}Se(null!=e?e:null),(null==e?void 0:e.delay)?je(e.delay):Ie(!0)},close:e=>{(null==e?void 0:e.delay)?Be(e.delay):Ie(!1)},activeAnchor:ee,place:ve.place,isOpen:Boolean(he&&!x&&Xe&&Ye)}))),he&&!x&&Xe?e.createElement(g,{id:l,role:ie,className:y(\"react-tooltip\",B.tooltip,D.tooltip,D[u],i,`react-tooltip__place-${ve.place}`,B[Ye?\"show\":\"closing\"],Ye?\"react-tooltip__show\":\"react-tooltip__closing\",\"fixed\"===b&&B.fixed,$&&B.clickable),onTransitionEnd:e=>{R(pe),fe||\"opacity\"!==e.propertyName||(we(!1),Se(null),null==U||U())},style:{...V,...ve.tooltipStyles,opacity:void 0!==le&&Ye?le:void 0},ref:se},Xe,e.createElement(g,{className:y(\"react-tooltip-arrow\",B.arrow,D.arrow,c,N&&B.noArrow),style:{...ve.tooltipArrowStyles,background:re?`linear-gradient(to right bottom, transparent 50%, ${re} 50%)`:void 0,\"--rt-arrow-size\":`${ne}px`},ref:ae})):null},H=({content:t})=>e.createElement(\"span\",{dangerouslySetInnerHTML:{__html:t}}),M=e.forwardRef((({id:t,anchorId:l,anchorSelect:n,content:i,html:c,render:a,className:u,classNameArrow:d,variant:p=\"dark\",place:v=\"top\",offset:m=10,wrapper:f=\"div\",children:h=null,events:w=[\"hover\"],openOnClick:b=!1,positionStrategy:S=\"absolute\",middlewares:g,delayShow:E=0,delayHide:_=0,float:O=!1,hidden:k=!1,noArrow:T=!1,clickable:L=!1,closeOnEsc:C=!1,closeOnScroll:R=!1,closeOnResize:x=!1,openEvents:N,closeEvents:$,globalCloseEvents:I,imperativeModeOnly:j=!1,style:B,position:D,isOpen:M,defaultIsOpen:W=!1,disableStyleInjection:P=!1,border:V,opacity:F,arrowColor:K,arrowSize:U,setIsOpen:X,afterShow:Y,afterHide:G,disableTooltip:Z,role:J=\"tooltip\"},Q)=>{const[ee,te]=r(i),[oe,le]=r(c),[re,ne]=r(v),[ie,ce]=r(p),[se,ae]=r(m),[ue,de]=r(E),[pe,ve]=r(_),[me,fe]=r(O),[ye,he]=r(k),[we,be]=r(f),[Se,ge]=r(w),[Ee,Ae]=r(S),[_e,Oe]=r(null),[ke,Te]=r(null),Le=s(P),{anchorRefs:Ce,activeAnchor:Re}=z(t),xe=e=>null==e?void 0:e.getAttributeNames().reduce(((t,o)=>{var l;if(o.startsWith(\"data-tooltip-\")){t[o.replace(/^data-tooltip-/,\"\")]=null!==(l=null==e?void 0:e.getAttribute(o))&&void 0!==l?l:null}return t}),{}),Ne=e=>{const t={place:e=>{var t;ne(null!==(t=e)&&void 0!==t?t:v)},content:e=>{te(null!=e?e:i)},html:e=>{le(null!=e?e:c)},variant:e=>{var t;ce(null!==(t=e)&&void 0!==t?t:p)},offset:e=>{ae(null===e?m:Number(e))},wrapper:e=>{var t;be(null!==(t=e)&&void 0!==t?t:f)},events:e=>{const t=null==e?void 0:e.split(\" \");ge(null!=t?t:w)},\"position-strategy\":e=>{var t;Ae(null!==(t=e)&&void 0!==t?t:S)},\"delay-show\":e=>{de(null===e?E:Number(e))},\"delay-hide\":e=>{ve(null===e?_:Number(e))},float:e=>{fe(null===e?O:\"true\"===e)},hidden:e=>{he(null===e?k:\"true\"===e)},\"class-name\":e=>{Oe(e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((([e,o])=>{var l;null===(l=t[e])||void 0===l||l.call(t,o)}))};o((()=>{te(i)}),[i]),o((()=>{le(c)}),[c]),o((()=>{ne(v)}),[v]),o((()=>{ce(p)}),[p]),o((()=>{ae(m)}),[m]),o((()=>{de(E)}),[E]),o((()=>{ve(_)}),[_]),o((()=>{fe(O)}),[O]),o((()=>{he(k)}),[k]),o((()=>{Ae(S)}),[S]),o((()=>{Le.current!==P&&console.warn(\"[react-tooltip] Do not change `disableStyleInjection` dynamically.\")}),[P]),o((()=>{\"undefined\"!=typeof window&&window.dispatchEvent(new CustomEvent(\"react-tooltip-inject-styles\",{detail:{disableCore:\"core\"===P,disableBase:P}}))}),[]),o((()=>{var e;const o=new Set(Ce);let r=n;if(!r&&t&&(r=`[data-tooltip-id='${t.replace(/'/g,\"\\\\'\")}']`),r)try{document.querySelectorAll(r).forEach((e=>{o.add({current:e})}))}catch(e){console.warn(`[react-tooltip] \"${r}\" is not a valid CSS selector`)}const i=document.querySelector(`[id='${l}']`);if(i&&o.add({current:i}),!o.size)return()=>null;const c=null!==(e=null!=ke?ke:i)&&void 0!==e?e:Re.current,s=new MutationObserver((e=>{e.forEach((e=>{var t;if(!c||\"attributes\"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith(\"data-tooltip-\")))return;const o=xe(c);Ne(o)}))})),a={attributes:!0,childList:!1,subtree:!1};if(c){const e=xe(c);Ne(e),s.observe(c,a)}return()=>{s.disconnect()}}),[Ce,Re,ke,l,n]),o((()=>{(null==B?void 0:B.border)&&console.warn(\"[react-tooltip] Do not set `style.border`. Use `border` prop instead.\"),V&&!A(\"border\",`${V}`)&&console.warn(`[react-tooltip] \"${V}\" is not a valid \\`border\\`.`),(null==B?void 0:B.opacity)&&console.warn(\"[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead.\"),F&&!A(\"opacity\",`${F}`)&&console.warn(`[react-tooltip] \"${F}\" is not a valid \\`opacity\\`.`)}),[]);let $e=h;const Ie=s(null);if(a){const t=a({content:(null==ke?void 0:ke.getAttribute(\"data-tooltip-content\"))||ee||null,activeAnchor:ke});$e=t?e.createElement(\"div\",{ref:Ie,className:\"react-tooltip-content-wrapper\"},t):null}else ee&&($e=ee);oe&&($e=e.createElement(H,{content:oe}));const ze={forwardRef:Q,id:t,anchorId:l,anchorSelect:n,className:y(u,_e),classNameArrow:d,content:$e,contentWrapperRef:Ie,place:re,variant:ie,offset:se,wrapper:we,events:Se,openOnClick:b,positionStrategy:Ee,middlewares:g,delayShow:ue,delayHide:pe,float:me,hidden:ye,noArrow:T,clickable:L,closeOnEsc:C,closeOnScroll:R,closeOnResize:x,openEvents:N,closeEvents:$,globalCloseEvents:I,imperativeModeOnly:j,style:B,position:D,isOpen:M,defaultIsOpen:W,border:V,opacity:F,arrowColor:K,arrowSize:U,setIsOpen:X,afterShow:Y,afterHide:G,disableTooltip:Z,activeAnchor:ke,setActiveAnchor:e=>Te(e),role:J};return e.createElement(q,{...ze})}));\"undefined\"!=typeof window&&window.addEventListener(\"react-tooltip-inject-styles\",(e=>{e.detail.disableCore||S({css:`:root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}`,type:\"core\"}),e.detail.disableBase||S({css:`\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:\"base\"})}));export{M as Tooltip,I as TooltipProvider,j as TooltipWrapper,g as removeStyle};\n","import { DEFAULT_CRITICAL_COLOR, DEFAULT_OK_COLOR, DEFAULT_WARNING_COLOR } from '../defaults';\nimport React from 'react';\n\nimport { Color } from './color';\n\nexport interface GradientProps {\n  data: any;\n  gradientId: string;\n}\nexport const Gradients: React.FC<GradientProps> = (options) => {\n  const pureLight = new Color(255, 255, 255);\n\n  const createGradients = (data: any): any => {\n    const gradients = [];\n    const pureLight = new Color(255, 255, 255);\n    for (let i = 0; i < data.length; i++) {\n      const aColorStart = new Color(0, 0, 0);\n      // color can be in hex or in rgb\n      let useColor: string = data[i].color;\n      if (useColor.startsWith('rgba')) {\n        useColor = Color.RGBAToHex(useColor);\n      }\n      aColorStart.fromHex(useColor);\n      const aColorEnd = aColorStart.Mul(pureLight, 0.7);\n      gradients.push({ start: aColorStart.asHex(), end: aColorEnd.asHex() });\n    }\n    return gradients;\n  };\n  const colorGradients = createGradients(options.data);\n  const okColorStart = DEFAULT_OK_COLOR; // '#299c46', // \"rgba(50, 172, 45, 1)\", // green\n  const okColorEnd = okColorStart.Mul(pureLight, 0.7);\n  const warningColorStart = DEFAULT_WARNING_COLOR; // #FFC837 // '#e5ac0e', // \"rgba(237, 129, 40, 1)\", // yellow\n  const warningColorEnd = warningColorStart.Mul(pureLight, 0.7);\n  const criticalColorStart = DEFAULT_CRITICAL_COLOR; // #e52d27 // '#bf1b00', // \"rgba(245, 54, 54, 1)\", // red\n  const criticalColorEnd = criticalColorStart.Mul(pureLight, 0.7);\n\n  const gradientId = options.gradientId;\n  return (\n    <>\n      <defs>\n        {colorGradients.map((aGradient: any, index: number) => {\n          return (\n            <linearGradient\n              key={index}\n              id={gradientId + '_linear_gradient_state_data_' + index}\n              x1={'30%'}\n              y1={'30%'}\n              x2={'70%'}\n              y2={'70%'}\n            >\n              <stop offset={'0%'} stopColor={aGradient.start} />\n              <stop offset={'100%'} stopColor={aGradient.end} />\n            </linearGradient>\n          );\n        })}\n        <linearGradient id={gradientId + '_linear_gradient_state_ok'} x1={'30%'} y1={'30%'} x2={'70%'} y2={'70%'}>\n          <stop offset={'0%'} stopColor={okColorStart.asHex()} />\n          <stop offset={'100%'} stopColor={okColorEnd.asHex()} />\n        </linearGradient>\n        <linearGradient id={gradientId + '_linear_gradient_state_warning'} x1={'30%'} y1={'30%'} x2={'70%'} y2={'70%'}>\n          <stop offset={'0%'} stopColor={warningColorStart.asHex()} />\n          <stop offset={'100%'} stopColor={warningColorEnd.asHex()} />\n        </linearGradient>\n        <linearGradient id={gradientId + '_linear_gradient-state_critical'} x1={'30%'} y1={'30%'} x2={'70%'} y2={'70%'}>\n          <stop offset={'0%'} stopColor={criticalColorStart.asHex()} />\n          <stop offset={'100%'} stopColor={criticalColorEnd.asHex()} />\n        </linearGradient>\n        <linearGradient id={gradientId + '_linear_gradient_state_unknown'} x1={'30%'} y1={'30%'} x2={'70%'} y2={'70%'}>\n          <stop offset={'0%'} stopColor={'#73808A'} />\n          <stop offset={'100%'} stopColor={'#73808A'} />\n        </linearGradient>\n      </defs>\n    </>\n  );\n};\n","import * as d3 from 'd3';\nimport { PolygonShapes, PolystatDiameters } from '../types';\nimport { LayoutPoint } from './types';\n/**\n * LayoutManager creates layouts for supported polygon shapes\n */\nexport class LayoutManager {\n  width: number;\n  height: number;\n  numColumns: number;\n  numRows: number;\n  radius: number;\n  autoSize: boolean;\n  maxRowsUsed: number;\n  maxColumnsUsed: number;\n  displayLimit: number;\n  shape: PolygonShapes;\n  readonly SQRT3 = 1.7320508075688772;\n\n  constructor(\n    width: number,\n    height: number,\n    numColumns: number,\n    numRows: number,\n    displayLimit: number,\n    autoSize: boolean,\n    shape: PolygonShapes\n  ) {\n    this.width = width;\n    this.height = height;\n    // check for less than 1 or NaN, force to 8\n    if (numColumns < 1 || isNaN(numColumns)) {\n      this.numColumns = 8;\n    } else {\n      this.numColumns = numColumns;\n    }\n    // check for less than 1 or NaN, force to 8\n    if (numRows < 1 || isNaN(numRows)) {\n      this.numRows = 8;\n    } else {\n      this.numRows = numRows;\n    }\n\n    this.maxColumnsUsed = 0;\n    this.maxRowsUsed = 0;\n\n    // negative or NaN limit gets set to 100, 0 is allowed for unlimited\n    if (displayLimit < 0 || isNaN(displayLimit)) {\n      this.displayLimit = 100;\n    } else {\n      this.displayLimit = displayLimit;\n    }\n    this.shape = shape;\n    this.radius = 0;\n    this.autoSize = autoSize;\n  }\n\n  /**\n   * Sets the radius to be used in all layout calculations\n   *\n   * @param radius user defined value\n   */\n  setRadius(radius: number) {\n    this.radius = radius;\n  }\n  setHeight(height: number) {\n    this.height = height;\n  }\n  setWidth(width: number) {\n    this.width = width;\n  }\n  /**\n   * returns a layout for hexagons with pointed tops\n   */\n  generateHexagonPointedTopLayout(): any {\n    const layout = {};\n    this.radius = this.getHexFlatTopRadius();\n    return layout;\n  }\n\n  /**\n   * returns a layout for square-shapes\n   */\n  generateUniformLayout(): any {\n    const layout = {};\n    this.radius = this.getUniformRadius();\n    return layout;\n  }\n\n  /**\n   * The maximum radius the hexagons can have to still fit the screen\n   * With (long) radius being R:\n   *  - Total width (rows > 1) = 1 small radius (sqrt(3) * R / 2) + columns * small diameter (sqrt(3) * R)\n   *  - Total height = 1 pointy top (1/2 * R) + rows * size of the rest (3/2 * R)\n   */\n  getHexFlatTopRadius(): number {\n    const polygonBorderSize = 0; // TODO: borderRadius should be configurable and part of the config\n    let hexRadius = d3.min([\n      this.width / ((this.numColumns + 0.5) * this.SQRT3),\n      this.height / ((this.numRows + 1 / 3) * 1.5),\n    ]);\n    if (hexRadius !== undefined) {\n      hexRadius = hexRadius - polygonBorderSize;\n      return this.truncateFloat(hexRadius);\n    }\n    // default to a reasonable value (should not happen though)\n    return 40;\n  }\n\n  /**\n   * Helper method to return rendered width and height of hexagon shape\n   */\n  getHexFlatTopDiameters(): PolystatDiameters {\n    const hexRadius = this.getHexFlatTopRadius();\n    const diameterX = this.truncateFloat(hexRadius * this.SQRT3);\n    const diameterY = this.truncateFloat(hexRadius * 2);\n    return { diameterX, diameterY };\n  }\n\n  /**\n   * Helper method to return rendered width and height of a circle/square shapes\n   */\n  getUniformDiameters(): PolystatDiameters {\n    const radius = this.getUniformRadius();\n    const diameterX = radius * 2;\n    const diameterY = radius * 2;\n    return { diameterX, diameterY };\n  }\n  /**\n   * Given the number of columns and rows, calculate the maximum size of a uniform shaped polygon that can be used\n   *   uniformed shapes are: square/circle\n   * width divided by the number of columns determines the max horizontal of the square\n   * height divided by the number of rows determines the max vertical size of the square\n   * the smaller of the two is used since that is the \"best fit\" for a square\n   */\n  getUniformRadius(): number {\n    const polygonBorderSize = 0; // TODO: borderRadius should be configurable and part of the config\n    // width divided by the number of columns determines the max horizontal of the square\n    // height divided by the number of rows determines the max vertical size of the square\n    // the smaller of the two is used since that is the \"best fit\"\n    const horizontalMax = (this.width / this.maxColumnsUsed) * 0.5;\n    const verticalMax = (this.height / this.maxRowsUsed) * 0.5;\n    let uniformRadius = horizontalMax;\n    if (uniformRadius > verticalMax) {\n      // vertically limited\n      uniformRadius = verticalMax;\n    }\n    // internal border\n    uniformRadius = uniformRadius - polygonBorderSize;\n    return this.truncateFloat(uniformRadius);\n  }\n\n  generatePossibleColumnAndRowsSizes(columnAutoSize: boolean, rowAutoSize: boolean, displayLimit: number, dataSize: number) {\n    if (isNaN(displayLimit) || displayLimit < 0) {\n      displayLimit = 100;\n    }\n    let useLimit = displayLimit;\n    if ((displayLimit === 0) || (displayLimit > dataSize)) {\n      useLimit = dataSize;\n    }\n    if (rowAutoSize && columnAutoSize) {\n      // sqrt of # data items\n      const squared = Math.sqrt(useLimit);\n      // favor columns when width is greater than height\n      // favor rows when width is less than height\n      if (this.width > this.height) {\n        this.numColumns = Math.ceil((this.width / this.height) * squared * 0.75);\n        // always at least 1 column and max. data.length columns\n        if (this.numColumns < 1) {\n          this.numColumns = 1;\n        } else if (this.numColumns > useLimit) {\n          this.numColumns = useLimit;\n        }\n\n        // Align rows count to computed columns count\n        this.numRows = Math.ceil(useLimit / this.numColumns);\n        // always at least 1 row\n        if (this.numRows < 1) {\n          this.numRows = 1;\n        }\n      } else {\n        this.numRows = Math.ceil((this.height / this.width) * squared * 0.75);\n        // always at least 1 row and max. data.length rows\n        if (this.numRows < 1) {\n          this.numRows = 1;\n        } else if (this.numRows > useLimit) {\n          this.numRows = useLimit;\n        }\n        // Align columns count to computed rows count\n        this.numColumns = Math.ceil(useLimit / this.numRows);\n        // always at least 1 column\n        if (this.numColumns < 1) {\n          this.numColumns = 1;\n        }\n      }\n    } else if (rowAutoSize) {\n      // Align rows count to fixed columns count\n      this.numRows = Math.ceil(useLimit / this.numColumns);\n      // always at least 1 row\n      if (this.numRows < 1) {\n        this.numRows = 1;\n      }\n    } else if (columnAutoSize) {\n      // Align columns count to fixed rows count\n      this.numColumns = Math.ceil(useLimit / this.numRows);\n      // always at least 1 column\n      if (this.numColumns < 1) {\n        this.numColumns = 1;\n      }\n    }\n  }\n\n  /**\n   * This determines how many rows and columns are going to be rendered, which can then\n   * be used to calculate the radius size (which is needed before generating points)\n   * @param data metrics\n   * @param displayLimit max number of polygons to show\n   */\n  generateActualColumnAndRowUsage(data: any, displayLimit: number) {\n    let polygonsUsed = 0;\n    let maxRowsUsed = 0;\n    let columnsUsed = 0;\n    let maxColumnsUsed = 0;\n    for (let i = 0; i < this.numRows; i++) {\n      if ((!displayLimit || polygonsUsed < displayLimit) && polygonsUsed < data.length) {\n        maxRowsUsed += 1;\n        columnsUsed = 0;\n        for (let j = 0; j < this.numColumns; j++) {\n          if ((!displayLimit || polygonsUsed < displayLimit) && polygonsUsed < data.length) {\n            columnsUsed += 1;\n            // track the most number of columns\n            if (columnsUsed > maxColumnsUsed) {\n              maxColumnsUsed = columnsUsed;\n            }\n            polygonsUsed++;\n          }\n        }\n      }\n    }\n    this.maxRowsUsed = maxRowsUsed;\n    this.maxColumnsUsed = maxColumnsUsed;\n  }\n\n  shapeToCoordinates(shape: PolygonShapes, radius: number, column: number, row: number) {\n    switch (shape) {\n      case PolygonShapes.HEXAGON_POINTED_TOP:\n        let x = radius * column * this.SQRT3;\n        //Offset each uneven row by half of a \"hex-width\" to the right\n        if (row % 2 === 1) {\n          x += (radius * this.SQRT3) / 2;\n        }\n        const y = radius * row * 1.5;\n        return [x, y];\n      case PolygonShapes.CIRCLE:\n        return [radius * column * 2, radius * row * 2];\n      case PolygonShapes.SQUARE:\n        return [radius * column * 2, radius * row * 2];\n      default:\n        return [radius * column * 1.75, radius * row * 1.5];\n    }\n  }\n\n  // Builds the placeholder polygons needed to represent each metric\n  generatePoints(data: any, displayLimit: number, shape: PolygonShapes): LayoutPoint[] {\n    const points: LayoutPoint[] = [];\n    if (typeof data === 'undefined') {\n      return points;\n    }\n    let maxRowsUsed = 0;\n    let columnsUsed = 0;\n    let maxColumnsUsed = 0;\n    // when duplicating panels, this gets odd\n    if (this.numRows === Infinity) {\n      return points;\n    }\n    if (isNaN(this.numColumns)) {\n      return points;\n    }\n    for (let i = 0; i < this.numRows; i++) {\n      if ((!displayLimit || points.length < displayLimit) && points.length < data.length) {\n        maxRowsUsed += 1;\n        columnsUsed = 0;\n        for (let j = 0; j < this.numColumns; j++) {\n          if ((!displayLimit || points.length < displayLimit) && points.length < data.length) {\n            columnsUsed += 1;\n            // track the most number of columns\n            if (columnsUsed > maxColumnsUsed) {\n              maxColumnsUsed = columnsUsed;\n            }\n            let coords = this.shapeToCoordinates(shape, this.radius, j, i);\n            const aPoint: LayoutPoint = {\n              x: coords[0],\n              y: coords[1],\n            }\n            points.push(aPoint);\n          }\n        }\n      }\n    }\n    this.maxRowsUsed = maxRowsUsed;\n    this.maxColumnsUsed = maxColumnsUsed;\n    return points;\n  }\n\n  generateUniformPoints(data: any, displayLimit: number): any {\n    const points = [] as any;\n    if (typeof data === 'undefined') {\n      return points;\n    }\n    let maxRowsUsed = 0;\n    let columnsUsed = 0;\n    let maxColumnsUsed = 0;\n    let xPos = 1;\n    let yPos = 1;\n\n    // when duplicating panels, this gets odd\n    if (this.numRows === Infinity) {\n      return points;\n    }\n    if (isNaN(this.numColumns)) {\n      return points;\n    }\n    for (let i = 0; i < this.numRows; i++) {\n      if ((!displayLimit || points.length < displayLimit) && points.length < data.length) {\n        maxRowsUsed += 1;\n        columnsUsed = 0;\n        for (let j = 0; j < this.numColumns; j++) {\n          if ((!displayLimit || points.length < displayLimit) && points.length < data.length) {\n            columnsUsed += 1;\n            // track the most number of columns\n            if (columnsUsed > maxColumnsUsed) {\n              maxColumnsUsed = columnsUsed;\n            }\n            points.push({\n              x: xPos,\n              y: yPos,\n              width: this.radius * 2,\n              height: this.radius * 2,\n            });\n            xPos += this.radius * 2;\n          }\n        }\n        xPos = 1;\n        yPos += this.radius * 2;\n      }\n    }\n    this.maxRowsUsed = maxRowsUsed;\n    this.maxColumnsUsed = maxColumnsUsed;\n    return points;\n  }\n\n  generateRadius(shape: PolygonShapes): number {\n    if (!this.autoSize) {\n      return this.radius;\n    }\n    let radius = 0;\n    switch (shape) {\n      case PolygonShapes.HEXAGON_POINTED_TOP:\n        radius = this.getHexFlatTopRadius();\n        break;\n      case PolygonShapes.CIRCLE:\n        radius = this.getUniformRadius();\n        break;\n      case PolygonShapes.SQUARE:\n        radius = this.getUniformRadius();\n        break;\n      default:\n        radius = this.getHexFlatTopRadius();\n        break;\n    }\n    this.radius = radius;\n    return radius;\n  }\n\n  truncateFloat(value: number): number {\n    if (value === Infinity || isNaN(value)) {\n      return 0;\n    }\n    const matches = value.toString().match(/^-?\\d+(?:\\.\\d{0,2})?/);\n    if (matches !== null && matches.length > 0) {\n      return Number(matches[0]);\n    }\n    return 0;\n  }\n\n  getOffsets(shape: PolygonShapes, displayLimit: number, dataSize: number): any {\n    if (isNaN(displayLimit) || displayLimit < 0) {\n      displayLimit = 100;\n    }\n    let useLimit = displayLimit;\n    if ((displayLimit === 0) || (displayLimit > dataSize)) {\n      useLimit = dataSize;\n    }\n    switch (shape) {\n      case PolygonShapes.HEXAGON_POINTED_TOP:\n        return this.getOffsetsHexagonPointedTop(useLimit);\n      case PolygonShapes.SQUARE:\n        return this.getOffsetsSquare(useLimit);\n      case PolygonShapes.CIRCLE:\n        return this.getOffsetsUniform(useLimit);\n      default:\n        return this.getOffsetsUniform(useLimit);\n    }\n  }\n\n  getOffsetsHexagonPointedTop(dataSize: number): any {\n    let hexRadius = d3.min([\n      this.width / ((this.numColumns + 0.5) * this.SQRT3),\n      this.height / ((this.numRows + 1 / 3) * 1.5),\n    ]);\n    hexRadius = this.truncateFloat(hexRadius as number);\n    const shapeWidth = this.truncateFloat(hexRadius * this.SQRT3);\n    const shapeHeight = this.truncateFloat(hexRadius * 2);\n\n    const offsetToViewY = shapeHeight * 0.5;\n    // even rows are half-sized\n    const { oddCount, evenCount } = this.getOddEvenCountForRange(1, this.maxRowsUsed);\n    // odd-numbered hexagons are full height, evens are half height\n    const actualHeightUsed = oddCount * shapeHeight + evenCount * shapeHeight * 0.5;\n    let yoffset = (this.height - actualHeightUsed) / 2;\n    yoffset = -(yoffset + offsetToViewY);\n\n    const offsetToViewX = shapeWidth * 0.5;\n    // columns have a half-width offset if there are more than 1 rows\n    let widthOffset = 0;\n    if (this.numRows > 1) {\n      // if the dataSize is equal to or larger than the 2*Columns, there is an additional offset needed\n      if (dataSize >= this.maxColumnsUsed * 2) {\n        widthOffset = 0.5;\n      }\n    }\n    const actualWidthUsed = (this.numColumns + widthOffset) * shapeWidth;\n    let xoffset = (this.width - actualWidthUsed) / 2;\n    xoffset = -(xoffset + offsetToViewX);\n    return { xoffset, yoffset };\n  }\n\n  getOffsetsUniform(dataSize: number): any {\n    const { diameterX, diameterY } = this.getDiameters();\n    const shapeWidth = this.truncateFloat(diameterX);\n    const shapeHeight = this.truncateFloat(diameterY);\n    const offsetToViewY = shapeHeight * 0.5;\n    const actualHeightUsed = this.maxRowsUsed * shapeHeight;\n    let yoffset = (this.height - actualHeightUsed) / 2;\n    yoffset = -(yoffset + offsetToViewY);\n    const offsetToViewX = shapeWidth * 0.5;\n    const actualWidthUsed = this.numColumns * shapeWidth;\n    let xoffset = (this.width - actualWidthUsed) / 2;\n    xoffset = -(xoffset + offsetToViewX);\n    return { xoffset, yoffset };\n  }\n\n  getOffsetsSquare(dataSize: number): any {\n    const { diameterX, diameterY } = this.getDiameters();\n    const shapeWidth = this.truncateFloat(diameterX);\n    const shapeHeight = this.truncateFloat(diameterY);\n    const offsetToViewY = 0; // shapeHeight * 0.5;\n    const actualHeightUsed = this.maxRowsUsed * shapeHeight;\n    let yoffset = (this.height - actualHeightUsed) / 2;\n    yoffset = -(yoffset + offsetToViewY);\n    const offsetToViewX = 0; //shapeWidth * 0.5;\n    const actualWidthUsed = this.numColumns * shapeWidth;\n    let xoffset = (this.width - actualWidthUsed) / 2;\n    xoffset = -(xoffset + offsetToViewX);\n    return { xoffset, yoffset };\n  }\n\n  getOddEvenCountForRange(L: number, R: number): any {\n    let oddCount = (R - L) / 2;\n    // if either R or L is odd\n    if (R % 2 !== 0 || L % 2 !== 0) {\n      oddCount++;\n    }\n    const evenCount = R - L + 1 - oddCount;\n    return { oddCount, evenCount };\n  }\n\n  /**\n   * Returns diameterX and diameterY for given shape\n   */\n  getDiameters(): PolystatDiameters {\n    switch (this.shape) {\n      case PolygonShapes.HEXAGON_POINTED_TOP:\n        return this.getHexFlatTopDiameters();\n      case PolygonShapes.SQUARE:\n        return this.getUniformDiameters();\n      case PolygonShapes.CIRCLE:\n        return this.getUniformDiameters();\n      default:\n        return this.getUniformDiameters();\n    }\n  }\n}\n","import { GrafanaTheme2 } from '@grafana/data';\nimport { css } from '@emotion/css';\n\nexport const getErrorMessageStyles = (theme: GrafanaTheme2) => css`\n  font-size: ${theme.typography.h1.fontSize};\n  text-align: center;\n  justify-content: center;\n  color: ${theme.colors.error.shade};\n`;\n\nexport const getNoTriggerTextStyles = (theme: GrafanaTheme2) => css`\n  font-size: ${theme.typography.h1.fontSize};\n  text-align: center;\n  justify-content: center;\n  color: ${theme.colors.success.shade};\n`;\n\nexport const getWrapperStyles = (theme: GrafanaTheme2) => css`\n  fill: transparent;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  justify-content: center;\n`;\n\nexport const getSVGStyles = (theme: GrafanaTheme2) => css`\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  fill: transparent;\n`;\n\nexport const getSVGPathStyles = (theme: GrafanaTheme2) => css`\n  outline: none !important;\n`;\n","import React from 'react';\nimport { css } from '@emotion/css';\nimport { orderBy as lodashOrderBy } from 'lodash';\nimport { useStyles2 } from '@grafana/ui';\nimport { GrafanaTheme2, dateTimeFormatWithAbbrevation } from '@grafana/data';\nimport { PolystatModel, SortOptions } from '../types';\n\nexport interface TooltipProps {\n  data: PolystatModel | undefined;\n  valueEnabled: boolean;\n  tooltipColumnHeadersEnabled: boolean;\n  renderTime: Date;\n  showTime: boolean;\n  primarySortByField: string;\n  primarySortDirection: number;\n  secondarySortByField: string;\n  secondarySortDirection: number;\n  displayMode: string;\n  tooltipDisplayTextTriggeredEmpty: string;\n  tooltipFontFamily: string;\n}\n\nexport const Tooltip = ({\n  data,\n  renderTime,\n  showTime,\n  valueEnabled,\n  tooltipColumnHeadersEnabled,\n  primarySortByField,\n  primarySortDirection,\n  secondarySortByField,\n  secondarySortDirection,\n  displayMode,\n  tooltipDisplayTextTriggeredEmpty,\n  tooltipFontFamily,\n}: TooltipProps) => {\n  const styles = useStyles2(getTooltipStyles);\n\n  // check for timestamp in data, override renderTime when present\n  if (data?.timestamp) {\n    renderTime = new Date(data?.timestamp);\n  }\n  /* the name of the composite is shown at the top */\n  const getCompositeHeader = (data: PolystatModel | null) => {\n    if (data && data.members && data.members.length === 0) {\n      return '';\n    }\n    return (\n      <tr>\n        <th className={styles.tooltipCompositeHeading} colSpan={2}>\n          {data?.displayName}\n        </th>\n      </tr>\n    );\n  };\n\n  const multiSort = (\n    data: PolystatModel,\n    primarySortDirection: number,\n    primarySortByField: string,\n    secondarySortDirection: number,\n    secondarySortByField: string\n  ) => {\n    let sortSettings = getSortDirection(SortOptions[primarySortDirection].value);\n    const pUseLowercase = sortSettings.lowerCase;\n    const pDirection = sortSettings.direction as any;\n    sortSettings = getSortDirection(SortOptions[secondarySortDirection].value);\n    const sDirection = sortSettings.direction as any;\n    const sUseLowercase = sortSettings.lowerCase;\n\n    let pSortFunction = primarySortByField as any;\n    if (pUseLowercase) {\n      pSortFunction = (item: any) => {\n        let val = item[primarySortByField];\n        if (typeof val !== 'number') {\n          val = val.toLowerCase();\n        }\n        return val;\n      };\n    }\n    let sSortFunction = secondarySortByField as any;\n    if (sUseLowercase) {\n      sSortFunction = (item: any) => {\n        let val = item[secondarySortByField];\n        if (typeof val !== 'number') {\n          val = val.toLowerCase();\n        }\n        return val;\n      };\n    }\n    return lodashOrderBy(data.members, [pSortFunction, sSortFunction], [pDirection, sDirection]);\n  };\n\n  const getTriggeredCount = (data: PolystatModel) => {\n    let triggered = 0;\n    if (data.thresholdLevel !== 0) {\n      triggered++;\n    }\n    for (let j = 0; j < data.members.length; j++) {\n      if (data.members[j].thresholdLevel !== 0) {\n        triggered++;\n      }\n    }\n    return triggered;\n  };\n\n  const filterTriggered = (items: PolystatModel) => {\n    const triggerCount = getTriggeredCount(items);\n    // clone model\n    const compositeWithTriggeredItemsOnly = Object.assign({}, items);\n    // start with no triggered members\n    compositeWithTriggeredItemsOnly.members = [];\n    if (triggerCount > 0) {\n      for (let i = 0; i < items.members.length; i++) {\n        // non-OK (state 0) members will be appended to the cloned model\n        if (items.members[i].thresholdLevel !== 0) {\n          compositeWithTriggeredItemsOnly.members.push(items.members[i]);\n        }\n      }\n      return compositeWithTriggeredItemsOnly;\n    } else {\n      return null;\n    }\n  };\n\n  const getCompositeMetrics = (data: PolystatModel | null) => {\n    let dataToSort = data;\n    if (dataToSort && data && displayMode === 'triggered') {\n      dataToSort = filterTriggered(data);\n    }\n    if (dataToSort === null) {\n      return <>{tooltipDisplayTextTriggeredEmpty}</>;\n    }\n    const sortedMembers = multiSort(\n      dataToSort,\n      primarySortDirection,\n      primarySortByField,\n      secondarySortDirection,\n      secondarySortByField\n    );\n    return sortedMembers.map((item: PolystatModel, index: number) => {\n      return (\n        <tr key={index} style={{ color: item.color }}>\n          <td className={styles.tooltipName}>{item.displayName}</td>\n          {valueEnabled && <td className={styles.tooltipValue}>{item.valueFormatted}</td>}\n        </tr>\n      );\n    });\n  };\n\n  const generateContent = () => {\n    return (\n      <table style={{ fontFamily: tooltipFontFamily }} className={styles.tooltipTable}>\n        <thead>\n          {data && data.isComposite && getCompositeHeader(data)}\n          <tr>\n            {tooltipColumnHeadersEnabled && <th className={styles.tooltipNameHeading}>Name</th>}\n            {tooltipColumnHeadersEnabled && valueEnabled && <th className={styles.tooltipValueHeading}>Value</th>}\n          </tr>\n        </thead>\n        <tfoot>\n          {showTime && (\n            <tr>\n              <td className={styles.tooltipTime} colSpan={2}>\n                {dateTimeFormatWithAbbrevation(renderTime)}\n              </td>\n            </tr>\n          )}\n        </tfoot>\n        <tbody>\n          {data && data.isComposite ? (\n            getCompositeMetrics(data)\n          ) : (\n            <tr style={{ color: data?.color }}>\n              <td className={styles.tooltipName}>{data?.displayName}</td>\n              {valueEnabled && <td className={styles.tooltipValue}>{data?.valueFormatted}</td>}\n            </tr>\n          )}\n        </tbody>\n      </table>\n    );\n  };\n\n  // Generate content\n  return generateContent();\n};\n\nconst getTooltipStyles = (theme: GrafanaTheme2) => {\n  return {\n    root: css`\n      border-radius: ${theme.shape.borderRadius(1)};\n      background-color: ${theme.colors.background.primary};\n      box-shadow: ${theme.shadows.z2};\n      padding: ${theme.spacing(1)};\n    `,\n    tooltipTable: css`\n      width: 100%;\n      color: ${theme.colors.text.primary};\n      height: auto;\n      padding: 10px;\n    `,\n    tooltipTime: css`\n      text-align: center;\n      color: ${theme.colors.text.primary};\n    `,\n    tooltipNameHeading: css`\n      text-align: left;\n      color: ${theme.colors.text.primary};\n    `,\n    tooltipValueHeading: css`\n      text-align: right;\n      color: ${theme.colors.text.primary};\n    `,\n    tooltipCompositeHeading: css`\n      text-align: center;\n      color: ${theme.colors.text.primary};\n    `,\n    tooltipName: css`\n      text-align: left;\n    `,\n    tooltipValue: css`\n      text-align: right;\n      padding-left: 15px;\n    `,\n  };\n};\n\nconst getSortDirection = (val: number) => {\n  switch (val) {\n    case 0:\n      return { direction: null, lowerCase: false };\n    case 1:\n      return { direction: 'asc', lowerCase: false };\n    case 2:\n      return { direction: 'desc', lowerCase: false };\n    case 3:\n      return { direction: 'asc', lowerCase: false };\n    case 4:\n      return { direction: 'desc', lowerCase: false };\n    case 5:\n      return { direction: 'asc', lowerCase: true };\n    case 6:\n      return { direction: 'desc', lowerCase: true };\n    default:\n      return { direction: 'asc', lowerCase: false };\n  }\n};\n","import { sortBy as lodashSortBy, toLower as lodashToLower, isNumber as lodashIsNumber } from 'lodash';\n\nfunction GetDecimalsForValue(value: any, panelDecimals: any): { decimals: number; scaledDecimals: any } {\n  if (lodashIsNumber(panelDecimals)) {\n    return { decimals: panelDecimals, scaledDecimals: null };\n  }\n\n  const delta = value / 2;\n  let dec = -Math.floor(Math.log(delta) / Math.LN10);\n\n  const magn = Math.pow(10, -dec);\n  const norm = delta / magn; // norm is between 1.0 and 10.0\n  let size;\n\n  if (norm < 1.5) {\n    size = 1;\n  } else if (norm < 3) {\n    size = 2;\n    // special case for 2.5, requires an extra decimal\n    if (norm > 2.25) {\n      size = 2.5;\n      ++dec;\n    }\n  } else if (norm < 7.5) {\n    size = 5;\n  } else {\n    size = 10;\n  }\n\n  size *= magn;\n\n  // reduce starting decimals if not needed\n  if (Math.floor(value) === value) {\n    dec = 0;\n  }\n\n  const result = {\n    decimals: 0,\n    scaledDecimals: 0,\n  };\n  result.decimals = Math.max(0, dec);\n  result.scaledDecimals = result.decimals - Math.floor(Math.log(size) / Math.LN10) + 2;\n  return result;\n}\n\n/**\n * Find the largest font size (in pixels) that allows the string to fit in the given width.\n *\n * @param {String} text The text to be rendered.\n * @param {String} font The css font descriptor that text is to be rendered with (e.g. \"bold ?px verdana\")\n *                      -- note the use of ? in place of the font size.\n * @param {number} width width in pixels the string must fit in\n * @param {number} minFontPx the smallest acceptable font size in pixels\n * @param {number} maxFontPx the largest acceptable font size in pixels\n */\nfunction getTextSizeForWidth(text: string, font: any, width: number, minFontPx: number, maxFontPx: number) {\n  let s = font.replace('?', maxFontPx);\n  let w = getTextWidth(text, s);\n  if (w <= width) {\n    return maxFontPx;\n  }\n  // pad width by 10px\n  width = width - 20;\n  // start from large to small, return 0 for no-fit\n  for (let fontSize = maxFontPx; fontSize >= minFontPx; fontSize--) {\n    s = font.replace('?', fontSize);\n    w = getTextWidth(text, s);\n    if (w < width) {\n      return Math.ceil(fontSize);\n    }\n  }\n  // 0 if no fit\n  return 0;\n}\n\n/**\n * Find the largest font size (in pixels) that allows the string to fit in the given width.\n *\n * @param {String} text The text to be rendered.\n * @param {String} font The css font descriptor that text is to be rendered with (e.g. \"bold ?px verdana\")\n *                      -- note the use of ? in place of the font size.\n * @param {number} width the width in pixels the string must fit in\n * @param {number} height the height in pixels\n * @param {number} minFontPx the smallest acceptable font size in pixels\n * @param {number} maxFontPx the largest acceptable font size in pixels\n */\nfunction getTextSizeForWidthAndHeight(\n  text: string,\n  font: any,\n  width: number,\n  height: number,\n  minFontPx: number,\n  maxFontPx: number\n) {\n  let s = font.replace('?', maxFontPx);\n  let w = getTextWidth(text, s);\n  //console.log(`getTextSizeForWidthAndHeight: width raw ${width}`);\n  // need to pad the width: use 95% of the space (leave 10% padding on each side)\n  // and ensure it is a whole number\n  width = Math.round(width * 0.95);\n  //console.log(`getTextSizeForWidthAndHeight: width reduced ${width}`);\n  if (w <= width && maxFontPx <= height) {\n    return maxFontPx;\n  }\n  // start from large to small, return 0 for no-fit\n  for (let fontSize = maxFontPx; fontSize >= minFontPx; fontSize--) {\n    s = font.replace('?', fontSize);\n    w = getTextWidth(text, s);\n    // has to fit within the width of the text area, and not exceed the height\n    if (w < width && fontSize <= height) {\n      return Math.ceil(fontSize);\n    }\n  }\n  // 0 if no fit\n  return 0;\n}\n\n/**\n * Uses canvas.measureText to compute and return the width of the given text of given font in pixels.\n *\n * @param {String} text The text to be rendered.\n * @param {String} font The css font descriptor that text is to be rendered with (e.g. \"bold 14px verdana\").\n *\n * @see https://stackoverflow.com/questions/118241/calculate-text-width-with-javascript/21015393#21015393\n */\nfunction getTextWidth(text: string, font: string) {\n  // re-use canvas object for better performance\n  // intentional use of deprecated function (no widely implemented alternative)\n  // eslint-disable-next-line deprecation/deprecation\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n  if (context) {\n    context.font = font;\n    const metrics = context.measureText(text);\n    return metrics.width;\n  }\n  return 40; // unknown due to context failure\n}\n\nfunction RGBToHex(text: string) {\n  // check if in rgb notation\n  if (!text.startsWith('rgb')) {\n    return text;\n  }\n  let hex = '#FFFFFF';\n  try {\n    const a = text.split('(')[1].split(')')[0];\n    const b = a.split(',');\n    const c = b.map((x) => {\n      // For each array element\n      x = parseInt(x, 10).toString(16); // Convert to a base16 string\n      return x.length === 1 ? '0' + x : x; // Add zero if we get only one character\n    });\n    hex = '#' + c.join('');\n  } catch (e) {\n    return hex;\n  }\n  return hex;\n}\n\nfunction getTextOrValue(o: any) {\n  if (isNaN(o)) {\n    return o;\n  } else {\n    return Number(o);\n  }\n}\n\nfunction SortVariableValuesByField(options: any, sortField: string, sortOrder: number) {\n  if (sortOrder === 0) {\n    return options;\n  }\n  const sortType = Math.ceil(sortOrder / 2);\n  const reverseSort = sortOrder % 2 === 0;\n\n  switch (sortType) {\n    case 1: // Alphabetical Case Sensitive\n      options = lodashSortBy(options, sortField);\n      break;\n    case 2: // Numerical with sub-match\n      options = lodashSortBy(options, (item) => {\n        // if the content of the field to sort by is textual, check if there is a numerical area to sort by\n        if (isNaN(item[sortField])) {\n          const matchField = item[sortField];\n          const matches = matchField.match(/.*?(\\d+).*/);\n          if (!matches || matches.length < 2) {\n            return -1;\n          } else {\n            return parseInt(matches[1], 10);\n          }\n        } else {\n          return getTextOrValue(item[sortField]);\n        }\n      });\n      break;\n    case 3: // Alphabetical Case Insensitive\n      options = lodashSortBy(options, (item) => {\n        const itemContent = item[sortField];\n        if (isNaN(itemContent)) {\n          return lodashToLower(item[sortField]);\n        } else {\n          return itemContent;\n        }\n      });\n      break;\n    case 4: // Natural Sort\n      const collator = new Intl.Collator(undefined, { numeric: true, sensitivity: 'base' });\n      options = options.slice(); // Shallow clone original array\n      options.sort((a: any, b: any) => {\n        return collator.compare(a[sortField], b[sortField]);\n      });\n      break;\n  }\n\n  if (reverseSort) {\n    options = options.reverse();\n  }\n\n  return options;\n}\n\nconst roundValue = (num: number, decimals: number): number | null => {\n  if (num === null) {\n    return null;\n  }\n  const n = Math.pow(10, decimals);\n  const formatted = (n * num).toFixed(decimals);\n  return Math.round(parseFloat(formatted)) / n;\n};\n\nexport {\n  GetDecimalsForValue,\n  getTextSizeForWidth,\n  getTextSizeForWidthAndHeight,\n  getTextWidth,\n  RGBToHex,\n  SortVariableValuesByField,\n  getTextOrValue,\n  roundValue\n};\n","import { PolystatModel } from \"./types\";\nimport { getTextSizeForWidthAndHeight } from '../utils';\n\n\nexport const AutoFontScalar = (\n  fontFamily: string,\n  textAreaWidth: number,\n  textAreaHeight: number,\n  valueEnabled: boolean,\n  showTimestamp: boolean,\n  data: PolystatModel[]\n) => {\n  // TODO: 6 is VERY small, perhaps 10 as a min?\n  // A hint from the config could be used (max characters)\n  const minFont = 6;\n  const maxFont = 240;\n  // this ensures we have space between label and value\n  const maxLinesToDisplay = 2;\n  let showEllipses = false;\n  // number of characters to show on polygon\n  let numOfChars = 0;\n\n  // find the most text that will be displayed over all items\n  // displayName will have the \"processed\" name with Global Regex applied\n  let maxLabel = getMaxLabel(data);\n  // estimate how big of a font can be used\n  // Two lines of text must fit with vertical spacing included\n  // if it is too small, hide everything\n  // console.log(`AutoFontScalar maxLabel ${maxLabel}`);\n  // console.log(`AutoFontScalar textAreaWidth ${textAreaWidth}`);\n  // console.log(`AutoFontScalar textAreaHeight ${textAreaHeight}`);\n  let activeLabelFontSize = computeTextFontSize(\n    maxLabel,\n    fontFamily,\n    minFont,\n    maxFont,\n    maxLinesToDisplay,\n    textAreaWidth,\n    textAreaHeight\n  );\n  if (activeLabelFontSize < minFont) {\n    showEllipses = true;\n    numOfChars = 18;\n    maxLabel = maxLabel.substring(0, numOfChars + 2);\n    activeLabelFontSize = computeTextFontSize(\n      maxLabel,\n      fontFamily,\n      minFont,\n      maxFont,\n      maxLinesToDisplay,\n      textAreaWidth,\n      textAreaHeight\n    );\n    if (activeLabelFontSize < minFont) {\n      numOfChars = 10;\n      maxLabel = maxLabel.substring(0, numOfChars + 2);\n      activeLabelFontSize = computeTextFontSize(\n        maxLabel,\n        fontFamily,\n        minFont,\n        maxFont,\n        maxLinesToDisplay,\n        textAreaWidth,\n        textAreaHeight\n      );\n      if (activeLabelFontSize < minFont) {\n        numOfChars = 6;\n        maxLabel = maxLabel.substring(0, numOfChars + 2);\n        activeLabelFontSize = computeTextFontSize(\n          maxLabel,\n          fontFamily,\n          minFont,\n          maxFont,\n          maxLinesToDisplay,\n          textAreaWidth,\n          textAreaHeight\n        );\n      }\n    }\n  }\n\n  // same for the value and timestamp option, also check for sub metrics size in case of composite\n  let {maxValue, maxTimestamp} = getMaxValueAndTimestamp(data);\n  //console.log(`AutoFontScalar maxValue ${maxValue}`);\n  // assume no timestamp\n  let activeValueFontSize = computeTextFontSize(\n    maxValue,\n    fontFamily,\n    minFont,\n    maxFont,\n    maxLinesToDisplay,\n    textAreaWidth,\n    textAreaHeight\n  );\n  //console.log(`calc activeValueFontSize ${activeValueFontSize}`);\n  if (showTimestamp) {\n    // two lines to be displayed, sharing half of the normal space for the value\n    activeValueFontSize = computeTextFontSize(\n      maxValue,\n      fontFamily,\n      minFont,\n      maxFont,\n      2,\n      textAreaWidth,\n      (textAreaHeight * 0.67)\n    );\n  }\n  // timestamp shares the same space as the value, but is always smaller\n  let activeTimestampFontSize = computeTextFontSize(\n    maxTimestamp,\n    fontFamily,\n    minFont,\n    maxFont,\n    2,\n    textAreaWidth,\n    (textAreaHeight * 0.33)\n  );\n\n  if (activeTimestampFontSize < minFont) {\n    // do not render it, too small\n    activeTimestampFontSize = 0;\n  }\n\n  // NOTE: allow different sizes, the value could be displayed larger than the label\n  // value should never be larger than the label\n  //if (activeValueFontSize > activeLabelFontSize) {\n  //  activeValueFontSize = activeLabelFontSize;\n  //}\n  let activeCompositeValueFontSize = activeValueFontSize;\n  let haveCompositeValueEnabled = false;\n  // check if there are any composites with value enabled\n  if (data) {\n    for (let i = 0; i < data.length; i++) {\n      const item = data[i];\n      if (item.isComposite && item.showValue) {\n        // at least one composite has showValue set\n        haveCompositeValueEnabled = true;\n        break;\n      }\n    }\n  }\n  if (!valueEnabled) {\n    activeValueFontSize = 0;\n    // if there are no composites with value enabled, set it to zero also\n    if (!haveCompositeValueEnabled) {\n      activeCompositeValueFontSize = 0;\n    }\n  }\n  //console.log(`calc final activeLabelFontSize: ${activeLabelFontSize}`);\n  return {\n    activeLabelFontSize,\n    activeValueFontSize,\n    activeCompositeValueFontSize,\n    activeTimestampFontSize,\n    showEllipses,\n    numOfChars };\n};\n\n/**\n * Finds the longest text that to be displayed\n *\n * @param   {PolystatModel[]}  data  [PolystatModel data]\n *\n * @return  {string}                     [longest label as a string]\n */\nconst getMaxLabel = (data: PolystatModel[]): string => {\n  let maxLabel = '';\n  for (let i = 0; i < data.length; i++) {\n    let nameToCheck = data[i].name;\n    // use the displayName since it has been formatted\n    if (data[i].displayName !== '') {\n      nameToCheck = data[i].displayName;\n    }\n    if (nameToCheck.length > maxLabel.length) {\n      maxLabel = nameToCheck;\n    }\n  }\n  return maxLabel;\n};\n\n/**\n * Finds the longest value and timestamp text to be displayed\n *\n * @param   {PolystatModel[]} data [PolystatModel data]\n *\n * @return  {string[]} [value,timestamp]\n */\nconst getMaxValueAndTimestamp = (data: PolystatModel[]) => {\n  // same for the value, also check for sub metrics size in case of composite\n  // timestamp is also calculated here\n  let maxValue = '';\n  let maxTimestamp = '';\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].valueFormatted.length > maxValue.length) {\n      maxValue = data[i].valueFormatted;\n    }\n    if (data[i].timestampFormatted.length > maxTimestamp.length) {\n      maxTimestamp = data[i].timestampFormatted;\n    }\n    const subMetricCount = data[i].members.length;\n    if (subMetricCount > 0) {\n      let counter = 0;\n      while (counter < subMetricCount) {\n        const checkContent = data[i].members[counter].displayName + ': ' + data[i].members[counter].valueFormatted;\n        if (checkContent && checkContent.length > maxValue.length) {\n          maxValue = checkContent;\n        }\n        const checkCompositeTimestamp = data[i].members[counter].timestampFormatted;\n        if (checkCompositeTimestamp && checkCompositeTimestamp.length > maxTimestamp.length) {\n          maxTimestamp = checkCompositeTimestamp;\n        }\n        counter++;\n      }\n    }\n  }\n  return {maxValue, maxTimestamp};\n};\n\nconst computeTextFontSize = (\n  text: string,\n  font: string,\n  minFont: number,\n  maxFont: number,\n  linesToDisplay: number,\n  textAreaWidth: number,\n  textAreaHeight: number\n): number => {\n  let computedSize = getTextSizeForWidthAndHeight(\n    text,\n    `?px ${font}`,\n    textAreaWidth,\n    textAreaHeight / linesToDisplay, // multiple lines of text\n    minFont,\n    maxFont\n  );\n  return (computedSize);\n};\n","import React, { useEffect, createRef, useCallback } from 'react';\nimport { textUtil } from '@grafana/data';\nimport { useStyles2, Portal, useTheme2 } from '@grafana/ui';\nimport { symbol as d3symbol, symbolCircle, symbolSquare } from 'd3';\nimport { hexbin } from 'd3-hexbin';\nimport { orderBy as lodashOrderBy } from 'lodash';\nimport { Tooltip as ReactTooltip } from 'react-tooltip';\n\nimport { Gradients } from './gradients/Gradients';\nimport { LayoutManager } from './layout/layoutManager';\nimport { PolystatOptions, PolygonShapes, PolystatModel, DisplayModes, TimestampPositions } from './types';\n\nimport { getErrorMessageStyles, getNoTriggerTextStyles, getSVGPathStyles, getSVGStyles, getWrapperStyles } from './styles';\nimport { Tooltip } from './tooltips/Tooltip';\nimport { AutoFontScalar } from './auto_font_scaler';\nimport { GetAlignments } from './alignment';\nimport { getTemplateSrv } from '@grafana/runtime';\n\nexport const Polystat: React.FC<PolystatOptions> = (options) => {\n  const divStyles = useStyles2(getWrapperStyles);\n  const svgStyles = useStyles2(getSVGStyles);\n  const svgPathStyles = useStyles2(getSVGPathStyles);\n  const noTriggerTextStyles = useStyles2(getNoTriggerTextStyles);\n  const errorMessageStyles = useStyles2(getErrorMessageStyles);\n  const tooltipTheme = useTheme2().isDark ? 'dark' : 'light';\n  // used to change/animate text in polygon\n  const [animationRefs, setAnimationRefs] = React.useState([] as any);\n  const [animationTimestampRefs, setAnimationTimestampRefs] = React.useState([] as any);\n  // tracks which metric to display during animation of a composite\n  const [animationMetricIndexes, setAnimationMetricIndexes] = React.useState([] as any);\n  const [animatedItems, setAnimatedItems] = React.useState<number[]>([]);\n  const margin = { top: 0, right: 0, bottom: 0, left: 0 };\n  // this MUST be unique for gradients to work properly\n  const [uniquePanelId] = React.useState<string>(`polystat_${options.panelId}_` + Math.floor(Math.random() * 10000).toString());\n\n  const updateAnimation = (data: PolystatModel[]) => {\n    if (data.length > 0) {\n      const newAnimationRefs = [];\n      const newAnimationTimestampRefs = [];\n      const newAnimationMetricIndexes = [];\n      for (let i = 0; i < data!.length; i++) {\n        newAnimationRefs.push(createRef());\n        newAnimationTimestampRefs.push(createRef());\n        newAnimationMetricIndexes.push(0);\n      }\n      if (newAnimationRefs.length > 0) {\n        if (animationRefs.length !== newAnimationRefs.length) {\n          setAnimationRefs(newAnimationRefs);\n          setAnimationTimestampRefs(newAnimationTimestampRefs);\n          setAnimationMetricIndexes(newAnimationMetricIndexes);\n        }\n      }\n    }\n  };\n\n  /*\n    This is the animation method that will cycle through the metrics for a composite\n   */\n  const animateComposite = useCallback(() => {\n    for (let i = 0; i < animatedItems.length; i++) {\n      let index = animatedItems[i];\n      let metricIndex = animationMetricIndexes[index];\n\n      // composites can have animated values displayed\n      let isValueAnimated = false;\n      if (options.globalShowValueEnabled ||\n        (options.processedData && options.processedData[index].isComposite && options.processedData[index].showValue)\n      ) {\n        isValueAnimated = true;\n      }\n      if (isValueAnimated && options.processedData && (animationRefs.length > 0 && animationRefs[index].current)) {\n        const item = options.processedData[index];\n        const val = formatCompositeValueAndTimestamp(metricIndex, item, options.globalDisplayTextTriggeredEmpty)[0];\n        if (animationRefs[index].current.innerHTML !== null) {\n          animationRefs[index].current.innerHTML = val;\n        }\n      }\n      // currently global setting determines if timestamp is animated\n      if (options.globalShowTimestampEnabled && options.processedData && (animationTimestampRefs.length > 0 && animationTimestampRefs[index].current)) {\n        const item = options.processedData[index];\n        const ts = formatCompositeValueAndTimestamp(metricIndex, item, options.globalDisplayTextTriggeredEmpty)[1];\n        if (animationTimestampRefs[index].current.innerHTML !== null) {\n          animationTimestampRefs[index].current.innerHTML = ts;\n        }\n      }\n      metricIndex++;\n      if (options.processedData && options.processedData[index] && options.processedData[index].members.length) {\n        metricIndex %= options.processedData[index].members.length;\n      }\n      animationMetricIndexes[index] = metricIndex;\n      setAnimationMetricIndexes(animationMetricIndexes);\n    }\n  }, [\n    animationMetricIndexes,\n    animationRefs,\n    animationTimestampRefs,\n    animatedItems,\n    options.processedData,\n    options.globalDisplayTextTriggeredEmpty,\n    options.globalShowTimestampEnabled,\n    options.globalShowValueEnabled,\n  ]);\n\n  /*\n    Determine which items should be animated\n  */\n\n  useEffect(() => {\n    let shouldAnimate = false;\n    const animate: number[] = [];\n    options.processedData!.map((item, index) => {\n      if (item.isComposite && item.showValue) {\n        shouldAnimate = true;\n        animate.push(index);\n      }\n    });\n    // check array content equality\n    if (JSON.stringify(animatedItems) !== JSON.stringify(animate)) {\n      if (options.processedData) {\n        updateAnimation(options.processedData);\n        setAnimatedItems(animate);\n      }\n    }\n    let tick: NodeJS.Timeout;\n    if (shouldAnimate) {\n      let speed = parseInt(options.compositeConfig.animationSpeed, 10);\n      if (speed < 200 || isNaN(speed)) {\n        console.log(`WARNING: speed in configuration is too fast, setting to 200ms`);\n        speed = 200;\n      }\n      tick = setInterval(animateComposite, speed);\n    }\n    return () => {\n      clearInterval(tick);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options.compositeConfig.animationSpeed, options.processedData, animationRefs]);\n\n  const detectNoDataEmptyState = () => {\n    if (options.processedData && options.processedData.length === 0) {\n      return <div className={noTriggerTextStyles}>{options.globalDisplayTextTriggeredEmpty}</div>;\n    }\n    return null;\n  };\n\n  const detectLayoutIssue = () => {\n    if (!options.autoSizeColumns && !options.autoSizeRows) {\n      const limit = options.layoutNumColumns * options.layoutNumRows;\n      if (limit < options.processedData!.length) {\n        return (\n          <div className={errorMessageStyles}>\n            Not enough rows and columns for data. There are {options.processedData!.length} items to display, and only{' '}\n            {limit} places allocated.{' '} See the Display Limit setting in category Layout{' '}\n          </div>\n        );\n      }\n    }\n    return null;\n  };\n\n  const lm = new LayoutManager(\n    options.panelWidth,\n    options.panelHeight,\n    options.layoutNumColumns,\n    options.layoutNumRows,\n    options.layoutDisplayLimit,\n    options.autoSizePolygons,\n    options.globalShape\n  );\n\n  // determine how many rows and columns are going to be generated\n  lm.generatePossibleColumnAndRowsSizes(options.autoSizeColumns, options.autoSizeRows, options.layoutDisplayLimit, options.processedData!.length);\n  // to determine the radius, the actual number of rows and columns that will be used needs to be calculated\n  lm.generateActualColumnAndRowUsage(options.processedData, options.layoutDisplayLimit);\n  // next the radius can be determined from actual rows and columns being used\n  let radius = 0;\n  if (!options.autoSizePolygons && options.globalPolygonSize) {\n    // user specified the size as either numeric, or template variable\n    let calculatedGlobalPolygonSize = options.globalPolygonSize;\n    let useNumber = NaN;\n    if (!isNaN(Number(calculatedGlobalPolygonSize))) {\n      useNumber = Number(calculatedGlobalPolygonSize);\n    } else {\n      // handle templated size\n      let replaced = getTemplateSrv().replace(calculatedGlobalPolygonSize);\n      if (!isNaN(Number(replaced))) {\n        useNumber = Number(replaced);\n      } else {\n        useNumber = NaN;\n      }\n    }\n    if (useNumber < 0 || isNaN(useNumber)) {\n      // force min size if below zero or NaN\n      useNumber = 50;\n      console.log(`WARNING: polygon size is manually set to an invalid value, forcing to 50px`);\n    } else {\n      lm.setRadius(useNumber);\n    }\n    radius = useNumber;\n  } else {\n    radius = lm.generateRadius(options.globalShape);\n  }\n\n  // using the known number of columns and rows that can be used in addition to the radius,\n  // generate the points to be filled\n  const calculatedPoints = lm.generatePoints(options.processedData, options.layoutDisplayLimit, options.globalShape);\n  const aHexbin = hexbin()\n    .radius(radius)\n    .extent([\n      [0, 0],\n      [options.panelWidth, options.panelHeight],\n    ]);\n  const { diameterX, diameterY } = lm.getDiameters();\n  const { xoffset, yoffset } = lm.getOffsets(options.globalShape, options.layoutDisplayLimit, options.processedData!.length);\n\n  // compute text area size (used to calculate the fontsize)\n  const textAreaWidth = diameterX;\n  const textAreaHeight = diameterY / 2; // Top and bottom of hexagon are not used\n  // symbols use the area for their size\n  let innerArea = diameterX * diameterY;\n  // use the smallest of diameterX or Y\n  if (diameterX < diameterY) {\n    innerArea = diameterX * diameterX;\n  }\n  if (diameterY < diameterX) {\n    innerArea = diameterY * diameterY;\n  }\n  // square and circle do not use this\n  const symbol = d3symbol().size(innerArea);\n\n  let customShape: any;\n  switch (options.globalShape) {\n    case PolygonShapes.HEXAGON_POINTED_TOP:\n      customShape = aHexbin.hexagon(radius);\n      break;\n    case PolygonShapes.CIRCLE:\n      customShape = symbol.type(symbolCircle);\n      break;\n    case PolygonShapes.SQUARE:\n      customShape = symbol.type(symbolSquare);\n      break;\n    default:\n      customShape = aHexbin.hexagon(radius);\n      break;\n  }\n\n  const resolveClickThroughTarget = (d: PolystatModel): string => {\n    let clickThroughTarget = '_self';\n    if (d.newTabEnabled) {\n      clickThroughTarget = '_blank';\n    }\n    // when a custom clickthrough is enabled, override the default _self\n    if (d.customClickthroughTargetEnabled) {\n      clickThroughTarget = d.customClickthroughTarget;\n    }\n    return clickThroughTarget;\n  };\n\n  const getCoords = (i: number) => {\n    if (i < calculatedPoints.length) {\n      const xValue = calculatedPoints[i].x;\n      const yValue = calculatedPoints[i].y;\n      return { x: xValue, y: yValue };\n    }\n    return null;\n  };\n\n  // calculate the fontsize based on the shape and the text\n  let activeLabelFontSize = options.globalLabelFontSize;\n  // font sizes are independent for label and values\n  let activeValueFontSize = options.globalValueFontSize;\n  let activeCompositeValueFontSize = options.globalCompositeValueFontSize;\n  // timestamp sizing\n  let activeTimestampFontSize = options.globalShowTimestampFontSize;\n  let showEllipses = false;\n  let numOfChars = options.ellipseCharacters;\n\n  let hasShowTimeStampEnabled = options.globalShowTimestampEnabled;\n  let hasShowValueEnabled = options.globalShowValueEnabled;\n\n  if (options.globalAutoScaleFonts) {\n    const result = AutoFontScalar(\n      options.globalTextFontFamily,\n      textAreaWidth,\n      textAreaHeight,\n      hasShowValueEnabled,\n      hasShowTimeStampEnabled,\n      options.processedData!\n    );\n    activeLabelFontSize = result.activeLabelFontSize;\n    activeValueFontSize = result.activeValueFontSize;\n    activeCompositeValueFontSize = result.activeCompositeValueFontSize;\n    activeTimestampFontSize = result.activeTimestampFontSize;\n    showEllipses = result.showEllipses;\n    numOfChars = result.numOfChars;\n  }\n\n  const alignments = GetAlignments(\n    options.globalShape,\n    diameterX,\n    diameterY,\n    textAreaHeight,\n    activeValueFontSize,\n    activeLabelFontSize,\n    activeTimestampFontSize,\n    hasShowTimeStampEnabled\n  );\n\n  let timestampLineSpacing = Math.ceil(activeValueFontSize * 0.20);\n  if (activeValueFontSize > activeTimestampFontSize) {\n    timestampLineSpacing = Math.ceil(activeTimestampFontSize * 0.20);\n  }\n  // composites can have their own settings for displaying the value\n  let compositeTimestampLineSpacing = Math.ceil(activeCompositeValueFontSize);\n  if (activeCompositeValueFontSize > activeTimestampFontSize) {\n    // ABOVE\n    compositeTimestampLineSpacing = Math.ceil(activeTimestampFontSize * 0.75);\n    // BELOW\n    if (options.globalShowTimestampPosition === TimestampPositions.BELOW_VALUE) {\n      compositeTimestampLineSpacing = Math.ceil(activeTimestampFontSize);\n    }\n  }\n\n\n  const drawShape = (index: number, shape: PolygonShapes) => {\n    let fillColor = options.processedData![index].color;\n    if (options.globalGradientsEnabled) {\n      // TODO: safari needs the location.href\n      fillColor = `url(#${uniquePanelId}_linear_gradient_state_data_${index})`;\n    }\n    const useRadius = lm.generateRadius(options.globalShape);\n    const coords = getCoords(index);\n    if (!coords) {\n      return;\n    }\n\n    switch (shape as any) {\n      case PolygonShapes.HEXAGON_POINTED_TOP:\n        return (\n          <path\n            data-tooltip-id={options.globalTooltipsEnabled ? `polystat-tooltip-${uniquePanelId}` : null}\n            data-tooltip-content={index}\n            data-tooltip-position-strategy='fixed'\n            className={svgPathStyles}\n            key={`polystat-tooltip-${uniquePanelId}`}\n            transform={`translate(${coords.x}, ${coords.y})`}\n            d={customShape}\n            fill={fillColor}\n            stroke={options.globalPolygonBorderColor}\n            strokeWidth={options.globalPolygonBorderSize + 'px'}\n          />\n        );\n      case PolygonShapes.CIRCLE:\n        return (\n          <circle\n            data-tooltip-id={options.globalTooltipsEnabled ? `polystat-tooltip-${uniquePanelId}` : null}\n            data-tooltip-content={index}\n            data-tooltip-position-strategy='fixed'\n            key={`polystat-tooltip-${uniquePanelId}`}\n            className={svgPathStyles}\n            cx={coords.x}\n            cy={coords.y}\n            r={useRadius}\n            fill={fillColor}\n          />\n        );\n      case PolygonShapes.SQUARE:\n        return (\n          <rect\n            data-tooltip-id={options.globalTooltipsEnabled ? `polystat-tooltip-${uniquePanelId}` : null}\n            data-tooltip-content={index}\n            data-tooltip-position-strategy='fixed'\n            key={`polystat-tooltip-${uniquePanelId}`}\n            className={svgPathStyles}\n            x={coords.x}\n            y={coords.y}\n            height={useRadius * 2}\n            width={useRadius * 2}\n            fill={fillColor}\n          />\n        );\n      default:\n        return (\n          <path\n            data-tooltip-id={options.globalTooltipsEnabled ? `polystat-tooltip-${uniquePanelId}` : null}\n            data-tooltip-content={index}\n            data-tooltip-position-strategy='fixed'\n            className={svgPathStyles}\n            key={`polystat-tooltip-${uniquePanelId}`}\n            transform={`translate(${coords.x}, ${coords.y})`}\n            d={customShape}\n            fill={fillColor}\n            stroke={options.globalPolygonBorderColor}\n            strokeWidth={options.globalPolygonBorderSize + 'px'}\n          />\n        );\n    }\n  };\n\n  // allows the polygon to fill the horizontal space if the manually specified number of columns has not been used\n  let marginLeft = margin.left;\n  if ((!options.autoSizeColumns) && (radius) && (lm.maxColumnsUsed < options.layoutNumColumns)) {\n    let difference = options.layoutNumColumns - lm.maxColumnsUsed;\n    marginLeft += radius * difference;\n  }\n  // allows the polygon to fill the vertical space if the manually specified number of rows has not been used\n  let marginTop = margin.top;\n  if ((!options.autoSizeRows) && (radius) && (lm.maxRowsUsed < options.layoutNumRows)) {\n    let difference = options.layoutNumRows - lm.maxRowsUsed;\n    // always starts at zero, skip offset for first row used\n    marginTop += radius * (difference - 1);\n  }\n\n  const getLabelContent = (item: PolystatModel, index: number, coords: { x: number, y: number }) => {\n    let verticalAlignment = alignments.labelWithValueTextAlignment;\n    if (!item.showValue) {\n      verticalAlignment = alignments.labelOnlyTextAlignment;\n    }\n    return (\n      <text\n        className=\"toplabel\"\n        x={coords.x + alignments.labelTextAlignmentX}\n        y={coords.y + verticalAlignment}\n        textAnchor=\"middle\"\n        fontFamily={options.globalTextFontFamily}\n        fontSize={activeLabelFontSize + 'px'}\n        style={{\n          fill: options.globalTextFontAutoColorEnabled\n            ? options.globalTextFontAutoColor\n            : options.globalTextFontColor,\n          pointerEvents: 'none',\n        }}\n      >\n        {\n          item.showName &&\n          getTextToDisplay(\n            options.globalAutoScaleFonts,\n            options.ellipseEnabled,\n            options.ellipseCharacters,\n            showEllipses,\n            numOfChars,\n            item.name,\n            item.displayName\n          )}\n      </text>\n    );\n  };\n\n  const getValueContent = (item: PolystatModel, index: number, coords: { x: number, y: number }) => {\n    // default\n    let verticalAlignment = alignments.valueWithLabelTextAlignment;\n    // check if showTimeStamp is enabled\n    // TODO: the show value should be inside the item also\n    if (options.globalShowTimestampEnabled) {\n      // TODO: the offset should be put inside the item also to handle overrides and composites correctly\n      if (isNaN(options.globalShowTimestampYOffset)) {\n        options.globalShowTimestampYOffset = 0;\n      }\n      switch (options.globalShowTimestampPosition) {\n        case TimestampPositions.ABOVE_VALUE:\n          verticalAlignment = alignments.valueWithLabelTextAlignment;\n          break;\n        case TimestampPositions.BELOW_VALUE:\n          verticalAlignment = alignments.timestampAlignment + timestampLineSpacing;\n          if (item.isComposite && item.showValue) {\n            // compositeTimestampLineSpacing not used for composite here\n            verticalAlignment = alignments.timestampAlignment;\n          }\n          break;\n      }\n    }\n    let valueContent = \"\";\n    if (item.isComposite) {\n      if (item.showValue) {\n        valueContent = formatCompositeValueAndTimestamp(0, item,\n          options.globalDisplayTextTriggeredEmpty)[0];\n      }\n    } else {\n      if (options.globalShowValueEnabled) {\n        valueContent = item.valueFormatted;\n      }\n    }\n    let useFontSize = activeValueFontSize;\n    if (item.isComposite) {\n      useFontSize = activeCompositeValueFontSize;\n    }\n    return (\n      <text\n        ref={animationRefs[index]}\n        className={`valueLabel${index}`}\n        x={coords.x + alignments.labelValueAlignmentX}\n        y={coords.y + verticalAlignment}\n        textAnchor=\"middle\"\n        fontFamily={options.globalTextFontFamily}\n        fontSize={useFontSize + 'px'}\n        style={{\n          fill: options.globalTextFontAutoColorEnabled\n            ? options.globalTextFontAutoColor\n            : options.globalTextFontColor,\n          pointerEvents: 'none',\n        }}\n      >\n        {valueContent}\n      </text>\n    );\n  };\n\n  const getTimestampForValueContent = (item: PolystatModel, index: number, coords: { x: number, y: number }) => {\n    // TODO: the offset should be put inside the item also to handle overrides and composites correctly\n    if (isNaN(options.globalShowTimestampYOffset)) {\n      options.globalShowTimestampYOffset = 0;\n    }\n    let verticalAlignment = alignments.timestampAlignment - timestampLineSpacing + options.globalShowTimestampYOffset;\n    switch (options.globalShowTimestampPosition) {\n      case TimestampPositions.ABOVE_VALUE:\n        if (item.showValue) {\n          verticalAlignment = alignments.timestampAlignment - timestampLineSpacing + options.globalShowTimestampYOffset;\n          if (item.isComposite) {\n            verticalAlignment = alignments.timestampAlignment - compositeTimestampLineSpacing + options.globalShowTimestampYOffset;\n          }\n        } else {\n          // the below calc can be used when value is not displayed\n          verticalAlignment = alignments.valueWithLabelTextAlignment + options.globalShowTimestampYOffset;\n        }\n        break;\n      case TimestampPositions.BELOW_VALUE:\n        verticalAlignment = alignments.valueWithLabelTextAlignment + options.globalShowTimestampYOffset;\n        if (item.isComposite && item.showValue) {\n          verticalAlignment = activeCompositeValueFontSize + compositeTimestampLineSpacing + options.globalShowTimestampYOffset;\n        }\n        break;\n    }\n    return (\n      <text\n        ref={animationTimestampRefs[index]}\n        className={`timestampLabel${index}`}\n        x={coords.x + alignments.labelValueAlignmentX}\n        y={coords.y + verticalAlignment}\n        textAnchor=\"middle\"\n        fontFamily={options.globalTextFontFamily}\n        fontSize={activeTimestampFontSize + 'px'}\n        style={{\n          fill: options.globalTextFontAutoColorEnabled\n            ? options.globalTextFontAutoColor\n            : options.globalTextFontColor,\n          pointerEvents: 'none',\n        }}\n      >\n        {options.globalShowTimestampEnabled &&\n          (item.isComposite\n            ? formatCompositeValueAndTimestamp(0, item, options.globalDisplayTextTriggeredEmpty)[1]\n            : item.timestampFormatted)}\n      </text>\n    )\n  };\n\n  const detectEmptyState = detectNoDataEmptyState();\n  if (detectEmptyState !== null) {\n    return detectEmptyState;\n  }\n\n  const layoutIssueDetected = detectLayoutIssue();\n  if (layoutIssueDetected !== null) {\n    return layoutIssueDetected;\n  }\n\n  return (\n    <div className={divStyles}>\n      <svg\n        className={svgStyles}\n        width={options.panelWidth}\n        height={options.panelHeight}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n        viewBox={`${xoffset},${yoffset},${options.panelWidth},${options.panelHeight}`}\n      >\n\n        <g transform={`translate(${marginLeft},${marginTop})`}>\n          <Gradients gradientId={uniquePanelId} data={options.processedData} />\n\n          {options.processedData!.map((item, index) => {\n            const coords = getCoords(index);\n            if (!coords) {\n              return;\n            }\n            const useUrl = item.sanitizeURLEnabled ? item.sanitizedURL : item.clickThrough;\n            // determine if a target is required\n            const resolvedClickthroughTarget = resolveClickThroughTarget(item);\n            let clickableUrl: JSX.Element;\n            // only add target attribute when there is one specified\n            if ((resolvedClickthroughTarget.length > 0) && (useUrl.length > 0)) {\n              clickableUrl = <a target={resolvedClickthroughTarget} href={useUrl}>\n                {drawShape(index, options.globalShape)}\n              </a>;\n            } else {\n              clickableUrl = <a href={useUrl}>\n                {drawShape(index, options.globalShape)}\n              </a>;\n            }\n            return (\n              <>\n                {useUrl.length > 0 && clickableUrl ? (\n                  clickableUrl\n                ) : (\n                  drawShape(index, options.globalShape)\n                )}\n                {getLabelContent(item, index, coords)}\n                {getValueContent(item, index, coords)}\n                {getTimestampForValueContent(item, index, coords)}\n              </>\n            );\n          })}\n        </g>\n      </svg>\n      {options.globalTooltipsEnabled && (\n        <Portal>\n          <ReactTooltip\n            style={{\n              boxShadow: 'rgba(1, 4, 9, 0.75) 0px 4px 8px 0px',\n            }}\n            id={options.globalTooltipsEnabled ? `polystat-tooltip-${uniquePanelId}` : undefined}\n            place={'bottom'} // TODO: make this configurable\n            float={true}\n            variant={tooltipTheme} // TODO: this could be made configurable (auto, or specified)\n            opacity={1} // TODO: make this configurable\n            clickable={false} // TODO: make this configurable, extend with per-line clickthrough\n            render={({ content }) => {\n              // generate tooltip for item\n              if (content) {\n                const contentIndex = parseInt(content, 10);\n                return (\n                  <Tooltip\n                    data={options.processedData![contentIndex]}\n                    renderTime={options.renderTime!}\n                    showTime={options.globalTooltipsShowTimestampEnabled}\n                    valueEnabled={options.globalTooltipsShowValueEnabled}\n                    tooltipColumnHeadersEnabled={options.globalShowTooltipColumnHeadersEnabled}\n                    primarySortByField={options.tooltipPrimarySortByField}\n                    primarySortDirection={options.tooltipPrimarySortDirection}\n                    secondarySortByField={options.tooltipSecondarySortByField}\n                    secondarySortDirection={options.tooltipSecondarySortDirection}\n                    displayMode={options.tooltipDisplayMode}\n                    tooltipDisplayTextTriggeredEmpty={options.tooltipDisplayTextTriggeredEmpty}\n                    tooltipFontFamily={options.globalTooltipsFontFamily}\n                  />\n                )\n              }\n              return (<></>)\n            }} />\n        </Portal>\n\n      )}\n    </div>\n  );\n};\n\nexport const getTextToDisplay = (\n  autoSizeFonts: boolean,\n  ellipseEnabled: boolean,\n  ellipseCharacters: number,\n  showEllipses: boolean,\n  numOfChars: number,\n  text: string,\n  displayName: string\n) => {\n  if (displayName !== '') {\n    text = displayName;\n  }\n  if (showEllipses) {\n    if (text.length > numOfChars) {\n      return text.substring(0, numOfChars) + '...';\n    }\n  }\n  if (!autoSizeFonts && ellipseEnabled && text.length > ellipseCharacters) {\n    return text.substring(0, ellipseCharacters) + '...';\n  }\n  return text;\n};\n\n/*\n              The element #{content} is currently not active.\n              <br />\n              Relevant attribute: {activeAnchor?.getAttribute('data-some-relevant-attr') || 'not set'}\n            </span>\n*/\n\nconst buildTriggerCache = (item: any) => {\n  let triggerCache = [];\n  for (let i = 0; i < item.members.length; i++) {\n    const aMember = item.members[i];\n    if (aMember.thresholdLevel > 0) {\n      // add to list\n      const cachedMemberState = {\n        index: i,\n        name: aMember.name,\n        value: aMember.value,\n        thresholdLevel: aMember.thresholdLevel,\n      };\n      triggerCache.push(cachedMemberState);\n    }\n  }\n  // sort it\n  triggerCache = lodashOrderBy(triggerCache, ['thresholdLevel', 'value', 'name'], ['desc', 'desc', 'asc']);\n  return triggerCache;\n};\n\nconst formatCompositeValueAndTimestamp = (frames: number, item: PolystatModel, globalDisplayTextTriggeredEmpty: string) => {\n  // TODO: if just one value, could speed this up\n  let content = item.valueFormatted;\n  let timestampContent = item.timestampFormatted;\n  const len = item.members.length;\n  if (len > 0) {\n    let triggeredIndex = -1;\n    if (item.displayMode === DisplayModes[0].value) {\n      triggeredIndex = frames % len;\n    } else {\n      if (typeof item.triggerCache === 'undefined') {\n        item.triggerCache = buildTriggerCache(item);\n      }\n      if (item.triggerCache.length > 0) {\n        const z = frames % item.triggerCache.length;\n        triggeredIndex = item.triggerCache[z].index;\n      } else {\n        // nothing triggered        //triggeredIndex = frames % len;\n        return [globalDisplayTextTriggeredEmpty, ''];\n      }\n    }\n    const aMember = Object.assign({}, item.members[triggeredIndex]);\n    content = aMember.name + ': ' + aMember.valueFormatted;\n    timestampContent = aMember.timestampFormatted;\n  }\n  return [textUtil.sanitize(content), timestampContent];\n};\n","import { PolygonShapes } from \"./types\";\n\nexport const GetAlignments = (\n  shape: PolygonShapes,\n  diameterX: number,\n  diameterY: number,\n  textAreaHeight: number,\n  activeValueFontSize: number,\n  activeLabelFontSize: number,\n  activeTimestampFontSize: number,\n  showTimestampEnabled: boolean,\n) => {\n  let valueWithLabelTextAlignment = textAreaHeight / 2 / 2 + activeValueFontSize / 2;\n  let valueOnlyTextAlignment = activeValueFontSize / 2;\n  let labelWithValueTextAlignment = -(textAreaHeight / 2 / 2) + activeLabelFontSize / 2;\n  let labelOnlyTextAlignment = activeLabelFontSize / 2;\n  let labelTextAlignmentX = 0;\n  let labelValueAlignmentX = 0;\n  let valueWithTimestampAlignment = valueWithLabelTextAlignment / 2;\n  let timestampAlignment = textAreaHeight * 0.33 / 2 + activeTimestampFontSize / 2;\n  switch (shape) {\n    case PolygonShapes.HEXAGON_POINTED_TOP:\n      // offset when only showing label\n      labelOnlyTextAlignment = activeLabelFontSize * 0.37;\n      if (showTimestampEnabled && activeTimestampFontSize > 0) {\n        // adjust value down\n        valueWithLabelTextAlignment = textAreaHeight * 0.67 / 2 + activeValueFontSize / 2;\n      }\n      break;\n    case PolygonShapes.CIRCLE:\n      // offset when only showing label\n      labelOnlyTextAlignment = activeLabelFontSize * 0.37;\n      if (showTimestampEnabled && activeTimestampFontSize > 0) {\n        // adjust value down\n        valueWithLabelTextAlignment = textAreaHeight * 0.67 / 2 + activeValueFontSize / 2;\n      }\n      break;\n    case PolygonShapes.SQUARE:\n      // square is \"centered\" at top left, not the center\n\n      // compute alignment for each text element, base coordinate is in the top left corner (text is anchored at its bottom):\n      // - Value text (bottom text) will be aligned (positively i.e. lower) in the middle of the bottom half of the text area\n      // - Label text (top text) will be aligned in the middle of the top half of the text area\n      valueWithLabelTextAlignment = diameterY / 1.5 + activeValueFontSize / 2;\n      valueOnlyTextAlignment = diameterY / 2 + activeLabelFontSize * 0.37;\n      labelWithValueTextAlignment = diameterY / 4 + activeLabelFontSize / 2;\n      // alignment is equal to the half of height plus a fraction of the fontSize\n      labelOnlyTextAlignment = diameterY / 2 + activeLabelFontSize * 0.37;\n      //\n      labelTextAlignmentX = diameterX / 2;\n      labelValueAlignmentX = diameterX / 2;\n      if (showTimestampEnabled && activeTimestampFontSize > 0) {\n        // line spacing offset is needed\n        timestampAlignment = diameterY / 1.5 - (activeTimestampFontSize * 0.67);\n      }\n      break;\n  }\n  return {\n    valueWithLabelTextAlignment,\n    valueOnlyTextAlignment,\n    valueWithTimestampAlignment,\n    labelWithValueTextAlignment,\n    labelOnlyTextAlignment,\n    labelTextAlignmentX,\n    labelValueAlignmentX,\n    timestampAlignment,\n  };\n};\n","import { DataFrame, Field, FieldType, FieldConfig, Vector } from '@grafana/data';\n\n// Inserts a \"Time\" field into each dataframe if it is missing\n// the value of the timestamp is \"now\"\n// any field without a numeric type is considered a label\nexport function InsertTime(data: DataFrame[]): DataFrame[] {\n  // TODO: time to insert can be taken from the first row if there are timeseries already\n  // for now, just insert now\n  const timeToInsert = Date.now();\n  const newData: DataFrame[] = [];\n  for (const frame of data) {\n    const newFrame: DataFrame = {\n      ...frame,\n      meta: {...frame.meta},\n      fields: [], // clear the fields\n    };\n    const hasTimestamp = frameHasTimestamp(frame);\n    // rebuild a new frame with labels on the numerical fields\n    for (const aField of frame.fields) {\n      if (aField.type === FieldType.number) {\n        if (!hasTimestamp) {\n          const copiedField = Object.assign({}, aField);\n          // need to get the number of rows of data for this frame\n          const aFieldValues = copiedField.values.toArray();\n          const rowsOfField = aFieldValues.length;\n          for (let rowNum = 0; rowNum < rowsOfField; rowNum++) {\n            // only create a new field when the rowValue is not null\n            if (aFieldValues[rowNum] !== null) {\n              if (aField.state) {\n                copiedField.state = Object.assign({}, aField.state);\n              }\n              newFrame.fields.push({\n                ...copiedField,\n                labels: flattenLabels(frame, rowNum),\n                values: [getValueOfField(copiedField, rowNum)] as any,\n              });\n            }\n          }\n        } else {\n          // copy the object\n          const copiedField = Object.assign({}, aField);\n          if (aField.state) {\n            copiedField.state = Object.assign({}, aField.state);\n          }\n          newFrame.fields.push(copiedField);\n        }\n      }\n    }\n    if (!hasTimestamp) {\n      const fc: FieldConfig = {};\n      const timeField: Field = {\n        name: 'Time',\n        type: FieldType.time,\n        values: [timeToInsert] as any,\n        config: fc,\n      };\n      // insert it\n      newFrame.fields.push(timeField);\n    } else {\n      // time field already exists\n      // copy all non-number fields from original frame\n      for (const aField of frame.fields) {\n        if (aField.type !== FieldType.number) {\n          const copiedField = Object.assign({}, aField);\n          if (aField.state) {\n            copiedField.state = Object.assign({}, aField.state);\n          }\n          newFrame.fields.push(copiedField);\n        }\n      }\n    }\n    newData.push(newFrame);\n  }\n\n  return newData;\n}\n\nfunction frameHasTimestamp(frame: DataFrame): boolean {\n  for (let j = 0; j < frame.fields.length; j++) {\n    const aField = frame.fields[j];\n    if (aField.type === FieldType.time) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction flattenLabels(frame: DataFrame, rowNum: number) {\n  let labelIndexes = [];\n  const numFields = frame.fields.length;\n\n  // first get the fields of type string\n  for (let j = 0; j < numFields; j++) {\n    if (frame.fields[j].type === FieldType.string) {\n      labelIndexes.push(j);\n    }\n  }\n  let labelWithValues = getLabelValues(frame, labelIndexes, rowNum);\n  return labelWithValues;\n}\n\nfunction getValueOfField(field: Field, index: number) {\n  const bufferValue = field.values.toArray()[index];\n  return bufferValue;\n}\n\nfunction getLabelValues(frame: DataFrame, indexes: any[], rowNum: number) {\n  let labelAndValue = {};\n  for (let index = 0; index < indexes.length; index++) {\n    let indexValue = indexes[index];\n    let aField = frame.fields[indexValue];\n    if (aField.type !== FieldType.number) {\n      let value = getValueOfField(aField, rowNum);\n      // TODO: fix this...\n      // @ts-ignore\n      labelAndValue[aField.name] = value;\n    }\n  }\n  return labelAndValue;\n}\n","import { DEFAULT_NO_DATA_COLOR_HEX } from '../components/defaults';\nimport { PolystatThreshold } from '../components/thresholds/types';\nimport { PolystatModel } from '../components/types';\n/*\n\nThis supports ranged states\n\nThresholds are expected to be sorted by ascending value, where\n  T0 = lowest decimal value, any state\n  TN = highest decimal value, any state\n\nInitial state is set to \"ok\"\n\nA comparison is made using \"greater than or equal to\" against the value\n  If value >= thresholdValue state = X\n\nComparisons are made in reverse order, using the range between the Nth (inclusive) threshold and N+1 (exclusive)\n  InclusiveValue = T(n).value\n  ExclusiveValue = T(n+1).value\n\nWhen there is no n+1 threshold, the highest value threshold T(n), a simple inclusive >= comparison is made\n\n  Example 1: (typical linear)\n    T0 - 5, ok\n    T1 - 10, warning\n    T2 - 20, critical\n\n  Value >= 20 (Value >= T2)\n  10 <= Value < 20  (T1 <= Value < T2)\n  5 <= Value < 10   (T0 <= Value < T1)\n\n  Example 2: (reverse linear)\n    T0 - 50, critical\n    T1 - 90, warning\n    T2 - 100, ok\n\n  Value >= 100\n  90 <= value < 100\n  50 <= value < 90\n\n  Example 3: (bounded)\n    T0 - 50, critical\n    T1 - 60, warning\n    T2 - 70, ok\n    T3 - 80, warning\n    T4 - 90, critical\n\n    Value >= 90\n    80 <= Value < 90\n    70 <= Value < 80\n    60 <= Value < 70\n    50 <= Value < 60\n\nThe \"worst\" state is returned after checking every threshold range\n\n*/\nfunction getWorstSeries(series1: PolystatModel, series2: PolystatModel): any {\n  let worstSeries = series1;\n  const series1ThresholdLevel = series1.thresholdLevel;\n  const series2ThresholdLevel = series2.thresholdLevel;\n\n  if (series1ThresholdLevel === undefined || series2ThresholdLevel === undefined) {\n    return worstSeries;\n  }\n\n  // State 3 is Unknown and is not be worse than CRITICAL (state 2)\n  if (series2ThresholdLevel > series1ThresholdLevel) {\n    // series2 has higher threshold violation\n    worstSeries = series2;\n  }\n  if (series1ThresholdLevel === 3) {\n    // series1 is in state unknown, check if series2 is in state 1 or 2\n    switch (series2ThresholdLevel) {\n      case 1:\n        worstSeries = series2;\n        break;\n      case 2:\n        worstSeries = series2;\n        break;\n    }\n  }\n  return worstSeries;\n}\n\nfunction getThresholdLevelForValue(\n  thresholds: PolystatThreshold[] | undefined,\n  value: number | null,\n  defaultColor: string\n): { thresholdLevel: number; color: string } {\n  let currentColor = defaultColor;\n  if (value === null) {\n    return { thresholdLevel: 3, color: DEFAULT_NO_DATA_COLOR_HEX }; // No Data\n  }\n  // assume UNKNOWN state\n  let currentState = -1;\n  // skip evaluation when there are no thresholds\n  if (typeof thresholds === 'undefined') {\n    return { thresholdLevel: currentState, color: defaultColor };\n  }\n  // test \"Nth\" threshold\n  const thresholdCount = thresholds.length;\n  if (thresholdCount === 0) {\n    return { thresholdLevel: currentState, color: defaultColor };\n  }\n  const aThreshold = thresholds[thresholdCount - 1];\n  if (value >= aThreshold.value) {\n    currentState = aThreshold.state;\n    currentColor = aThreshold.color;\n  }\n  // if there's one threshold, just return the result\n  if (thresholds.length === 1) {\n    return { thresholdLevel: currentState, color: currentColor };\n  }\n  // now test in reverse\n  for (let i = thresholdCount - 1; i > 0; i--) {\n    const upperThreshold = thresholds[i];\n    const lowerThreshold = thresholds[i - 1];\n    if (lowerThreshold.value <= value && value < upperThreshold.value) {\n      if (currentState < lowerThreshold.state) {\n        currentState = lowerThreshold.state;\n        currentColor = lowerThreshold.color;\n      }\n    }\n  }\n  // last check, if currentState is not set, and there is a lower threshold, use that value (inclusive range up to T1)\n  if (currentState === -1) {\n    currentState = thresholds[0].state;\n    currentColor = thresholds[0].color;\n  }\n  return { thresholdLevel: currentState, color: currentColor };\n}\n\nexport { getWorstSeries, getThresholdLevelForValue };\n","/**\n * Convert model data to url params\n */\nimport { stringToJsRegex } from '@grafana/data';\nimport { PolystatModel } from '../components/types';\n\nclass ClickThroughTransformer {\n  static cellName = /\\${__cell_name}/;\n  static cellValue = /\\${__cell}/;\n  static cellRawValue = /\\${__cell:raw}/;\n\n  static nthCellName = /\\${__cell_name_(\\d+)}/;\n  static nthCellValue = /\\${__cell_(\\d+)}/;\n  static nthCellRawValue = /\\${__cell_(\\d+):raw}/;\n\n  static compositeNameRegex = /\\${__composite_name}/;\n\n  static transformSingleMetric(index: number, url: string, data: PolystatModel[]): string {\n    if (isNaN(index)) {\n      return url;\n    }\n    const item = data[index];\n    // check if url contains any dereferencing\n    while (url.match(this.cellName)) {\n      // replace with series name\n      url = url.replace(this.cellName, encodeURIComponent(item.name));\n    }\n    while (url.match(this.cellValue)) {\n      // replace with formatted value, and encoded\n      url = url.replace(this.cellValue, encodeURIComponent(item.valueFormatted));\n    }\n    while (url.match(this.cellRawValue)) {\n      // replace with value\n      url = url.replace(this.cellRawValue, encodeURIComponent(item.value.toString()));\n    }\n    return url;\n  }\n\n  static transformNthMetric(url: string, data: PolystatModel[]) {\n    while (url.match(this.nthCellName)) {\n      const matched = url.match(this.nthCellName);\n      if (matched && matched.length >= 2) {\n        // get the capture number\n        const captureIndex = matched[1] as unknown as number;\n        const nthName = data[captureIndex].name;\n        // replace with series name\n        url = url.replace(this.nthCellName, nthName);\n      }\n    }\n    while (url.match(this.nthCellValue)) {\n      const matched = url.match(this.nthCellValue);\n      if (matched && matched.length >= 2) {\n        // get the capture number\n        const captureIndex = matched[1] as unknown as number;\n        const nthValue = data[captureIndex].valueFormatted;\n        // replace with formatted value encoded\n        url = url.replace(this.nthCellValue, encodeURIComponent(nthValue));\n      }\n    }\n    while (url.match(this.nthCellRawValue)) {\n      const matched = url.match(this.nthCellRawValue);\n      if (matched && matched.length >= 2) {\n        // get the capture number\n        const captureIndex = matched[1] as unknown as number;\n        const nthValue = data[captureIndex].value;\n        // replace with raw value\n        url = url.replace(this.nthCellRawValue, nthValue.toString());\n      }\n    }\n    return url;\n  }\n\n  static transformComposite(name: string, url: string) {\n    // check if url contains any dereferencing\n    while (url.match(this.compositeNameRegex)) {\n      // replace with series name\n      url = url.replace(this.compositeNameRegex, name);\n    }\n    return url;\n  }\n\n  static transformByRegex(pattern: string, item: PolystatModel, url: string) {\n    // detect regex capture groups from override.metricName and replace any occurrences in the click-through\n    const regex = stringToJsRegex(pattern);\n    const matches = item.name.match(regex);\n    if (matches && matches.length > 0) {\n      matches.forEach((aMatch, index) => {\n        const value = matches[index];\n        // console.log(`a match ${aMatch} index ${index} value ${value}`);\n        const matchType1 = `\\$\\{${index}\\}`;\n        url = url.replace(matchType1, value);\n        const matchType2 = `\\$${index}`;\n        url = url.replace(matchType2, value);\n      });\n    }\n    if (matches && matches.groups) {\n      for (const key in matches.groups) {\n        const value = matches.groups[key];\n        // console.log(`key = ${key} value = ${value}`);\n        // support $CAPTURE and ${CAPTURE}\n        const matchType1 = `\\$\\{${key}\\}`;\n        url = url.replace(matchType1, value);\n        const matchType2 = `\\$${key}`;\n        url = url.replace(matchType2, value);\n      }\n    }\n    return url;\n  }\n}\n\nexport { ClickThroughTransformer };\n","export const CUSTOM_SPLIT_DELIMITER = '##';\n","import { dateTime } from '@grafana/data';\n\nexport const TimeFormatter = (timeZone: string, timestamp: number, timestampFormat: string): string => {\n  const timestampFormatted =\n    timeZone === 'utc'\n      ? dateTime(timestamp)\n        .utc()\n        .format(timestampFormat)\n      : dateTime(timestamp).format(timestampFormat);\n  return timestampFormatted;\n}\n","import { includes as lodashIncludes } from 'lodash';\nimport { PolystatModel } from '../components/types';\nimport { getWorstSeries } from './threshold_processor';\nimport { ClickThroughTransformer } from './clickThroughTransformer';\nimport { stringToJsRegex, escapeStringForRegex, ScopedVars, InterpolateFunction, textUtil } from '@grafana/data';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport { CompositeItemType, CompositeMetric } from '../components/composites/types';\nimport { CUSTOM_SPLIT_DELIMITER } from './types';\nimport { ApplyGlobalRegexPattern } from './processor';\nimport { TimeFormatter } from './time_formatter';\n\nexport const resolveCompositeTemplates = (\n  metricComposites: CompositeItemType[],\n  replaceVariables: InterpolateFunction\n): CompositeItemType[] => {\n  const ret: CompositeItemType[] = [];\n  metricComposites.forEach((item: CompositeItemType) => {\n    const resolved = replaceVariables(item.name, undefined, customFormatter).split(CUSTOM_SPLIT_DELIMITER);\n    // if the composite name has template syntax, mark it as isTemplated true\n    const variableRegex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)(?::(\\w+))?\\]\\]|\\${(\\w+)(?:\\.([^:^\\}]+))?(?::(\\w+))?}/g;\n    const matchResult = item.name.match(variableRegex);\n    if (matchResult && matchResult.length > 0) {\n      item.isTemplated = true;\n    }\n    resolved.forEach((newName: string) => {\n      ret.push({\n        ...item,\n        name: newName,\n        isTemplated: item.isTemplated,\n      });\n    });\n  });\n\n  return ret;\n};\n\nexport const customFormatter = (value: any) => {\n  if (Object.prototype.toString.call(value) === '[object Array]') {\n    return value.join(CUSTOM_SPLIT_DELIMITER);\n  }\n  return value;\n};\n\nexport const resolveMemberTemplates = (\n  compositeName: string,\n  members: CompositeMetric[],\n  replaceVariables: InterpolateFunction\n): CompositeMetric[] => {\n  const ret: CompositeMetric[] = [];\n  const variableRegex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)(?::(\\w+))?\\]\\]|\\${(\\w+)(?:\\.([^:^\\}]+))?(?::(\\w+))?}/g;\n  // the metric name must exactly match the composite name\n  const compositeNameRegex = new RegExp(`^${compositeName}$`);\n  members.forEach((member) => {\n    // Resolve templates in series names\n    if (member.seriesMatch) {\n      const matchResult = member.seriesMatch.match(variableRegex);\n      if (matchResult && matchResult.length > 0) {\n        matchResult.forEach((aMatch) => {\n          // expand the templatedName (append compositeName to the variables first)\n          const scopedVars: ScopedVars = {\n            compositeName: { text: 'compositeName', value: compositeName },\n          };\n          // template variables can be multi-select, or \"all\", iterate over each match\n          const resolvedSeriesNames = replaceVariables(aMatch, scopedVars, customFormatter).split(CUSTOM_SPLIT_DELIMITER);\n          // iterate over the array of names\n          if (resolvedSeriesNames && resolvedSeriesNames.length) {\n            resolvedSeriesNames.forEach((aName) => {\n              // exact match of the composite name is required\n              if (aName.match(compositeNameRegex)) {\n                const newName = member.seriesMatch.replace(aMatch, aName);\n                const escapedName = escapeStringForRegex(aName);\n                const newNameEscaped = member.seriesMatch.replace(aMatch, escapedName);\n                ret.push({\n                  ...member,\n                  seriesName: newName,\n                  seriesNameEscaped: newNameEscaped,\n                });\n              }\n            });\n          }\n        });\n      } else {\n        ret.push(member);\n      }\n    }\n  });\n\n  return ret;\n};\n\nconst resolveMemberAliasTemplates = (name: string, matches: any): string => {\n  const scopedVars: ScopedVars = {};\n  matches.forEach((name: string, i: number) => {\n    scopedVars[i] = { text: i, value: name };\n  });\n  if (matches.groups) {\n    Object.keys(matches.groups).forEach((key) => {\n      scopedVars[key.replace(/\\s+/g, '_')] = { text: key, value: matches.groups[key] };\n    });\n  }\n  return getTemplateSrv().replace(name, scopedVars);\n};\n\n/**\n * Copies values, leaves members empty\n */\nconst shallowClone = (item: PolystatModel): PolystatModel => {\n  const clone: PolystatModel = {\n    value: item.value,\n    valueFormatted: item.valueFormatted,\n    valueRounded: item.valueRounded,\n    stats: item.stats,\n    name: item.name,\n    displayName: item.displayName,\n    timestamp: item.timestamp,\n    timestampFormatted: item.timestampFormatted,\n    prefix: item.prefix,\n    suffix: item.suffix,\n    color: item.color,\n    clickThrough: item.clickThrough,\n    operatorName: item.operatorName,\n    newTabEnabled: item.newTabEnabled,\n    sanitizedURL: item.sanitizedURL,\n    sanitizeURLEnabled: item.sanitizeURLEnabled,\n    customClickthroughTargetEnabled: false,\n    customClickthroughTarget: '',\n    showName: item.showName,\n    showValue: item.showValue,\n    showTimestamp: item.showTimestamp,\n    isComposite: item.isComposite,\n    members: [],\n    mappings: item.mappings,\n  };\n  return clone;\n};\n\nexport const ApplyComposites = (\n  composites: CompositeItemType[],\n  data: PolystatModel[],\n  replaceVariables: InterpolateFunction,\n  compositesGlobalAliasingEnabled: boolean,\n  timeZone: string,\n  globalRegexPattern?: string,\n): PolystatModel[] => {\n  if (!composites) {\n    return data;\n  }\n\n  const filteredMetrics: number[] = [];\n  const keepMetrics: number[] = [];\n  const clonedComposites: PolystatModel[] = [];\n  // the composite Name can be a template variable\n  // the composite should only match specific metrics or expanded templated metrics that use the composite name\n  const resolvedComposites = resolveCompositeTemplates(composites, replaceVariables);\n  for (let i = 0; i < resolvedComposites.length; i++) {\n    const matchedMetrics: number[] = [];\n    const aComposite = resolvedComposites[i];\n    if (!aComposite.showComposite) {\n      continue;\n    }\n    let currentWorstSeries = null;\n    // this should filter the members that are matches for the composite name\n    const templatedMembers = resolveMemberTemplates(aComposite.name, aComposite.metrics, replaceVariables);\n    for (let j = 0; j < templatedMembers.length; j++) {\n      const aMetric = templatedMembers[j];\n      // look for the matches to the pattern in the data\n      for (let index = 0; index < data.length; index++) {\n        // match regex\n        // seriesName may not be defined yet, skip\n        if (typeof aMetric.seriesMatch === 'undefined') {\n          continue;\n        }\n        // name may not be escaped, check both\n        let metricName = aMetric.seriesMatch;\n        if (aMetric.seriesNameEscaped !== undefined) {\n          metricName = aMetric.seriesNameEscaped;\n        }\n        const regex = stringToJsRegex(metricName);\n        const matches = regex.exec(data[index].name);\n        if (matches && matches.length > 0) {\n          const seriesItem = data[index];\n          // Template out the name of the metric using the alias\n          if (aMetric.alias && aMetric.alias.length > 0) {\n            seriesItem.displayName = resolveMemberAliasTemplates(aMetric.alias, matches);\n          }\n\n          // keep index of the matched metric\n          matchedMetrics.push(index);\n          // only hide if requested\n          if (!aComposite.showMembers) {\n            filteredMetrics.push(index);\n          } else {\n            keepMetrics.push(index);\n          }\n          if (aComposite.clickThrough && aComposite.clickThrough.length > 0) {\n            let url = aComposite.clickThrough;\n            // apply both types of transforms, one targeted at the data item index, and secondly the nth variant\n            url = ClickThroughTransformer.transformComposite(aComposite.name, url);\n            url = ClickThroughTransformer.transformSingleMetric(index, url, data);\n            url = ClickThroughTransformer.transformNthMetric(url, data);\n            // lastly apply template variables\n            url = replaceVariables(url);\n            seriesItem.clickThrough = url;\n            seriesItem.sanitizedURL = textUtil.sanitizeUrl(url);\n            seriesItem.customClickthroughTarget = aComposite.clickThroughCustomTarget;\n            seriesItem.customClickthroughTargetEnabled = aComposite.clickThroughCustomTargetEnabled;\n          }\n          // process the timestamp display\n          if (aComposite.showTimestampEnabled) {\n            seriesItem.timestampFormatted = TimeFormatter(timeZone, data[index].timestamp, aComposite.showTimestampFormat);\n            seriesItem.showTimestamp = true;\n          }\n        }\n      }\n    }\n    if (matchedMetrics.length === 0) {\n      continue;\n    }\n    // now determine the most triggered threshold\n\n    for (let k = 0; k < matchedMetrics.length; k++) {\n      const itemIndex = matchedMetrics[k];\n      const seriesItem = data[itemIndex];\n      // check thresholds\n      if (currentWorstSeries === null) {\n        currentWorstSeries = seriesItem;\n      } else {\n        currentWorstSeries = getWorstSeries(currentWorstSeries, seriesItem);\n      }\n    }\n    // Prefix the valueFormatted with the actual metric name\n    if (currentWorstSeries !== null) {\n      const clone = shallowClone(currentWorstSeries);\n      clone.name = aComposite.name;\n      clone.displayName = aComposite.name;\n      // tooltip/legend uses this to expand what values are inside the composite\n      for (let index = 0; index < matchedMetrics.length; index++) {\n        const itemIndex = matchedMetrics[index];\n        clone.members.push({\n          ...data[itemIndex],\n          name: data[itemIndex].displayName || data[itemIndex].name,\n        });\n      }\n      clone.thresholdLevel = currentWorstSeries.thresholdLevel;\n      // currentWorstSeries.valueFormatted = currentWorstSeriesName + ': ' + currentWorstSeries.valueFormatted;\n      // now push the composite into data\n      // add the composite setting for showing the name/value to the new cloned model\n      clone.showName = aComposite.showName;\n      clone.showValue = aComposite.showValue;\n      clone.showTimestamp = aComposite.showTimestampEnabled;\n      clone.displayMode = aComposite.displayMode;\n      clone.newTabEnabled = aComposite.clickThroughOpenNewTab;\n      clone.sanitizeURLEnabled = aComposite.clickThroughSanitize;\n      clone.customClickthroughTarget = aComposite.clickThroughCustomTarget;\n      clone.customClickthroughTargetEnabled = aComposite.clickThroughCustomTargetEnabled;\n      // mark this series as a composite\n      clone.isComposite = true;\n      clonedComposites.push(clone);\n    }\n  }\n  // now merge the clonedComposites into data\n  if(compositesGlobalAliasingEnabled && globalRegexPattern) {\n    Array.prototype.push.apply(data, ApplyGlobalRegexPattern(clonedComposites, globalRegexPattern))\n  } else {\n    Array.prototype.push.apply(data, clonedComposites);\n  }\n  // remove the keepMetrics from the filteredMetrics list\n  // these have been marked by at least one composite to be displayed\n  for (let i = 0; i < keepMetrics.length; i++) {\n    const keptMetric = keepMetrics[i];\n    const location = filteredMetrics.indexOf(keptMetric);\n    if (location >= 0) {\n      filteredMetrics.splice(location, 1);\n    }\n  }\n  // sort by value descending\n  filteredMetrics.sort((a, b) => {\n    return b - a;\n  });\n  // now remove the filtered metrics from final list\n  // remove filtered metrics, use splice in reverse order\n  for (let i = data.length; i >= 0; i--) {\n    if (lodashIncludes(filteredMetrics, i)) {\n      data.splice(i, 1);\n    }\n  }\n  return data;\n};\n","import { FieldCalcs } from '@grafana/data';\nimport { PolystatModel } from '../components/types';\n\nexport function GetValueByOperator(\n  metricName: string,\n  data: PolystatModel | null,\n  operatorName: string,\n  calcs: FieldCalcs\n) {\n  switch (operatorName) {\n    case 'name':\n      return metricName;\n    case 'last_time':\n      if (data) {\n        return data.timestamp;\n      } else {\n        return Date.now();\n      }\n    default:\n      let aValue = calcs[operatorName];\n      return aValue;\n  }\n}\n","export enum MappingType {\n  ValueToText = 1,\n  RangeToText = 2,\n}\n\ninterface BaseMap {\n  id: number; // this could/should just be the array index\n  text: string; // the final display value\n  type: MappingType;\n}\n\nexport type ValueMapping = ValueMap | RangeMap;\n\nexport interface ValueMap extends BaseMap {\n  value: string;\n}\n\nexport interface RangeMap extends BaseMap {\n  from: string;\n  to: string;\n}\ntype TimeSeriesValue = string | number | null;\n\nconst addValueToTextMappingText = (\n  allValueMappings: ValueMapping[],\n  valueToTextMapping: ValueMap,\n  value: TimeSeriesValue\n) => {\n  if (valueToTextMapping.value === undefined) {\n    return allValueMappings;\n  }\n\n  if (value === null && isNullValueMap(valueToTextMapping)) {\n    return allValueMappings.concat(valueToTextMapping);\n  }\n\n  const valueAsNumber = parseFloat(value as string);\n  const valueToTextMappingAsNumber = parseFloat(valueToTextMapping.value as string);\n\n  if (isNaN(valueAsNumber) || isNaN(valueToTextMappingAsNumber)) {\n    if (value === valueToTextMapping.value) {\n      return allValueMappings.concat(valueToTextMapping);\n    }\n  }\n\n  if (valueAsNumber !== valueToTextMappingAsNumber) {\n    return allValueMappings;\n  }\n\n  return allValueMappings.concat(valueToTextMapping);\n};\n\nconst addRangeToTextMappingText = (\n  allValueMappings: ValueMapping[],\n  rangeToTextMapping: RangeMap,\n  value: TimeSeriesValue\n) => {\n  if (rangeToTextMapping.from === undefined || rangeToTextMapping.to === undefined || value === undefined) {\n    return allValueMappings;\n  }\n\n  if (\n    value === null &&\n    rangeToTextMapping.from &&\n    rangeToTextMapping.to &&\n    rangeToTextMapping.from.toLowerCase() === 'null' &&\n    rangeToTextMapping.to.toLowerCase() === 'null'\n  ) {\n    return allValueMappings.concat(rangeToTextMapping);\n  }\n\n  const valueAsNumber = parseFloat(value as string);\n  const fromAsNumber = parseFloat(rangeToTextMapping.from as string);\n  const toAsNumber = parseFloat(rangeToTextMapping.to as string);\n\n  if (isNaN(valueAsNumber) || isNaN(fromAsNumber) || isNaN(toAsNumber)) {\n    return allValueMappings;\n  }\n\n  if (valueAsNumber >= fromAsNumber && valueAsNumber <= toAsNumber) {\n    return allValueMappings.concat(rangeToTextMapping);\n  }\n\n  return allValueMappings;\n};\n\nconst getAllFormattedValueMappings = (valueMappings: ValueMapping[], value: TimeSeriesValue) => {\n  const allFormattedValueMappings = valueMappings.reduce((allValueMappings, valueMapping) => {\n    if (valueMapping.type === MappingType.ValueToText) {\n      allValueMappings = addValueToTextMappingText(allValueMappings, valueMapping as ValueMap, value);\n    } else if (valueMapping.type === MappingType.RangeToText) {\n      allValueMappings = addRangeToTextMappingText(allValueMappings, valueMapping as RangeMap, value);\n    }\n\n    return allValueMappings;\n  }, [] as ValueMapping[]);\n\n  allFormattedValueMappings.sort((t1, t2) => {\n    return t1.id - t2.id;\n  });\n\n  return allFormattedValueMappings;\n};\n\nexport const getMappedValue = (valueMappings: ValueMapping[], value: TimeSeriesValue): ValueMapping => {\n  return getAllFormattedValueMappings(valueMappings, value)[0];\n};\n\nconst isNullValueMap = (mapping: ValueMap): boolean => {\n  if (!mapping || !mapping.value) {\n    return false;\n  }\n  return mapping.value.toLowerCase() === 'null';\n};\n","/**\n * @alpha\n */\nexport enum MappingType {\n  ValueToText = 'value', // was 1\n  RangeToText = 'range', // was 2\n  RegexToText = 'regex',\n  SpecialValue = 'special',\n}\n\n/**\n * @alpha\n */\nexport interface ValueMappingResult {\n  text?: string;\n  color?: string;\n  icon?: string;\n  index?: number;\n}\n\n/**\n * @alpha\n */\ninterface BaseValueMap<T> {\n  type: MappingType;\n  options: T;\n}\n\n/**\n * @alpha\n */\nexport interface ValueMap extends BaseValueMap<Record<string, ValueMappingResult>> {\n  type: MappingType.ValueToText;\n}\n\n/**\n * @alpha\n */\nexport interface RangeMapOptions {\n  from: number | null; // changed from string\n  to: number | null;\n  result: ValueMappingResult;\n}\n\n/**\n * @alpha\n */\nexport interface RangeMap extends BaseValueMap<RangeMapOptions> {\n  type: MappingType.RangeToText;\n}\n\n/**\n * @alpha\n */\nexport interface RegexMapOptions {\n  pattern: string;\n  result: ValueMappingResult;\n}\n\n/**\n * @alpha\n */\nexport interface RegexMap extends BaseValueMap<RegexMapOptions> {\n  type: MappingType.RegexToText;\n}\n\n/**\n * @alpha\n */\nexport interface SpecialValueOptions {\n  match: SpecialValueMatch;\n  result: ValueMappingResult;\n}\n\n/**\n * @alpha\n */\nexport enum SpecialValueMatch {\n  True = 'true',\n  False = 'false',\n  Null = 'null',\n  NaN = 'nan',\n  NullAndNaN = 'null+nan',\n  Empty = 'empty',\n}\n\n/**\n * @alpha\n */\nexport interface SpecialValueMap extends BaseValueMap<SpecialValueOptions> {\n  type: MappingType.SpecialValue;\n}\n\n/**\n * @alpha\n */\nexport type ValueMapping = ValueMap | RangeMap | RegexMap | SpecialValueMap;\n","import { getActiveThreshold } from './thresholds';\nimport { stringToJsRegex } from '@grafana/data';\nimport {\n  MappingType,\n  SpecialValueMatch,\n  ValueMap,\n  ValueMapping,\n  ValueMappingResult,\n  SpecialValueOptions,\n} from './types/valueMappings';\nimport { ThresholdsConfig } from './types/thresholds';\n\nexport function getValueMappingResult(valueMappings: ValueMapping[], value: any): ValueMappingResult | null {\n  for (const vm of valueMappings) {\n    switch (vm.type) {\n      case MappingType.ValueToText:\n        if (value == null) {\n          continue;\n        }\n\n        const result = vm.options[value];\n        if (result) {\n          return result;\n        }\n\n        break;\n\n      case MappingType.RangeToText:\n        if (value == null) {\n          continue;\n        }\n\n        const valueAsNumber = parseFloat(value as string);\n        if (isNaN(valueAsNumber)) {\n          continue;\n        }\n\n        const isNumFrom = !isNaN(vm.options.from!);\n        if (isNumFrom && valueAsNumber < vm.options.from!) {\n          continue;\n        }\n\n        const isNumTo = !isNaN(vm.options.to!);\n        if (isNumTo && valueAsNumber > vm.options.to!) {\n          continue;\n        }\n\n        return vm.options.result;\n\n      case MappingType.RegexToText:\n        if (value == null) {\n          continue;\n        }\n\n        if (typeof value !== 'string') {\n          continue;\n        }\n\n        const regex = stringToJsRegex(vm.options.pattern);\n        if (value.match(regex)) {\n          const res = { ...vm.options.result };\n\n          if (res.text != null) {\n            res.text = value.replace(regex, vm.options.result.text || '');\n          }\n\n          return res;\n        }\n\n      case MappingType.SpecialValue:\n        switch ((vm.options as SpecialValueOptions).match) {\n          case SpecialValueMatch.Null: {\n            if (value == null) {\n              return vm.options.result;\n            }\n            break;\n          }\n          case SpecialValueMatch.NaN: {\n            if (isNaN(value as any)) {\n              return vm.options.result;\n            }\n            break;\n          }\n          case SpecialValueMatch.NullAndNaN: {\n            if (isNaN(value as any) || value == null) {\n              return vm.options.result;\n            }\n            break;\n          }\n          case SpecialValueMatch.True: {\n            if (value === true || value === 'true') {\n              return vm.options.result;\n            }\n            break;\n          }\n          case SpecialValueMatch.False: {\n            if (value === false || value === 'false') {\n              return vm.options.result;\n            }\n            break;\n          }\n          case SpecialValueMatch.Empty: {\n            if (value === '') {\n              return vm.options.result;\n            }\n            break;\n          }\n        }\n    }\n  }\n\n  return null;\n}\n\n// Ref https://stackoverflow.com/a/58550111\nexport function isNumeric(num: any) {\n  return (typeof num === 'number' || (typeof num === 'string' && num.trim() !== '')) && !isNaN(num as number);\n}\n\n/**\n * @deprecated use MappingType instead\n * @internal\n */\nexport enum LegacyMappingType {\n  ValueToText = 1,\n  RangeToText = 2,\n}\n\n/**\n * @deprecated use MappingType instead\n * @internal\n */\nexport interface LegacyBaseMap {\n  id: number; // this could/should just be the array index\n  text: string; // the final display value\n  // intentional use of deprecated function for v8 compat\n  // eslint-disable-next-line deprecation/deprecation\n  type: LegacyMappingType;\n}\n\n/**\n * @deprecated use ValueMapping instead\n * @internal\n */\n// intentional use of deprecated function for v8 compat\n// eslint-disable-next-line deprecation/deprecation\nexport type LegacyValueMapping = LegacyValueMap | LegacyRangeMap;\n\n/**\n * @deprecated use ValueMap instead\n * @internal\n */\n// intentional use of deprecated function for v8 compat\n// eslint-disable-next-line deprecation/deprecation\nexport interface LegacyValueMap extends LegacyBaseMap {\n  value: string;\n}\n\n/**\n * @deprecated use RangeMap instead\n * @internal\n */\n// intentional use of deprecated function for v8 compat\n// eslint-disable-next-line deprecation/deprecation\nexport interface LegacyRangeMap extends LegacyBaseMap {\n  from: string;\n  to: string;\n}\n\n/**\n * @deprecated use getValueMappingResult instead\n * @internal\n */\n// intentional use of deprecated function for v8 compat\n// eslint-disable-next-line deprecation/deprecation\nexport function getMappedValue(valueMappings: LegacyValueMapping[], value: any): LegacyValueMapping {\n  // intentional use of deprecated function for v8 compat\n  // eslint-disable-next-line deprecation/deprecation\n  const emptyResult = { type: LegacyMappingType.ValueToText, value: '', text: '', from: '', to: '', id: 0 };\n  if (!valueMappings?.length) {\n    return emptyResult;\n  }\n\n  const upgraded: ValueMapping[] = [];\n  for (const vm of valueMappings) {\n    if (isValueMapping(vm)) {\n      upgraded.push(vm);\n      continue;\n    }\n    upgraded.push(upgradeOldAngularValueMapping(vm));\n  }\n\n  if (!upgraded?.length) {\n    return emptyResult;\n  }\n\n  const result = getValueMappingResult(upgraded, value);\n  if (!result) {\n    return emptyResult;\n  }\n\n  return {\n    // intentional use of deprecated function for v8 compat\n    // eslint-disable-next-line deprecation/deprecation\n    type: LegacyMappingType.ValueToText,\n    value: result.text,\n    text: result.text ?? '',\n    from: '',\n    to: '',\n    id: result.index ?? 0,\n  };\n}\n\n/**\n * @alpha\n * Converts the old Angular value mappings to new react style\n */\nexport function convertOldAngularValueMappings(panel: any, migratedThresholds?: ThresholdsConfig): ValueMapping[] {\n  const mappings: ValueMapping[] = [];\n\n  // Guess the right type based on options\n  let mappingType = panel.mappingType;\n  if (!panel.mappingType) {\n    if (panel.valueMaps && panel.valueMaps.length) {\n      mappingType = 1;\n    } else if (panel.rangeMaps && panel.rangeMaps.length) {\n      mappingType = 2;\n    }\n  }\n  if (mappingType === 1) {\n    for (let i = 0; i < panel.valueMaps.length; i++) {\n      const map = panel.valueMaps[i];\n      mappings.push(\n        upgradeOldAngularValueMapping(\n          {\n            ...map,\n            id: i, // used for order\n            type: MappingType.ValueToText,\n          },\n          panel.fieldConfig?.defaults?.thresholds || migratedThresholds\n        )\n      );\n    }\n  } else if (mappingType === 2) {\n    for (let i = 0; i < panel.rangeMaps.length; i++) {\n      const map = panel.rangeMaps[i];\n      mappings.push(\n        upgradeOldAngularValueMapping(\n          {\n            ...map,\n            id: i, // used for order\n            type: MappingType.RangeToText,\n          },\n          panel.fieldConfig?.defaults?.thresholds || migratedThresholds\n        )\n      );\n    }\n  }\n\n  return mappings;\n}\n\nfunction upgradeOldAngularValueMapping(old: any, thresholds?: ThresholdsConfig): ValueMapping {\n  const valueMaps: ValueMap = { type: MappingType.ValueToText, options: {} };\n  const newMappings: ValueMapping[] = [];\n\n  // Use the color we would have picked from thresholds\n  let color: string | undefined = undefined;\n  const numeric = parseFloat(old.text);\n  if (thresholds && !isNaN(numeric)) {\n    const level = getActiveThreshold(numeric, thresholds.steps);\n    if (level && level.color) {\n      color = level.color;\n    }\n  }\n\n  switch (old.type) {\n    // intentional use of deprecated function for v8 compat\n    // eslint-disable-next-line deprecation/deprecation\n    case LegacyMappingType.ValueToText:\n    case MappingType.ValueToText:\n      if (old.value != null) {\n        if (old.value === 'null') {\n          newMappings.push({\n            type: MappingType.SpecialValue,\n            options: {\n              match: SpecialValueMatch.Null,\n              result: { text: old.text, color },\n            },\n          });\n        } else {\n          valueMaps.options[String(old.value)] = {\n            text: old.text,\n            color,\n          };\n        }\n      }\n      break;\n    // intentional use of deprecated function for v8 compat\n    // eslint-disable-next-line deprecation/deprecation\n    case LegacyMappingType.RangeToText:\n    case MappingType.RangeToText:\n      if (old.from === 'null' || old.to === 'null') {\n        newMappings.push({\n          type: MappingType.SpecialValue,\n          options: {\n            match: SpecialValueMatch.Null,\n            result: { text: old.text, color },\n          },\n        });\n      } else {\n        newMappings.push({\n          type: MappingType.RangeToText,\n          options: {\n            from: +old.from,\n            to: +old.to,\n            result: { text: old.text, color },\n          },\n        });\n      }\n      break;\n  }\n\n  if (Object.keys(valueMaps.options).length > 0) {\n    newMappings.unshift(valueMaps);\n  }\n\n  return newMappings[0];\n}\n\nfunction isValueMapping(map: any): map is ValueMapping {\n  if (!map) {\n    return false;\n  }\n\n  return map.hasOwnProperty('options') && typeof map.options === 'object';\n}\n","import { ValueMapping } from '@grafana/data';\nimport { getMappedValue } from './v7/valueMappings';\nimport { getValueMappingResult } from './v8/valueMappings';\n\n//\n// To maintain compatibility back to Grafana >=v7.3, this wrapper is needed\n// to process the value mappings based on the object passed in.\n//\n// the method `getMappedValue()` function was removed in v9\n// the replacement `getValueMappingResult()` only appears in v8.1.0+\n//\n// At runtime, this cannot be determined so the legacy function and the new function are both provided\n// here, to allow this to work work across all versions (7.3 > 9.x)\n//\nexport const GetMappedValue = (valueMappings: any[], value: any): any => {\n  let mappedValue = getMappedValue(valueMappings, value);\n  if (typeof mappedValue === 'undefined') {\n    return getValueMappingResult(valueMappings, value);\n  }\n  return mappedValue;\n};\n\nexport const getMappings = (fieldConfigMappings: ValueMapping[] | undefined, dataMappings: ValueMapping[] | undefined) => {\n  return fieldConfigMappings && fieldConfigMappings.length > 0 ? fieldConfigMappings : dataMappings;\n}\n","import {\n  getValueFormat,\n  stringToJsRegex,\n  ScopedVars,\n  InterpolateFunction,\n  textUtil,\n  FieldConfigSource,\n  GrafanaTheme2,\n  GrafanaTheme,\n} from '@grafana/data';\nimport { getThresholdLevelForValue } from './threshold_processor';\nimport { GetValueByOperator } from './stats';\nimport { ClickThroughTransformer } from './clickThroughTransformer';\nimport { PolystatModel } from '../components/types';\nimport { CUSTOM_SPLIT_DELIMITER } from './types';\nimport { OverrideItemType } from '../components/overrides/types';\nimport { PolystatThreshold } from 'components/thresholds/types';\nimport { GetMappedValue, getMappings } from './valueMappingsWrapper';\nimport { roundValue } from 'utils';\nimport { TimeFormatter } from './time_formatter';\n\nconst customFormatter = (value: any): string => {\n  if (Object.prototype.toString.call(value) === '[object Array]') {\n    return value.join(CUSTOM_SPLIT_DELIMITER);\n  }\n  return value;\n};\n\nconst resolveOverrideTemplates = (overrides: OverrideItemType[], replaceVariables: InterpolateFunction): OverrideItemType[] => {\n  const ret: OverrideItemType[] = [];\n  const variableRegex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)(?::(\\w+))?\\]\\]|\\${(\\w+)(?:\\.([^:^\\}]+))?(?::(\\w+))?}/g;\n  overrides.forEach((override) => {\n    // Resolve templates in series names\n    if (override.metricName) {\n      const matchResult = override.metricName.match(variableRegex);\n      if (matchResult && matchResult.length > 0) {\n        matchResult.forEach((template: any) => {\n          const scopedVars: ScopedVars = {};\n          const resolvedSeriesNames = replaceVariables(\n            template, scopedVars, customFormatter)\n            .split(CUSTOM_SPLIT_DELIMITER);\n\n          resolvedSeriesNames.forEach((seriesName) => {\n            const newName = override.metricName.replace(template, seriesName);\n            ret.push({\n              ...override,\n              metricName: newName,\n            });\n          });\n        });\n      } else {\n        // does not match template, but can match a simple regex\n        ret.push(override);\n      }\n    }\n  });\n\n  return ret;\n};\n\nexport const MatchOverride = (pattern: string, overrides: OverrideItemType[], replaceVariables: InterpolateFunction): OverrideItemType | null => {\n  const resolvedOverrides = resolveOverrideTemplates(overrides, replaceVariables);\n  for (let index = 0; index < resolvedOverrides.length; index++) {\n    const anOverride = resolvedOverrides[index];\n    const regex = stringToJsRegex(anOverride.metricName);\n    const matches = pattern.match(regex);\n    if (matches && matches.length > 0 && anOverride.enabled) {\n      return resolvedOverrides[index];\n    }\n  }\n  return null;\n};\n\nexport const ApplyOverrides = (\n  overrides: OverrideItemType[],\n  data: PolystatModel[],\n  fieldConfig: FieldConfigSource<any>,\n  globalFillColor: string,\n  globalThresholds: PolystatThreshold[],\n  replaceVariables: InterpolateFunction,\n  timeZone: string,\n  themeV1: GrafanaTheme, // V8\n  themeV2: GrafanaTheme2 // V9+\n) => {\n  // determine real color\n  const realGlobalFillColor = themeV2.visualization.getColorByName(globalFillColor);\n\n  if (!overrides) {\n    return data;\n  }\n\n  for (let index = 0; index < data.length; index++) {\n    const anOverride = MatchOverride(data[index].name, overrides, replaceVariables);\n    if (anOverride) {\n      const aSeries = data[index];\n      // set the operators\n      aSeries.operatorName = anOverride.operatorName;\n      const dataValue = GetValueByOperator(aSeries.name, aSeries, aSeries.operatorName, aSeries.stats);\n      // Use defaults or the specific threshold\n      const thresholds =\n        anOverride.thresholds && anOverride.thresholds.length ? anOverride.thresholds : globalThresholds;\n      const result = getThresholdLevelForValue(thresholds, dataValue, globalFillColor);\n      const useColor = themeV2.visualization.getColorByName(result.color);\n      // set value to what was returned\n      data[index].value = dataValue;\n      data[index].color = useColor;\n      data[index].thresholdLevel = result.thresholdLevel;\n      // format it\n      // TODO: fix me!\n      const mappings = getMappings(fieldConfig.defaults.mappings, data[index].mappings);\n      const mappedValue = GetMappedValue(mappings!, data[index].value);\n      if (mappedValue && mappedValue.text !== '') {\n        data[index].valueFormatted = mappedValue.text;\n        // set color also\n        if (mappedValue.color) {\n          let realColor = themeV2.visualization.getColorByName(mappedValue.color);\n          data[index].color = realColor;\n        } else {\n          data[index].color = realGlobalFillColor;\n        }\n        // override the timestamp format also\n        if (anOverride.showTimestampEnabled) {\n          data[index].timestampFormatted = TimeFormatter(timeZone, data[index].timestamp, anOverride.showTimestampFormat);\n          data[index].showTimestamp = true;\n        }\n      } else {\n        const formatFunc = getValueFormat(anOverride.unitFormat);\n        if (formatFunc) {\n          // put the value in quotes to escape \"most\" special characters\n          const decimals: number = +anOverride.decimals;\n          const formatted = formatFunc(data[index].value, decimals, anOverride.scaledDecimals);\n          data[index].valueFormatted = formatted.text;\n          // spaces are included with the formatFunc\n          if (formatted.suffix) {\n            data[index].valueFormatted += formatted.suffix;\n          }\n          if (formatted.prefix) {\n            data[index].valueFormatted = formatted.prefix + data[index].valueFormatted;\n          }\n          data[index].valueRounded = roundValue(data[index].value, decimals) || data[index].value;\n        }\n        // process the timestamp display\n        if (anOverride.showTimestampEnabled) {\n          data[index].timestampFormatted = TimeFormatter(timeZone, data[index].timestamp, anOverride.showTimestampFormat);\n          data[index].showTimestamp = true;\n        }\n\n      }\n      // add prefix/suffix to formatted value\n      if (anOverride.prefix !== '') {\n        data[index].valueFormatted = anOverride.prefix + ' ' + data[index].valueFormatted;\n      }\n      if (anOverride.suffix !== '') {\n        data[index].valueFormatted = data[index].valueFormatted + ' ' + anOverride.suffix;\n      }\n      if (anOverride.alias !== '') {\n        data[index].displayName = anOverride.alias;\n      }\n      data[index].prefix = anOverride.prefix;\n      data[index].suffix = anOverride.suffix;\n      // set the url, replace template vars\n      if (anOverride.clickThrough && anOverride.clickThrough.length > 0) {\n        let url = anOverride.clickThrough;\n        // apply both types of transforms, one targeted at the data item index, and secondly the nth variant\n        url = ClickThroughTransformer.transformSingleMetric(index, url, data);\n        url = ClickThroughTransformer.transformNthMetric(url, data);\n        url = ClickThroughTransformer.transformByRegex(anOverride.metricName, data[index], url);\n        if (replaceVariables) {\n          url = replaceVariables(url);\n        }\n        data[index].clickThrough = url;\n        data[index].newTabEnabled = anOverride.clickThroughOpenNewTab;\n        data[index].sanitizeURLEnabled = anOverride.clickThroughSanitize;\n        // provide both versions, what is displayed is determined later\n        data[index].sanitizedURL = textUtil.sanitize(data[index].clickThrough);\n        data[index].customClickthroughTargetEnabled = anOverride.clickThroughCustomTargetEnabled;\n        data[index].customClickthroughTarget = anOverride.clickThroughCustomTarget;\n      }\n    } else if (globalThresholds && globalThresholds.length) {\n      const result = getThresholdLevelForValue(globalThresholds, data[index].value, globalFillColor);\n      // set value to what was returned\n      data[index].color = result.color;\n      data[index].thresholdLevel = result.thresholdLevel;\n    }\n  }\n  return data;\n};\n","import { InsertTime } from './deframer';\nimport {\n  Field,\n  FieldType,\n  reduceField,\n  textUtil,\n  DataFrame,\n  PanelData,\n  getFieldDisplayName,\n  formattedValueToString,\n  getValueFormat,\n  stringToJsRegex,\n  InterpolateFunction,\n  FieldConfigSource,\n  GrafanaTheme2,\n  GrafanaTheme,\n} from '@grafana/data';\nimport { includes as lodashIncludes } from 'lodash';\nimport { DisplayModes, OperatorOptions, PolystatModel } from '../components/types';\nimport { GLOBAL_FILL_COLOR_RGBA } from '../components/defaults';\nimport { GetDecimalsForValue, SortVariableValuesByField, roundValue } from '../utils';\nimport { ApplyComposites } from './composite_processor';\nimport { CompositeItemType } from 'components/composites/types';\nimport { ApplyOverrides } from './override_processor';\nimport { OverrideItemType } from '../components/overrides/types';\nimport { PolystatThreshold } from '../components/thresholds/types';\nimport { ClickThroughTransformer } from './clickThroughTransformer';\nimport { GetMappedValue, getMappings } from './valueMappingsWrapper';\nimport { GetValueByOperator } from './stats';\nimport { TimeFormatter } from './time_formatter';\n\n/**\n * Converts dataframes to internal model\n *\n * @param   {DataFrame[]}    data                [data description]\n * @param   {string[]}     globalRegexPattern  [globalRegexPattern description]\n *\n * @return  {DataFrame[]}                      [return description]\n */\nexport function ProcessDataFrames(\n  compositesEnabled: boolean,\n  composites: CompositeItemType[],\n  overrides: OverrideItemType[],\n  data: PanelData,\n  replaceVariables: InterpolateFunction,\n  fieldConfig: FieldConfigSource<any>,\n  globalClickthrough: string,\n  globalClickthroughTabEnabled: boolean,\n  globalClickthroughSanitizedEnabled: boolean,\n  globalClickthroughCustomTargetEnabled: boolean,\n  globalClickthroughCustomTarget: string,\n  globalOperator: string,\n  globalDecimals: number,\n  globalDisplayMode: string,\n  globalRegexPattern: string,\n  globalFillColor: string,\n  globalThresholds: PolystatThreshold[],\n  globalUnitFormat: string,\n  globalShowLabel: boolean,\n  globalShowValue: boolean,\n  globalShowTimestamp: boolean,\n  globalShowTimestampFormat: string,\n  sortByDirection: number,\n  sortByField: string,\n  compositesGlobalAliasingEnabled: boolean,\n  timeZone: string,\n  themeV1: GrafanaTheme,\n  themeV2: GrafanaTheme2,\n): PolystatModel[] {\n\n  // check if data contains a field called Time of type time\n  let processedData = InsertTime(data.series);\n  let internalData = [] as PolystatModel[];\n\n  processedData.map((item) => {\n    const models = DataFrameToPolystat(item, globalOperator);\n    for (const aModel of models) {\n      internalData.push(aModel);\n    }\n  });\n  internalData = ApplyGlobalRegexPattern(internalData, globalRegexPattern);\n  // formatting can change colors due to value maps\n  internalData = ApplyGlobalFormatting(\n    internalData,\n    fieldConfig,\n    globalUnitFormat,\n    globalDecimals,\n    globalFillColor,\n    globalShowLabel,\n    globalShowValue,\n    globalShowTimestamp,\n    globalShowTimestampFormat,\n    timeZone,\n    themeV2);\n  // applies overrides and global thresholds (and mappings)\n  internalData = ApplyOverrides(\n    overrides,\n    internalData,\n    fieldConfig,\n    globalFillColor,\n    globalThresholds,\n    replaceVariables,\n    timeZone,\n    themeV1,\n    themeV2\n  );\n  // composites\n  if (compositesEnabled) {\n    internalData = ApplyComposites(\n      composites,\n      internalData,\n      replaceVariables,\n      compositesGlobalAliasingEnabled,\n      timeZone,\n      globalRegexPattern);\n  }\n  // clickthroughs\n  internalData = ApplyGlobalClickThrough(\n    internalData,\n    globalClickthrough,\n    globalClickthroughTabEnabled,\n    globalClickthroughSanitizedEnabled,\n    globalClickthroughCustomTargetEnabled,\n    globalClickthroughCustomTarget,\n    replaceVariables\n  );\n  // filter by global display mode\n  internalData = FilterByGlobalDisplayMode(internalData, globalDisplayMode);\n  // final step sorting\n  internalData = SortVariableValuesByField(internalData, sortByField, sortByDirection);\n  return internalData;\n}\n\n/**\n * renames according to a global regex pattern\n * @param {PolystatModel[]} data [series description]\n * @param {string[]} regexPattern [regexPattern description]\n * @return {PolystatModel[]} [return description]\n */\nexport const ApplyGlobalRegexPattern = (data: PolystatModel[], regexPattern: string): PolystatModel[] => {\n  for (let i = 0; i < data.length; i++) {\n    if (regexPattern !== '') {\n      const regexVal = stringToJsRegex(regexPattern);\n      if (data[i].name && regexVal.test(data[i].name.toString())) {\n        const temp = regexVal.exec(data[i].name.toString());\n        if (!temp) {\n          continue;\n        }\n        let extractedTxt = '';\n        if (temp.length > 1) {\n          temp.slice(1).forEach((value, i) => {\n            if (value) {\n              extractedTxt += extractedTxt.length > 0 ? ' ' + value.toString() : value.toString();\n            }\n          });\n          data[i].displayName = extractedTxt;\n        }\n      }\n    }\n  }\n  return data;\n};\n\nexport const ApplyGlobalClickThrough = (\n  data: PolystatModel[],\n  globalClickthrough: string,\n  globalClickthroughNewTabEnabled: boolean,\n  globalClickthroughSanitizedEnabled: boolean,\n  globalClickthroughCustomTargetEnabled: boolean,\n  globalClickthroughCustomTarget: string,\n  replaceVariables: InterpolateFunction\n): PolystatModel[] => {\n  for (let index = 0; index < data.length; index++) {\n    if (data[index].clickThrough.length === 0) {\n      data[index].clickThrough = processDefaultClickThrough(index, globalClickthrough, data, replaceVariables);\n      data[index].newTabEnabled = globalClickthroughNewTabEnabled;\n      data[index].sanitizeURLEnabled = globalClickthroughSanitizedEnabled;\n      // always provide both versions and overrides and composites can specify which one to use\n      data[index].sanitizedURL = textUtil.sanitize(data[index].clickThrough);\n      data[index].customClickthroughTargetEnabled = globalClickthroughCustomTargetEnabled;\n      data[index].customClickthroughTarget = globalClickthroughCustomTarget;\n    }\n  }\n  return data;\n};\n\n/**\n * Only called for dataframes that do not have a clickthrough specified via overrides or composites.\n * @param {number}              index\n * @param {string}              globalClickthrough string containing the GlobalClickthrough text\n * @param {PolystatModel[]}     data array of data\n * @param {InterpolateFunction} replaceVariables function from template server\n * @return {string} New URL with default clickthrough processed replacements and template variables\n */\nexport const processDefaultClickThrough = (\n  index: number,\n  globalClickthrough: string,\n  data: PolystatModel[],\n  replaceVariables: InterpolateFunction): string => {\n  let url = globalClickthrough;\n  // apply both types of transforms, one targeted at the data item index, and secondly the nth variant\n  url = ClickThroughTransformer.transformSingleMetric(index, url, data);\n  url = ClickThroughTransformer.transformNthMetric(url, data);\n  // process template variables inside clickthrough\n  url = replaceVariables(url);\n  return url;\n};\n\nexport const ApplyGlobalFormatting = (\n  data: PolystatModel[],\n  fieldConfig: FieldConfigSource<any>,\n  globalUnitFormat: string,\n  globalDecimals: number,\n  globalFillColor: string,\n  globalShowLabel: boolean,\n  globalShowValue: boolean,\n  globalShowTimestampEnabled: boolean,\n  globalShowTimestampFormat: string,\n  timeZone: string,\n  theme: GrafanaTheme2\n): PolystatModel[] => {\n  let realGlobalFillColor = theme.visualization.getColorByName(globalFillColor);\n  const formatFunc = getValueFormat(globalUnitFormat);\n  for (let index = 0; index < data.length; index++) {\n    // Check for mapped value, if nothing set, format value\n    if (data[index].value !== null) {\n      data[index].showName = globalShowLabel;\n      data[index].showValue = globalShowValue;\n      const mappings = getMappings(fieldConfig.defaults.mappings, data[index].mappings);\n      const mappedValue = GetMappedValue(mappings!, data[index].value);\n      if (mappedValue && mappedValue.text !== '') {\n        data[index].valueFormatted = mappedValue.text;\n        if (globalShowTimestampEnabled) {\n          data[index].timestampFormatted = TimeFormatter(timeZone, data[index].timestamp, globalShowTimestampFormat);\n          data[index].showTimestamp = true;\n        }\n        // set color also\n        if (mappedValue.color) {\n          let realColor = theme.visualization.getColorByName(mappedValue.color);\n          data[index].color = realColor;\n        } else {\n          data[index].color = realGlobalFillColor;\n        }\n      } else {\n        if (formatFunc) {\n          const result = GetDecimalsForValue(data[index].value, globalDecimals);\n          const formatted = formatFunc(data[index].value, result.decimals, result.scaledDecimals);\n          data[index].valueFormatted = formatted.text;\n          if (formatted.suffix) {\n            data[index].valueFormatted += ` ${formatted.suffix}`;\n          }\n          if (formatted.prefix) {\n            data[index].valueFormatted = `{$formatted.prefix} ${data[index].valueFormatted}`;\n          }\n          const valueRounded = roundValue(data[index].value, result.decimals);\n          if (valueRounded !== null) {\n            data[index].valueRounded = valueRounded;\n          }\n          if (globalShowTimestampEnabled) {\n            data[index].timestampFormatted = TimeFormatter(timeZone, data[index].timestamp, globalShowTimestampFormat);\n            data[index].showTimestamp = true;\n          }\n        }\n        data[index].color = realGlobalFillColor;\n      }\n    }\n  }\n  return data;\n};\n\nconst FilterByGlobalDisplayMode = (data: any, globalDisplayMode: string): PolystatModel[] => {\n  const filteredMetrics: number[] = [];\n  const compositeMetrics: PolystatModel[] = [];\n  if (globalDisplayMode !== 'all') {\n    const dataLen = data.length;\n    for (let i = 0; i < dataLen; i++) {\n      const item = data[i];\n      // keep if composite\n      if (item.isComposite) {\n        compositeMetrics.push(item);\n      }\n      if (item.thresholdLevel < 1) {\n        // push the index number\n        filteredMetrics.push(i);\n      }\n    }\n    // remove filtered metrics, use splice in reverse order\n    for (let i = data.length; i >= 0; i--) {\n      if (lodashIncludes(filteredMetrics, i)) {\n        data.splice(i, 1);\n      }\n    }\n    if (data.length === 0) {\n      if (compositeMetrics.length > 0) {\n        // set data to be all of the composites\n        data = compositeMetrics;\n      }\n    }\n  }\n  return data;\n};\n\nexport const DataFrameToPolystat = (frame: DataFrame, globalOperator: string): PolystatModel[] => {\n\n  const valueFields: Field[] = [];\n  let newestTimestamp = 0;\n\n  for (const aField of frame.fields) {\n    if (aField.type === FieldType.number) {\n      valueFields.push(aField);\n    }\n    else if (aField.type === FieldType.time) {\n      // get the \"newest\" timestamp from data\n      // check if timestamp is 0\n      let aTimestamp = 0;\n      let timestampIndex = aField.values.length - 1;\n      try {\n        aTimestamp = aField.values.get(timestampIndex);\n      } catch {\n        // @ts-ignore, workaround for 9.5+ removal of VectorArray\n        aTimestamp = aField.values[timestampIndex];\n      }\n      if (newestTimestamp === 0) {\n        newestTimestamp = aTimestamp;\n      }\n      // check if data timestamp is newer\n      if (aTimestamp > newestTimestamp) {\n        newestTimestamp = aTimestamp;\n      }\n    }\n  }\n  if (newestTimestamp === 0) {\n    // use current time if none is found\n    newestTimestamp = new Date().getTime()\n  }\n  const models: PolystatModel[] = [];\n\n  for (const valueField of valueFields) {\n    const valueFieldName = getFieldDisplayName(valueField!, frame);\n    const standardCalcs = reduceField({ field: valueField!, reducers: ['bogus'] });\n    //\n    // side effect of getFieldDisplayName: it modifies content of valueField.state by adding a displayName\n    // file a bug? deframer has been fixed to clone the the field.state to work around the issue\n    //\n    //if (valueField.state?.displayName !== undefined) {\n    //  delete valueField.state?.displayName;\n    //}\n    const operatorValue = GetValueByOperator(valueFieldName, null, globalOperator, standardCalcs);\n\n    let maxDecimals = 4;\n    if (valueField!.config.decimals !== undefined && valueField!.config.decimals !== null) {\n      maxDecimals = valueField!.config.decimals;\n    }\n    const result = getValueFormat(valueField!.config.unit)(operatorValue, maxDecimals, undefined, undefined);\n    const valueFormatted = formattedValueToString(result);\n    const model: PolystatModel = {\n      displayMode: DisplayModes[0].value,\n      thresholdLevel: 0,\n      value: operatorValue,\n      valueFormatted: valueFormatted,\n      valueRounded: roundValue(operatorValue, maxDecimals) || operatorValue,\n      stats: standardCalcs,\n      name: valueFieldName,\n      displayName: valueFieldName,\n      timestamp: newestTimestamp,\n      timestampFormatted: '',\n      prefix: '',\n      suffix: '',\n      color: GLOBAL_FILL_COLOR_RGBA,\n      clickThrough: '',\n      operatorName: OperatorOptions[0].value,\n      newTabEnabled: true,\n      sanitizedURL: '',\n      sanitizeURLEnabled: true,\n      showName: true,\n      showValue: true,\n      showTimestamp: false,\n      isComposite: false,\n      members: [],\n      customClickthroughTargetEnabled: false,\n      customClickthroughTarget: '',\n      mappings: valueField.config.mappings || [],\n    };\n    models.push(model);\n  }\n  return models;\n}\n","import React, { useEffect, useState } from 'react';\n\nimport { PanelProps, GrafanaTheme2, LoadingState } from '@grafana/data';\nimport { PolystatOptions, PolystatModel } from './types';\nimport { Polystat } from './Polystat';\nimport { css, cx } from '@emotion/css';\nimport { useStyles2, useTheme, useTheme2 } from '@grafana/ui';\nimport { ProcessDataFrames } from '../data/processor';\n\ninterface Props extends PanelProps<PolystatOptions> {}\n\nconst getComponentStyles = (theme: GrafanaTheme2) => {\n  return {\n    wrapper: css`\n      position: relative;\n    `,\n    container: css`\n      align-items: center;\n      justify-content: center;\n      display: flex;\n      height: 100%;\n      width: 100%;\n      & svg > g > polygon {\n        fill: transparent;\n      }\n    `,\n  };\n};\n\n\nexport const PolystatPanel: React.FC<Props> = ({ options, data, id, width, height, replaceVariables, fieldConfig, timeZone }) => {\n  const styles = useStyles2(getComponentStyles);\n  const currentThemeV1 = useTheme(); // V8\n  const currentThemeV2 = useTheme2(); // V9+\n  let [cachedProcessedData, setCachedProcessedData] = useState<PolystatModel[]>();\n  useEffect(() => {\n    if (data.state === LoadingState.Done) {\n      // each series is a converted to a model we can use\n      const processedData = ProcessDataFrames(\n        options.compositeConfig.enabled,\n        options.compositeConfig.composites,\n        options.overrideConfig.overrides,\n        data,\n        replaceVariables,\n        fieldConfig,\n        options.globalClickthrough,\n        options.globalClickthroughNewTabEnabled,\n        options.globalClickthroughSanitizedEnabled,\n        options.globalClickthroughCustomTargetEnabled,\n        options.globalClickthroughCustomTarget,\n        options.globalOperator,\n        options.globalDecimals,\n        options.globalDisplayMode,\n        options.globalRegexPattern,\n        options.globalFillColor,\n        options.globalThresholdsConfig,\n        options.globalUnitFormat,\n        true, // TODO: future configurable global option to not display label\n        options.globalShowValueEnabled,\n        options.globalShowTimestampEnabled,\n        options.globalShowTimestampFormat,\n        options.sortByDirection,\n        options.sortByField,\n        options.compositeGlobalAliasingEnabled,\n        timeZone,\n        currentThemeV1,\n        currentThemeV2,\n      );\n      setCachedProcessedData(processedData);\n\n    }\n  }, [data, fieldConfig, options, replaceVariables, currentThemeV1, currentThemeV2, timeZone]);\n\n  if (cachedProcessedData === undefined) {\n    return (\n      <>Loading... please wait</>\n    )\n  }\n\n  return (\n    <div\n      className={cx(\n        styles.wrapper,\n        css`\n          width: ${width}px;\n          height: ${height}px;\n        `\n      )}\n    >\n      <div className={cx(styles.container)}>\n        <Polystat\n          compositeConfig={options.compositeConfig}\n          overrideConfig={options.overrideConfig}\n          autoSizePolygons={options.autoSizePolygons}\n          globalAutoScaleFonts={options.globalAutoScaleFonts}\n          globalClickthrough={options.globalClickthrough}\n          globalClickthroughNewTabEnabled={options.globalClickthroughNewTabEnabled}\n          globalClickthroughSanitizedEnabled={options.globalClickthroughSanitizedEnabled}\n          globalClickthroughCustomTargetEnabled={options.globalClickthroughCustomTargetEnabled}\n          globalClickthroughCustomTarget={options.globalClickthroughCustomTarget}\n          globalOperator={options.globalOperator}\n          globalDecimals={options.globalDecimals}\n          globalDisplayMode={options.globalDisplayMode}\n          globalDisplayTextTriggeredEmpty={options.globalDisplayTextTriggeredEmpty}\n          globalLabelFontSize={options.globalLabelFontSize}\n          globalValueFontSize={options.globalValueFontSize}\n          globalCompositeValueFontSize={options.globalCompositeValueFontSize}\n          globalPolygonSize={options.globalPolygonSize}\n          ellipseCharacters={options.ellipseCharacters}\n          ellipseEnabled={options.ellipseEnabled}\n          globalFillColor={options.globalFillColor}\n          globalRegexPattern={options.globalRegexPattern}\n          globalGradientsEnabled={options.globalGradientsEnabled}\n          globalShowTimestampEnabled={options.globalShowTimestampEnabled}\n          globalShowTimestampFormat={options.globalShowTimestampFormat}\n          globalShowTimestampPosition={options.globalShowTimestampPosition}\n          globalShowTimestampFontSize={options.globalShowTimestampFontSize}\n          globalShowTimestampYOffset={options.globalShowTimestampYOffset}\n          globalTextFontAutoColor={options.globalTextFontAutoColorEnabled ? currentThemeV2.colors.text.primary : '#000000'}\n          globalTextFontAutoColorEnabled={options.globalTextFontAutoColorEnabled}\n          globalTextFontColor={options.globalTextFontColor}\n          globalTextFontFamily={options.globalTextFontFamily}\n          globalThresholdsConfig={options.globalThresholdsConfig}\n          globalTooltipsEnabled={options.globalTooltipsEnabled}\n          globalTooltipsShowTimestampEnabled={options.globalTooltipsShowTimestampEnabled}\n          globalTooltipsShowValueEnabled={options.globalTooltipsShowValueEnabled}\n          globalTooltipsFontFamily={options.globalTooltipsFontFamily}\n          globalUnitFormat={options.globalUnitFormat}\n          autoSizeColumns={options.autoSizeColumns}\n          autoSizeRows={options.autoSizeRows}\n          layoutDisplayLimit={options.layoutDisplayLimit}\n          layoutNumColumns={options.layoutNumColumns}\n          layoutNumRows={options.layoutNumRows}\n          processedData={cachedProcessedData}\n          panelId={id}\n          panelWidth={width}\n          panelHeight={height}\n          radius={options.radius}\n          renderTime={new Date()}\n          globalShape={options.globalShape}\n          sortByDirection={options.sortByDirection}\n          sortByField={options.sortByField}\n          globalPolygonBorderColor={options.globalPolygonBorderColor}\n          globalPolygonBorderSize={options.globalPolygonBorderSize}\n          globalShowValueEnabled={options.globalShowValueEnabled}\n          globalShowTooltipColumnHeadersEnabled={options.globalShowTooltipColumnHeadersEnabled}\n          tooltipPrimarySortDirection={options.tooltipPrimarySortDirection}\n          tooltipPrimarySortByField={options.tooltipPrimarySortByField}\n          tooltipSecondarySortDirection={options.tooltipSecondarySortDirection}\n          tooltipSecondarySortByField={options.tooltipSecondarySortByField}\n          tooltipDisplayMode={options.tooltipDisplayMode}\n          tooltipDisplayTextTriggeredEmpty={options.tooltipDisplayTextTriggeredEmpty}\n          compositeGlobalAliasingEnabled={options.compositeGlobalAliasingEnabled}\n        />\n      </div>\n    </div>\n  );\n};\n","import { SelectableValue } from '@grafana/data';\n\nexport const DisplayModes: SelectableValue[] = [\n  { value: 'all', label: 'Show All' },\n  { value: 'triggered', label: 'Show Triggered' },\n];\n\nexport interface CompositeMetric {\n  seriesMatch: string;\n  compositeMatch?: CompositeItemType[];\n  alias?: string;\n  ID?: string;\n  order: number;\n  seriesName?: string;\n  seriesNameEscaped?: string;\n}\n\nexport interface CompositeItemType {\n  name: string;\n  label: string;\n  order: number;\n  isTemplated: boolean;\n  displayMode: string;\n  enabled: boolean;\n  showName: boolean;\n  showValue: boolean;\n  showComposite: boolean;\n  showMembers: boolean;\n  showTimestampEnabled: boolean;\n  showTimestampFormat: string;\n  showTimestampYOffset: number;\n  metrics: CompositeMetric[];\n  clickThrough: string | '';\n  clickThroughSanitize: boolean;\n  clickThroughOpenNewTab: boolean;\n  clickThroughCustomTargetEnabled: boolean;\n  clickThroughCustomTarget: string;\n}\n\nexport interface CompositeItemTracker {\n  composite: CompositeItemType;\n  order: number;\n  ID: string;\n}\n\nexport interface CompositeItemProps {\n  composite: CompositeItemType;\n  ID: string;\n  enabled: boolean;\n  setter: any;\n  remover: any;\n  moveUp: any;\n  moveDown: any;\n  createDuplicate: any;\n  context: any;\n}\n\nexport interface CompositeMetricItemProps {\n  metric: CompositeMetric;\n  index: number;\n  disabled: boolean;\n  removeMetric: any;\n  updateMetric: any;\n  updateMetricAlias: any;\n  context: any;\n}\n","import React, { useEffect, useState } from 'react';\n\nimport { Input, Field, IconButton, HorizontalGroup, Cascader, CascaderOption, FieldSet } from '@grafana/ui';\nimport { CompositeMetricItemProps } from './types';\nimport { getMetricHints } from '../metric_hints';\n\nexport const CompositeMetricItem: React.FC<CompositeMetricItemProps> = (props) => {\n  const [metricHints, setMetricHints] = useState<CascaderOption[]>([]);\n\n  async function copySelectedMetricToClipboard(index: number) {\n    if (props.metric.seriesMatch) {\n      const aValue = props.metric.seriesMatch;\n      if ('clipboard' in navigator) {\n        if (aValue) {\n          return await navigator.clipboard.writeText(aValue);\n        }\n      } else {\n        if (aValue) {\n          // use the old method if clipboard is not available\n          // eslint-disable-next-line deprecation/deprecation\n          return document.execCommand('copy', true, aValue);\n        }\n      }\n    }\n  }\n\n  const updateMetric = (v: string) => {\n    props.updateMetric(props.index, v);\n  };\n  const updateMetricAlias = (alias: string) => {\n    props.updateMetricAlias(props.index, alias);\n  };\n\n  useEffect(() => {\n    if (props.context.data) {\n      const frames = props.context.data;\n      let hints: CascaderOption[] = [];\n      let metricHints = getMetricHints(frames);\n      for (const metricName of metricHints) {\n        hints.push({\n          label: metricName,\n          value: metricName,\n        });\n      }\n      setMetricHints(hints);\n    }\n  }, [props.context.data]);\n\n  return (\n    <FieldSet>\n      <HorizontalGroup>\n        <IconButton\n          key=\"deleteMetric\"\n          variant=\"destructive\"\n          name=\"trash-alt\"\n          tooltip=\"Delete this metric\"\n          onClick={() => props.removeMetric(props.index)}\n        />\n        <IconButton\n          key=\"copyMetric\"\n          variant=\"secondary\"\n          name=\"copy\"\n          tooltip=\"Copy Metric/Regex\"\n          onClick={() => copySelectedMetricToClipboard(props.index)}\n        />\n        <Field label=\"Metric/RegEx\" id={`cmi-field-index-${props.index}`} style={{ minWidth: '175px' }} disabled={props.disabled}>\n          <Cascader\n            key={`cmi-cascader-index-${props.index}`}\n            initialValue={props.metric.seriesMatch}\n            allowCustomValue\n            placeholder=\"\"\n            options={metricHints}\n            onSelect={(val: string) => updateMetric(val)}\n          />\n        </Field>\n        <Field label=\"Alias\" disabled={props.disabled}>\n          <Input value={props.metric.alias}\n            id={`cmi-alias-index-${props.index}`}\n            placeholder=\"\" onChange={(e) => updateMetricAlias(e.currentTarget.value)} />\n        </Field>\n      </HorizontalGroup>\n    </FieldSet>\n  );\n};\n","import React, { useState } from 'react';\n\nimport { IconName, Button, Input, Select, Field, FieldSet, Switch, Card, IconButton, Cascader } from '@grafana/ui';\nimport { DisplayModes, CompositeItemProps, CompositeMetric, CompositeItemType } from './types';\nimport { CompositeMetricItem } from './CompositeMetricItem';\nimport { v4 as UUIDv4 } from 'uuid';\nimport { SelectableValue } from '@grafana/data';\nimport { ShowTimestampFormats } from 'components/types';\n\nexport const CompositeItem: React.FC<CompositeItemProps> = (props: CompositeItemProps) => {\n  const [composite, _setComposite] = useState(props.composite);\n  const getDisplayMode = (displayMode: string) => {\n    const keys = DisplayModes.keys();\n    for (const aKey of keys) {\n      if (DisplayModes[aKey].value === displayMode) {\n        return DisplayModes[aKey];\n      }\n    }\n    // no match, return all by default\n    return DisplayModes[0];\n  };\n  const [displayMode, setDisplayMode] = useState<SelectableValue>(getDisplayMode(props.composite.displayMode));\n  const setComposite = (value: CompositeItemType) => {\n    _setComposite(value);\n    props.setter(composite.order, value);\n  };\n  const [visibleIcon] = useState<IconName>('eye');\n  const [hiddenIcon] = useState<IconName>('eye-slash');\n  const removeItem = () => {\n    //alert('high');\n    props.remover(composite.order);\n    // call parent remove function\n  };\n\n  const toggleShowName = () => {\n    const currentState = composite.showName;\n    //setShowName(!currentState);\n    setComposite({ ...composite, showName: !currentState });\n  };\n\n  const removeMetric = (index: number) => {\n    let allMetrics = [...props.composite.metrics];\n    allMetrics.splice(index, 1);\n    setComposite({ ...props.composite, metrics: allMetrics });\n  };\n  const moveUp = () => {\n    props.moveUp(composite.order);\n  };\n  const moveDown = () => {\n    props.moveDown(composite.order);\n  };\n  const createDuplicate = () => {\n    props.createDuplicate(composite.order);\n  };\n\n  const updateMetric = (index: number, value: string) => {\n    const allMetrics = props.composite.metrics;\n    allMetrics[index].seriesMatch = value;\n    setComposite({ ...props.composite, metrics: allMetrics });\n  };\n\n  const updateMetricAlias = (index: number, alias: string) => {\n    const allMetrics = props.composite.metrics;\n    allMetrics[index].alias = alias;\n    setComposite({ ...props.composite, metrics: allMetrics });\n  };\n\n  const addMetric = () => {\n    const newMetric: CompositeMetric = {\n      seriesMatch: '',\n      ID: UUIDv4(),\n      order: 0,\n    };\n    if (!composite.metrics) {\n      const currentMetrics: CompositeMetric[] = [];\n      currentMetrics.push(newMetric);\n      setComposite({ ...composite, metrics: currentMetrics });\n    } else {\n      const currentMetrics: CompositeMetric[] = composite.metrics;\n      newMetric.order = currentMetrics.length;\n      currentMetrics.push(newMetric);\n      setComposite({ ...composite, metrics: currentMetrics });\n    }\n  };\n\n  return (\n    <Card key={`composite-card-${props.ID}`}>\n      <Card.Meta>\n        <FieldSet>\n          <Field label=\"Composite Name\" description=\"Name or Regular Expression\" disabled={!composite.showComposite}>\n            <Input\n              value={composite.name}\n              placeholder=\"\"\n              onChange={(e) => setComposite({ ...composite, name: e.currentTarget.value })}\n            />\n          </Field>\n          <Field label=\"Show Name\" description=\"Toggle Display of composite name\" disabled={!composite.showComposite}>\n            <Switch\n              transparent={true}\n              value={composite.showName}\n              disabled={!composite.showComposite}\n              onChange={toggleShowName}\n            ></Switch>\n          </Field>\n          <Field label=\"Show Value\" description=\"Toggle Display of composite value\" disabled={!composite.showComposite}>\n            <Switch\n              transparent={true}\n              value={composite.showValue}\n              disabled={!composite.showComposite}\n              onChange={() => setComposite({ ...composite, showValue: !composite.showValue })}\n            />\n          </Field>\n          {/*\n          <Field label=\"Show Timestamp\" description=\"Toggle Display of Timestamp for each value\" disabled={!composite.showComposite}>\n            <Switch\n              transparent={true}\n              value={composite.showTimestampEnabled}\n              disabled={!composite.showComposite}\n              onChange={() => setComposite({ ...composite, showTimestampEnabled: !composite.showTimestampEnabled })}\n            />\n          </Field>\n          <Field label=\"Timestamp Format\" description=\"Format of timestamp to display\" disabled={!composite.showComposite} hidden={!composite.showTimestampEnabled}>\n            <Cascader\n              initialValue={composite.showTimestampFormat}\n              allowCustomValue\n              placeholder=\"\"\n              options={ShowTimestampFormats}\n              onSelect={(val: string) => setComposite({ ...composite, showTimestampFormat: val })}\n            />\n          </Field>\n          <Field label=\"Timestamp Y Offset\" description=\"Adjust the displayed timestamp up or down the Y-Axis, use negative value to move up, positive for down\" disabled={!composite.showComposite} hidden={!composite.showTimestampEnabled}>\n            <Input\n              value={composite.showTimestampYOffset}\n              type=\"number\"\n              step={1}\n              placeholder=\"0\"\n              onChange={(v) => setComposite({ ...composite, showTimestampYOffset: v.currentTarget.valueAsNumber })}\n            />\n          </Field>\n          */}\n          <Field\n            label=\"Show Members\"\n            description=\"Toggle Display of composite members\"\n            disabled={!composite.showComposite}\n          >\n            <Switch\n              transparent={true}\n              value={composite.showMembers}\n              disabled={!composite.showComposite}\n              onChange={() => setComposite({ ...composite, showMembers: !composite.showMembers })}\n            />\n          </Field>\n          <Field\n            label=\"Display Mode\"\n            description=\"All will display all members, Triggered will only display those meeting threshold settings\"\n            disabled={!composite.showComposite}\n          >\n            <Select\n              menuShouldPortal={true}\n              value={displayMode}\n              onChange={(v) => {\n                setDisplayMode(v);\n                setComposite({ ...composite, displayMode: v.value });\n              }}\n              options={DisplayModes}\n            />\n          </Field>\n          <Field label=\"Clickthrough URL\" description=\"URL to Open on Click\" disabled={!composite.showComposite}>\n            <Input\n              value={composite.clickThrough}\n              placeholder=\"https://\"\n              onChange={(e) => setComposite({ ...composite, clickThrough: e.currentTarget.value })}\n            />\n          </Field>\n          <Field label=\"Sanitize URL\" description=\"Sanitize URL before evaluating\" disabled={!composite.showComposite}>\n            <Switch\n              transparent={false}\n              disabled={!composite.showComposite}\n              value={composite.clickThroughSanitize}\n              onChange={() => setComposite({ ...composite, clickThroughSanitize: !composite.clickThroughSanitize })}\n            />\n          </Field>\n          <Field label=\"Open URL in New Tab\" description=\"Open link in new tab\" disabled={!composite.showComposite}>\n            <Switch\n              transparent={false}\n              value={composite.clickThroughOpenNewTab}\n              disabled={!composite.showComposite}\n              onChange={() => setComposite({ ...composite, clickThroughOpenNewTab: !composite.clickThroughOpenNewTab })}\n            />\n          </Field>\n          <Field label=\"Enable Custom URL Target\" description=\"Enable custom target\" disabled={!composite.showComposite} hidden={composite.clickThroughOpenNewTab}>\n            <Switch\n              transparent={false}\n              value={composite.clickThroughCustomTargetEnabled}\n              disabled={!composite.showComposite}\n              onChange={() => setComposite({ ...composite,\n                clickThroughCustomTargetEnabled: !composite.clickThroughCustomTargetEnabled,\n                clickThroughCustomTarget: composite.clickThroughCustomTarget || ''\n              })}\n            />\n          </Field>\n          <Field label=\"Custom URL Target\" description=\"Specify a custom target, typical values are: _blank|_self|_parent|_top|framename\" disabled={!composite.showComposite} hidden={!composite.clickThroughCustomTargetEnabled}>\n            <Input\n              value={composite.clickThroughCustomTarget}\n              placeholder=\"_self\"\n              disabled={!composite.showComposite}\n              onChange={(e) => setComposite({ ...composite, clickThroughCustomTarget: e.currentTarget.value })}\n            />\n          </Field>\n          <Field disabled={!composite.showComposite}>\n            <Button\n              key=\"addMetric\"\n              variant=\"primary\"\n              icon=\"plus\"\n              disabled={!composite.showComposite}\n              onClick={addMetric}\n            >\n              Add Metric\n            </Button>\n          </Field>\n          {composite.metrics &&\n            composite.metrics.map((item: CompositeMetric, index: number) => {\n              // generate ID if it doesn't exist\n              if (!item.ID) {\n                item.ID = UUIDv4();\n              }\n              return (\n                <CompositeMetricItem\n                  key={`composite-metric-id-${item.ID}`}\n                  metric={item}\n                  index={index}\n                  disabled={!composite.showComposite}\n                  updateMetric={updateMetric}\n                  updateMetricAlias={updateMetricAlias}\n                  removeMetric={removeMetric}\n                  context={props.context}\n                />\n              );\n            })}\n        </FieldSet>\n      </Card.Meta>\n      <Card.Actions>\n        <IconButton key=\"moveUp\" name=\"arrow-up\" tooltip=\"Move Up\" onClick={moveUp} />\n        <IconButton key=\"moveDown\" name=\"arrow-down\" tooltip=\"Move Down\" onClick={moveDown} />\n        <IconButton\n          key=\"showComposite\"\n          name={composite.showComposite ? visibleIcon : hiddenIcon}\n          tooltip=\"Hide/Show Composite\"\n          onClick={() => setComposite({ ...composite, showComposite: !composite.showComposite })}\n        />\n        <IconButton key=\"copyComposite\" name=\"copy\" tooltip=\"Duplicate\" onClick={createDuplicate} />\n        <IconButton\n          key=\"deleteComposite\"\n          variant=\"destructive\"\n          name=\"trash-alt\"\n          tooltip=\"Delete Composite\"\n          onClick={removeItem}\n        />\n      </Card.Actions>\n    </Card>\n  );\n};\n","import React, {useState} from 'react';\nimport {StandardEditorProps} from '@grafana/data';\nimport {Button, Collapse, Field, FieldSet, Input, Switch} from '@grafana/ui';\n\nimport {CompositeItem} from './CompositeItem';\nimport {CompositeItemTracker, CompositeItemType, CompositeMetric, DisplayModes} from './types';\nimport {v4 as UUIdv4} from 'uuid';\nimport { ShowTimestampFormats } from 'components/types';\n\nexport interface CompositeEditorSettings {\n  composites: CompositeItemType[];\n  enabled: boolean;\n  animationSpeed: string;\n}\n\ninterface Props extends StandardEditorProps<string | string[] | null, CompositeEditorSettings> {}\n\nexport const CompositeEditor: React.FC<Props> = ({ context, onChange }) => {\n  const [settings] = useState(context.options.compositeConfig);\n  const [animationSpeed, _setAnimationSpeed] = useState(context.options.compositeConfig.animationSpeed);\n  const [compositesEnabled, _setCompositesEnabled] = useState(context.options.compositeConfig.enabled);\n  const [tracker, _setTracker] = useState((): CompositeItemTracker[] => {\n    if (settings.composites) {\n      const items: CompositeItemTracker[] = [];\n      settings.composites.forEach((value: CompositeItemType, index: number) => {\n        items[index] = {\n          composite: value,\n          order: index,\n          ID: UUIdv4(),\n        };\n      });\n      return items;\n    } else {\n      return [] as CompositeItemTracker[];\n    }\n  });\n\n  const setAnimationSpeed = (val: any) => {\n    _setAnimationSpeed(val);\n    settings.animationSpeed = val;\n    onChange(settings);\n  };\n  const setCompositesEnabled = (val: any) => {\n    _setCompositesEnabled(val);\n    settings.enabled = val;\n    onChange(settings);\n  };\n  const setTracker = (v: CompositeItemTracker[]) => {\n    _setTracker(v);\n    // update the panel config (only the composites themselves, not the tracker)\n    const allComposites: CompositeItemType[] = [];\n    v.forEach((element) => {\n      allComposites.push(element.composite);\n    });\n    const compositeConfig = {\n      composites: allComposites,\n      animationSpeed: settings.animationSpeed,\n      enabled: settings.enabled,\n    };\n    onChange(compositeConfig as any);\n  };\n\n  // tracks composite card collapse state\n  const [isOpen, setIsOpen] = useState((): boolean[] => {\n    if (!tracker) {\n      return [];\n    }\n    let size = tracker.length;\n    const openStates: boolean[] = [];\n    while (size--) {\n      openStates[size] = false;\n    }\n    return openStates;\n  });\n\n  // generic move\n  const arrayMove = (arr: any, oldIndex: number, newIndex: number) => {\n    if (newIndex >= arr.length) {\n      let k = newIndex - arr.length + 1;\n      while (k--) {\n        arr.push(undefined);\n      }\n    }\n    arr.splice(newIndex, 0, arr.splice(oldIndex, 1)[0]);\n  };\n\n  const moveDown = (index: number) => {\n    if (index !== tracker.length - 1) {\n      arrayMove(tracker, index, index + 1);\n      // reorder\n      for (let i = 0; i < tracker.length; i++) {\n        tracker[i].order = i;\n        tracker[i].composite.order = i;\n      }\n      setTracker([...tracker]);\n    }\n  };\n\n  const moveUp = (index: number) => {\n    if (index > 0) {\n      arrayMove(tracker, index, index - 1);\n      // reorder\n      for (let i = 0; i < tracker.length; i++) {\n        tracker[i].order = i;\n        tracker[i].composite.order = i;\n      }\n      setTracker([...tracker]);\n    }\n  };\n\n  const createDuplicate = (index: number) => {\n    const original = tracker[index].composite;\n    const order = tracker.length;\n    const aComposite: CompositeItemType = {\n      name: `${original.name} Copy`,\n      label: `${original.name} Copy`,\n      order: order,\n      isTemplated: original.isTemplated,\n      displayMode: original.displayMode,\n      enabled: original.enabled,\n      showName: original.showName,\n      showValue: original.showValue,\n      showComposite: original.showComposite,\n      showMembers: original.showMembers,\n      showTimestampEnabled: false,\n      showTimestampFormat: ShowTimestampFormats[0].value,\n      showTimestampYOffset: 0,\n      metrics: original.metrics,\n      clickThrough: original.clickThrough,\n      clickThroughOpenNewTab: original.clickThroughOpenNewTab,\n      clickThroughSanitize: original.clickThroughSanitize,\n      clickThroughCustomTargetEnabled: original.clickThroughCustomTargetEnabled,\n      clickThroughCustomTarget: original.clickThroughCustomTarget\n    };\n    const aTracker: CompositeItemTracker = {\n      composite: aComposite,\n      order: order,\n      ID: UUIdv4(),\n    };\n    setTracker([...tracker, aTracker]);\n    setIsOpen([...isOpen, true]);\n  };\n\n  const updateComposite = (index: number, value: CompositeItemType) => {\n    tracker[index].composite = value;\n    setTracker([...tracker]);\n  };\n\n  const removeComposite = (compositeIndex: number) => {\n    // find the composite by the compositeIndex\n    const allComposites = [...tracker];\n    let removeIndex = 0;\n    for (let i = 0; i < allComposites.length; i++) {\n      if (allComposites[i].order === compositeIndex) {\n        removeIndex = i;\n        break;\n      }\n    }\n    allComposites.splice(removeIndex, 1);\n    // reorder\n    for (let i = 0; i < allComposites.length; i++) {\n      allComposites[i].order = i;\n    }\n    setTracker([...allComposites]);\n  };\n\n  const toggleOpener = (index: number) => {\n    const toggleState = [...isOpen];\n    toggleState[index] = !toggleState[index];\n    setIsOpen([...toggleState]);\n  };\n\n  const addItem = () => {\n    const order = tracker.length;\n    const aComposite: CompositeItemType = {\n      name: `Composite-${order}`,\n      label: `Composite-${order}`,\n      showName: true,\n      showValue: true,\n      showMembers: false,\n      showComposite: true,\n      showTimestampEnabled: false,\n      showTimestampFormat: ShowTimestampFormats[0].value,\n      showTimestampYOffset: 0,\n      isTemplated: false,\n      enabled: true,\n      metrics: [] as CompositeMetric[],\n      displayMode: DisplayModes[0].value,\n      clickThrough: '',\n      clickThroughOpenNewTab: true,\n      clickThroughSanitize: true,\n      clickThroughCustomTargetEnabled: false,\n      clickThroughCustomTarget: '',\n      order: order\n    };\n    const aTracker: CompositeItemTracker = {\n      composite: aComposite,\n      order: order,\n      ID: UUIdv4(),\n    };\n    setTracker([...tracker, aTracker]);\n    // add an opener also\n    setIsOpen([...isOpen, true]);\n  };\n\n  return (\n    <>\n      <FieldSet>\n        <Field label=\"Enable Composites\" description=\"Enable/Disable Composites Globally\">\n          <Switch\n            transparent={true}\n            value={compositesEnabled}\n            onChange={() => setCompositesEnabled(!compositesEnabled)}\n          />\n        </Field>\n        <Field label=\"Animation Speed (ms)\" description=\"Animation Speed in milliseconds\" disabled={!settings.enabled}>\n          <Input\n            value={animationSpeed}\n            placeholder=\"500\"\n            onChange={(e: any) => setAnimationSpeed(e.currentTarget.value)}\n          />\n        </Field>\n      </FieldSet>\n      <Button fill=\"solid\" variant=\"primary\" icon=\"plus\" disabled={!settings.enabled} onClick={addItem}>\n        Add Composite\n      </Button>\n      {tracker &&\n        tracker.map((item: CompositeItemTracker, index: number) => {\n          return (\n            <Collapse\n              key={`collapse-item-index-${item.ID}`}\n              label={item.composite.name}\n              isOpen={isOpen[index]}\n              onToggle={() => toggleOpener(index)}\n              collapsible\n            >\n              <CompositeItem\n                key={`composite-item-index-${item.ID}`}\n                ID={item.ID}\n                composite={item.composite}\n                enabled={item.composite.enabled}\n                setter={updateComposite}\n                remover={removeComposite}\n                moveUp={moveUp}\n                moveDown={moveDown}\n                createDuplicate={createDuplicate}\n                context={context}\n              />\n            </Collapse>\n          );\n        })}\n    </>\n  );\n};\n","import React, { useState } from 'react';\nimport { StandardEditorProps } from '@grafana/data';\nimport { Field } from '@grafana/ui';\n\nimport { PolystatThreshold } from './types';\nimport { ThresholdsEditor } from './ThresholdsEditor';\n\nexport interface GlobalThresholdEditorSettings {}\n\ninterface Props extends StandardEditorProps<string | string[] | null, GlobalThresholdEditorSettings> {}\n\nexport const GlobalThresholdEditor: React.FC<Props> = ({ context, onChange }) => {\n  const [globalThresholds, setGlobalThresholds] = useState(context.options.globalThresholdsConfig);\n  const setThresholds = (val: PolystatThreshold[]) => {\n    setGlobalThresholds(val);\n    onChange(val as any);\n  };\n\n  return (\n    <>\n      <Field>\n        <ThresholdsEditor thresholds={globalThresholds} setter={setThresholds} />\n      </Field>\n    </>\n  );\n};\n","import { PanelModel, convertOldAngularValueMappings, ValueMapping } from '@grafana/data';\nimport { config } from \"@grafana/runtime\";\nimport { satisfies, coerce } from \"semver\";\nimport { CompositeItemType, CompositeMetric } from 'components/composites/types';\nimport { OverrideItemType } from './components/overrides/types';\nimport { PolystatThreshold } from './components/thresholds/types';\n\nimport { DisplayModes, FontFamilies, PolygonShapes, PolystatOptions, ShowTimestampFormats, ShowTimestampPositions } from './components/types';\ninterface AngularPolystatOptions {\n  animationSpeed: number;\n  columnAutoSize: boolean;\n  columns: string;\n  defaultClickThrough: string;\n  defaultClickThroughNewTab: boolean;\n  defaultClickThroughSanitize: boolean;\n  displayLimit: number;\n  ellipseCharacters: number;\n  ellipseEnabled: boolean;\n  fontAutoColor: boolean;\n  fontAutoScale: boolean;\n  fontSize: number;\n  fontType: string,\n  globalDecimals: number;\n  globalDisplayMode: string;\n  globalDisplayTextTriggeredEmpty: string;\n  globalOperatorName: string;\n  globalThresholds: AngularThreshold[];\n  globalUnitFormat: string;\n  gradientEnabled: boolean;\n  hexagonSortByDirection: number;\n  hexagonSortByField: string;\n  maxMetrics: number;\n  polygonBorderColor: string;\n  polygonBorderSize: number;\n  polygonGlobalFillColor: string;\n  radius: string;\n  radiusAutoSize: boolean;\n  regexPattern: string;\n  rowAutoSize: boolean;\n  rows: string;\n  shape: string;\n  tooltipDisplayMode: string;\n  tooltipDisplayTextTriggeredEmpty: string;\n  tooltipEnabled: boolean;\n  tooltipFontSize: number;\n  tooltipFontType: string,\n  tooltipPrimarySortDirection: number;\n  tooltipPrimarySortField: string;\n  tooltipSecondarySortDirection: number;\n  tooltipSecondarySortField: string;\n  tooltipTimestampEnabled: boolean;\n  valueEnabled: boolean;\n}\n\nexport interface AngularThreshold {\n  color: string;\n  state: number;\n  value: number;\n}\n\nexport interface AngularOverride {\n  clickThrough: string;\n  colors: string[];\n  decimals: number;\n  enabled: true;\n  label: string;\n  metricName: string;\n  newTabEnabled: boolean;\n  operatorName: string;\n  prefix: string;\n  sanitizeURLEnabled: boolean;\n  suffix: string;\n  unitFormat: string;\n  thresholds: AngularThreshold[];\n}\nexport interface AngularSavedOverrides {\n  savedOverrides: AngularOverride[];\n}\n\nexport interface CompositeMembers {\n  seriesName: string;\n}\nexport interface CompositeItem {\n  animateMode: string;\n  clickThrough: string;\n  compositeName: string;\n  displayName: string;\n  enabled: boolean;\n  hideMembers: boolean;\n  label: string;\n  members: CompositeMembers[];\n  newTabEnabled: boolean;\n  sanitizeURLEnabled: boolean;\n  sanitizedURL: string;\n  showName: boolean;\n  showValue: boolean;\n  thresholdLevel: number;\n}\n\nexport interface AngularSavedComposites {\n  savedComposites: CompositeItem[];\n}\n\n/**\n * This is called when the panel is imported or reloaded\n */\nexport const PolystatPanelMigrationHandler = (panel: PanelModel<PolystatOptions>): Partial<PolystatOptions> => {\n  // add defaults values for v2.1.15 feature\n\n  //@ts-ignore\n  if (!panel.polystat) {\n    // not angular, just return the options if currently set\n    if (!panel.options) {\n      // This happens on the first load or when migrating from angular\n      return {} as any;\n    }\n    //\n    // have react-based settings, modifications to new config will be processed here\n    //\n    // ensure there is a default for new feature in v2.1.15\n    if (!panel.options.globalValueFontSize) {\n      panel.options.globalValueFontSize = 14;\n    }\n    // @ts-ignore\n    if (panel.options.globalFontSize) {\n      // @ts-ignore\n      panel.options.globalLabelFontSize = panel.options.globalFontSize;\n      // @ts-ignore\n      delete panel.options.globalFontSize;\n    }\n    return panel.options;\n  }\n  //@ts-ignore\n  const newDefaults = migrateDefaults(panel.polystat);\n  let options = newDefaults;\n  //@ts-ignore\n  delete panel.polystat;\n  //@ts-ignore\n  const migratedOverrides = migrateOverrides(panel);\n  //@ts-ignore\n  const migratedComposites = migrateComposites(panel, newDefaults.compositeConfig.animationSpeed);\n  //console.log(JSON.stringify(newDefaults, null, 2));\n  options.compositeConfig = migratedComposites.compositeConfig;\n  options.overrideConfig = migratedOverrides.overrideConfig;\n  // convert range and value maps\n  const newMaps = migrateValueAndRangeMaps(panel);\n  panel.fieldConfig = {\n    defaults: {\n      mappings: newMaps,\n    },\n    overrides: [],\n  };\n  //@ts-ignore\n  delete panel.mappingType;\n  //@ts-ignore\n  delete panel.rangeMaps;\n  //@ts-ignore\n  delete panel.valueMaps;\n  // merge defaults\n  //@ts-ignore\n  delete panel.savedComposites;\n  //@ts-ignore\n  delete panel.savedOverrides;\n  //@ts-ignore\n  delete panel.colors;\n\n  // clean up undefined\n  // @ts-ignore\n  Object.keys(panel).forEach((key) => (panel[key] === undefined ? delete panel[key] : {}));\n  // @ts-ignore\n  Object.keys(options).forEach((key) => (options[key] === undefined ? delete options[key] : {}));\n\n  return options;\n};\n\n// split into three parts\n// config normally found in \"polystat\" section\n// then \"savedOverrides\" and \"savedComposites\"\n// a \"good\" react config just has an \"options\" section\nexport const migrateDefaults = (angular: AngularPolystatOptions) => {\n  let options: PolystatOptions = {\n    autoSizeColumns: true,\n    autoSizeRows: true,\n    autoSizePolygons: true,\n    ellipseCharacters: 18,\n    ellipseEnabled: false,\n    globalAutoScaleFonts: true,\n    globalClickthrough: '',\n    globalClickthroughNewTabEnabled: false,\n    globalClickthroughSanitizedEnabled: false,\n    globalClickthroughCustomTargetEnabled: false,\n    globalClickthroughCustomTarget: '',\n    globalDecimals: 2,\n    globalDisplayMode: 'all',\n    globalDisplayTextTriggeredEmpty: '',\n    globalFillColor: '',\n    globalLabelFontSize: 12,\n    globalValueFontSize: 14,\n    globalCompositeValueFontSize: 14,\n    globalGradientsEnabled: false,\n    globalOperator: 'mean',\n    globalPolygonBorderSize: 1,\n    globalPolygonBorderColor: '',\n    globalPolygonSize: '50',\n    globalRegexPattern: '',\n    globalShape: PolygonShapes.HEXAGON_POINTED_TOP,\n    globalShowValueEnabled: true,\n    globalShowTooltipColumnHeadersEnabled: true,\n    globalShowTimestampEnabled: false,\n    globalShowTimestampFormat: ShowTimestampFormats[0].value,\n    globalShowTimestampPosition: ShowTimestampPositions[0].value,\n    globalShowTimestampFontSize: 12,\n    globalShowTimestampYOffset: 0,\n    globalTextFontColor: '#000000',\n    globalTextFontAutoColor: '#000000',\n    globalTextFontAutoColorEnabled: false,\n    globalTextFontFamily: FontFamilies.INTER,\n    globalThresholdsConfig: [],\n    globalTooltipsEnabled: true,\n    globalTooltipsShowTimestampEnabled: true,\n    globalTooltipsShowValueEnabled: true,\n    globalTooltipsFontFamily: FontFamilies.INTER,\n    globalUnitFormat: '',\n    layoutDisplayLimit: 100,\n    layoutNumColumns: 8,\n    layoutNumRows: 8,\n    panelHeight: undefined,\n    panelWidth: undefined,\n    panelId: 0,\n    radius: 100,\n    renderTime: undefined,\n    sortByField: '',\n    sortByDirection: 0,\n    overrideConfig: {\n      overrides: [],\n    },\n    compositeGlobalAliasingEnabled: false,\n    compositeConfig: {\n      animationSpeed: '',\n      composites: [],\n      enabled: false,\n    },\n    tooltipPrimarySortDirection: 0,\n    tooltipPrimarySortByField: '',\n    tooltipSecondarySortDirection: 0,\n    tooltipSecondarySortByField: '',\n    tooltipDisplayMode: 'all',\n    tooltipDisplayTextTriggeredEmpty: '',\n  };\n\n  if (angular.animationSpeed) {\n    if (options.compositeConfig) {\n      options.compositeConfig.animationSpeed = angular.animationSpeed.toString();\n    }\n  }\n  if (angular.columnAutoSize) {\n    options.autoSizeColumns = angular.columnAutoSize;\n  }\n  if (angular.columns) {\n    let numColumns = parseInt(angular.columns, 10);\n    if (isNaN(numColumns) || numColumns < 1) {\n      numColumns = 8;\n    }\n    options.layoutNumColumns = numColumns;\n  }\n  if (angular.defaultClickThrough) {\n    options.globalClickthrough = angular.defaultClickThrough;\n  }\n  if (angular.defaultClickThroughNewTab) {\n    options.globalClickthroughNewTabEnabled = angular.defaultClickThroughNewTab;\n  }\n  if (angular.defaultClickThroughSanitize) {\n    options.globalClickthroughSanitizedEnabled = angular.defaultClickThroughSanitize;\n  }\n  if (angular.displayLimit) {\n    options.layoutDisplayLimit = angular.displayLimit;\n  }\n  if (angular.ellipseCharacters) {\n    options.ellipseCharacters = angular.ellipseCharacters;\n  }\n  if (angular.ellipseEnabled) {\n    options.ellipseEnabled = angular.ellipseEnabled;\n  }\n  if (angular.fontAutoColor) {\n    options.globalTextFontAutoColorEnabled = angular.fontAutoColor;\n  }\n  if (angular.fontAutoScale) {\n    options.globalAutoScaleFonts = angular.fontAutoScale;\n  }\n  if (angular.fontSize) {\n    options.globalLabelFontSize = angular.fontSize;\n  }\n  options.globalTextFontFamily = FontFamilies.INTER;\n  if (hasRobotoFont()) {\n    options.globalTextFontFamily = FontFamilies.ROBOTO;\n  }\n  if (angular.globalDecimals) {\n    options.globalDecimals = angular.globalDecimals;\n  }\n  if (angular.globalDisplayMode) {\n    options.globalDisplayMode = angular.globalDisplayMode;\n  }\n  if (angular.globalDisplayTextTriggeredEmpty) {\n    options.globalDisplayTextTriggeredEmpty = angular.globalDisplayTextTriggeredEmpty;\n  }\n  if (angular.globalOperatorName) {\n    options.globalOperator = convertOperators(angular.globalOperatorName);\n  }\n  if (angular.globalThresholds) {\n    options.globalThresholdsConfig = [];\n    for (const threshold of angular.globalThresholds) {\n      const migratedThreshold: PolystatThreshold = {\n        value: threshold.value,\n        state: threshold.state,\n        color: threshold.color,\n      };\n      options.globalThresholdsConfig.push(migratedThreshold);\n    }\n  }\n\n  if (angular.globalUnitFormat) {\n    options.globalUnitFormat = angular.globalUnitFormat;\n  }\n  if (angular.gradientEnabled) {\n    options.globalGradientsEnabled = angular.gradientEnabled;\n  }\n  if (angular.hexagonSortByDirection) {\n    options.sortByDirection = angular.hexagonSortByDirection;\n  }\n  if (angular.hexagonSortByField) {\n    options.sortByField = angular.hexagonSortByField;\n  }\n  if (angular.polygonBorderColor) {\n    options.globalPolygonBorderColor = angular.polygonBorderColor;\n  }\n  if (angular.polygonBorderSize) {\n    options.globalPolygonBorderSize = angular.polygonBorderSize;\n  }\n  if (angular.polygonGlobalFillColor) {\n    options.globalFillColor = angular.polygonGlobalFillColor;\n  }\n  if (angular.radius) {\n    let radius = parseFloat(angular.radius);\n    if (isNaN(radius) || radius < 0) {\n      radius = 0;\n    }\n    options.radius = radius;\n  }\n  if (angular.radiusAutoSize) {\n    options.autoSizePolygons = angular.radiusAutoSize;\n  }\n  if (angular.regexPattern) {\n    options.globalRegexPattern = angular.regexPattern;\n  }\n  if (angular.rowAutoSize) {\n    options.autoSizeRows = angular.rowAutoSize;\n  }\n  if (angular.rows) {\n    let numRows = parseInt(angular.rows, 10);\n    if (isNaN(numRows) || numRows < 1) {\n      numRows = 8;\n    }\n    options.layoutNumRows = numRows;\n  }\n\n  if (angular.shape) {\n    switch (angular.shape) {\n      case 'circle':\n        options.globalShape = PolygonShapes.CIRCLE;\n        break;\n      case 'square':\n        options.globalShape = PolygonShapes.SQUARE;\n        break;\n      case 'hexagon_pointed_top':\n      default:\n        options.globalShape = PolygonShapes.HEXAGON_POINTED_TOP;\n    }\n  }\n  if (angular.tooltipDisplayMode) {\n    options.tooltipDisplayMode = angular.tooltipDisplayMode;\n  }\n  if (angular.tooltipDisplayTextTriggeredEmpty) {\n    options.tooltipDisplayTextTriggeredEmpty = angular.tooltipDisplayTextTriggeredEmpty;\n  }\n  if (angular.tooltipEnabled) {\n    options.globalTooltipsEnabled = angular.tooltipEnabled;\n  }\n  if (angular.tooltipPrimarySortDirection) {\n    options.tooltipPrimarySortDirection = angular.tooltipPrimarySortDirection;\n  }\n  if (angular.tooltipPrimarySortField) {\n    options.tooltipPrimarySortByField = angular.tooltipPrimarySortField;\n  }\n  if (angular.tooltipSecondarySortDirection) {\n    options.tooltipSecondarySortDirection = angular.tooltipSecondarySortDirection;\n  }\n  if (angular.tooltipSecondarySortField) {\n    options.tooltipSecondarySortByField = angular.tooltipSecondarySortField;\n  }\n  if (angular.tooltipTimestampEnabled) {\n    options.globalTooltipsShowTimestampEnabled = angular.tooltipTimestampEnabled;\n  }\n  options.globalTooltipsFontFamily = FontFamilies.INTER;\n  if (hasRobotoFont()) {\n    options.globalTooltipsFontFamily = FontFamilies.ROBOTO;\n  }\n  if (angular.valueEnabled) {\n    options.globalShowValueEnabled = angular.valueEnabled;\n  }\n\n  return options;\n};\n\nexport const migrateOverrides = (angular: AngularSavedOverrides) => {\n  let options = {} as any;\n\n  options.overrideConfig = {\n    overrides: [],\n  };\n  // Overrides\n  if (angular.savedOverrides?.length) {\n    let order = 0;\n    for (const seriesOverride of angular.savedOverrides) {\n      let anOverride: OverrideItemType = {\n        label: '',\n        metricName: '',\n        alias: '',\n        thresholds: [],\n        colors: [],\n        unitFormat: '',\n        decimals: '',\n        scaledDecimals: 0,\n        enabled: true,\n        operatorName: 'avg',\n        prefix: '',\n        suffix: '',\n        clickThrough: '',\n        clickThroughSanitize: true,\n        clickThroughOpenNewTab: true,\n        clickThroughCustomTargetEnabled: false,\n        clickThroughCustomTarget: '',\n        order: order,\n        showTimestampEnabled: false,\n        showTimestampFormat: ShowTimestampFormats[0].value,\n        showTimestampYOffset: 0,\n      };\n      for (const p of Object.keys(seriesOverride)) {\n        // @ts-ignore\n        const v = seriesOverride[p];\n        switch (p) {\n          // Ignore\n          case '$$hashKey':\n            break;\n          case 'clickThrough':\n            anOverride.clickThrough = v;\n            break;\n          case 'colors':\n            anOverride.colors = v;\n            break;\n          case 'decimals':\n            anOverride.decimals = v;\n            break;\n          case 'enabled':\n            anOverride.enabled = v;\n            break;\n          case 'label':\n            anOverride.label = v;\n            break;\n          case 'metricName':\n            anOverride.metricName = v;\n            break;\n          case 'newTabEnabled':\n            anOverride.clickThroughOpenNewTab = v;\n            break;\n          case 'operatorName':\n            anOverride.operatorName = convertOperators(v);\n            break;\n          case 'prefix':\n            anOverride.prefix = v;\n            break;\n          case 'sanitizeURLEnabled':\n            anOverride.clickThroughSanitize = v;\n            break;\n          case 'suffix':\n            anOverride.suffix = v;\n            break;\n          case 'thresholds':\n            /*\n              \"color\": \"#e5ac0e\",\n              \"state\": 1,\n              \"value\": 78\n              */\n            anOverride.thresholds = [];\n            for (const threshold of v) {\n              const migratedThreshold: PolystatThreshold = {\n                value: threshold.value,\n                state: threshold.state,\n                color: threshold.color,\n              };\n              anOverride.thresholds.push(migratedThreshold);\n            }\n            break;\n          case 'unitFormat':\n            anOverride.unitFormat = v;\n            break;\n          default:\n            console.log('Ignore override migration:', p, v);\n        }\n      }\n      options.overrideConfig.overrides.push(anOverride);\n      order++;\n    }\n  }\n  return options;\n};\n\nexport const convertOperators = (operator: string) => {\n  switch (operator) {\n    case 'avg':\n      return 'mean';\n    case 'current':\n      return 'last'; // lastNotNull?\n    case 'time_step':\n      return 'step';\n    case 'total':\n      return 'sum';\n    default:\n      return operator;\n  }\n};\n\nexport const migrateValueAndRangeMaps = (panel: any) => {\n  // value maps first\n  panel.mappingType = 1;\n  let newValueMappings: ValueMapping[] = [];\n  if (panel.valueMaps !== undefined) {\n    newValueMappings = convertOldAngularValueMappings(panel);\n  }\n  // range maps second\n  panel.mappingType = 2;\n  let newRangeMappings: ValueMapping[] = [];\n  if (panel.rangeMaps !== undefined) {\n    newRangeMappings = convertOldAngularValueMappings(panel);\n  }\n  // append together\n  const newMappings = newValueMappings.concat(newRangeMappings);\n  // get uniques only\n  return [...new Map(newMappings.map((v) => [JSON.stringify(v), v])).values()];\n};\n\nexport const migrateComposites = (angular: AngularSavedComposites, animationSpeed: string) => {\n  let options = {} as any;\n  // Composites\n  options.compositeConfig = {\n    composites: [],\n    enabled: true,\n    animationSpeed: animationSpeed,\n  };\n\n  if (angular.savedComposites?.length) {\n    let index = 0;\n    for (const composite of angular.savedComposites) {\n      let aComposite: CompositeItemType = {\n        name: `COMPOSITE-${index}`,\n        label: `COMPOSITE-${index}`,\n        order: index,\n        isTemplated: false,\n        displayMode: DisplayModes[0].value,\n        enabled: true,\n        showName: true,\n        showValue: true,\n        showComposite: true,\n        showMembers: false,\n        showTimestampEnabled: false,\n        showTimestampFormat: ShowTimestampFormats[0].value,\n        showTimestampYOffset: 0,\n        metrics: [],\n        clickThrough: '',\n        clickThroughSanitize: true,\n        clickThroughOpenNewTab: true,\n        clickThroughCustomTargetEnabled: false,\n        clickThroughCustomTarget: ''\n      };\n      index++;\n      for (const p of Object.keys(composite)) {\n        // @ts-ignore\n        const v = composite[p];\n        switch (p) {\n          // Ignore\n          case '$$hashKey':\n            break;\n          case 'animateMode':\n            if (v !== 'all') {\n              aComposite.displayMode = DisplayModes[1].value;\n            }\n            break;\n          case 'clickThrough':\n            aComposite.clickThrough = v;\n            break;\n          case 'compositeName':\n            aComposite.name = v;\n            break;\n          // Ignore\n          case 'displayName':\n            break;\n          case 'enabled':\n            // this is now .showComposite\n            aComposite.showComposite = v;\n            break;\n          case 'hideMembers':\n            aComposite.showMembers = !v;\n            break;\n          case 'label':\n            aComposite.label = v;\n            break;\n          case 'members':\n            /*\n              {\n                \"$$hashKey\": \"object:150\",\n                \"seriesName\": \"/P2/\"\n              }\n              */\n            let memberIndex = 0;\n            let members: CompositeMetric[] = [];\n            // not sure about this...\n            for (const aMember of Object.keys(v)) {\n              const x = v[aMember];\n              let member: CompositeMetric = {\n                seriesMatch: x.seriesName,\n                order: memberIndex,\n              };\n              members.push(member);\n              memberIndex++;\n            }\n            aComposite.metrics = members;\n            break;\n          case 'newTabEnabled':\n            aComposite.clickThroughOpenNewTab = v;\n            break;\n          case 'sanitizeURLEnabled':\n            aComposite.clickThroughSanitize = v;\n            break;\n          // Ignore\n          case 'sanitizedURL':\n            break;\n          case 'showName':\n            aComposite.showName = v;\n            break;\n          case 'showValue':\n            aComposite.showValue = v;\n            break;\n          default:\n            console.log('Ignore composite migration:', p, v);\n        }\n      }\n      options.compositeConfig.composites.push(aComposite);\n    }\n  }\n  return options;\n};\n\n/**\n * This is called when the panel changes from another panel\n *\n * not currently used\n */\nexport const PolystatPanelChangedHandler = (\n  panel: PanelModel<Partial<PolystatOptions>> | any,\n  prevPluginId: string,\n  prevOptions: any\n) => {\n  // Changing from angular polystat panel\n  if (prevPluginId === 'polystat' && prevOptions.angular) {\n    console.log('detected old panel');\n    const oldOpts = prevOptions.angular;\n    console.log(JSON.stringify(oldOpts));\n  }\n\n  return {};\n};\n\n// Roboto font was removed Dec 1, 2022, and releases after that date should not attempt to use it\nexport const hasRobotoFont = () => {\n  const version = coerce(config.buildInfo.version);\n  if (version !== null) {\n    if (satisfies(version, \"<9.4.0\")) {\n      return true;\n    }\n  }\n  return false;\n};\n","import { FieldConfigProperty, PanelPlugin } from '@grafana/data';\n\nimport {\n  DisplayModes,\n  FontFamilyOptions,\n  FontFamilyOptionsLegacy,\n  OperatorOptions,\n  PolygonNamedShapes,\n  PolystatOptions,\n  ShowTimestampFormats,\n  ShowTimestampPositions,\n  SortByFieldOptions,\n  SortOptions,\n} from './components/types';\nimport { CompositeItemType } from './components/composites/types';\nimport { OverrideEditor } from './components/overrides/OverrideEditor';\nimport { OverrideItemType } from './components/overrides/types';\nimport { PolystatPanel } from './components/PolystatPanel';\nimport {\n  GLOBAL_FILL_COLOR_RGBA,\n  GLOBAL_BORDER_COLOR_RGBA,\n  GLOBAL_DISPLAY_TEXT_TRIGGERED_EMPTY,\n  GLOBAL_TEXT_FONT_FAMILY,\n  GLOBAL_TOOLTIP_FONT_FAMILY,\n  GLOBAL_TEXT_FONT_FAMILY_LEGACY,\n  GLOBAL_TOOLTIP_FONT_FAMILY_LEGACY,\n} from './components/defaults';\nimport { CompositeEditor } from './components/composites/CompositeEditor';\nimport { PolystatThreshold } from './components/thresholds/types';\nimport { GlobalThresholdEditor } from './components/thresholds/GlobalThresholdEditor';\nimport { PolystatDataSuggestionsSupplier } from './components/suggestions';\nimport { hasRobotoFont, PolystatPanelMigrationHandler } from './migrations';\n\n\nexport const plugin = new PanelPlugin<PolystatOptions>(PolystatPanel)\n  .setMigrationHandler(PolystatPanelMigrationHandler)\n  .useFieldConfig({\n    disableStandardOptions: [\n      FieldConfigProperty.Thresholds,\n      FieldConfigProperty.Color,\n      FieldConfigProperty.Decimals,\n      FieldConfigProperty.DisplayName,\n      FieldConfigProperty.Max,\n      FieldConfigProperty.Min,\n      FieldConfigProperty.Links,\n      FieldConfigProperty.NoValue,\n      FieldConfigProperty.Unit,\n    ],\n    standardOptions: {\n      [FieldConfigProperty.Mappings]: {},\n    },\n  })\n  .setPanelOptions((builder) => {\n    builder\n      .addBooleanSwitch({\n        name: 'Auto Size Columns',\n        path: 'autoSizeColumns',\n        defaultValue: true,\n        category: ['Layout'],\n        description: 'Automatically set columns based on panel size',\n      })\n      .addNumberInput({\n        path: 'layoutNumColumns',\n        name: 'Columns',\n        description: 'Use specific number of columns',\n        defaultValue: 8,\n        settings: {\n          placeHolder: '8',\n          min: 1,\n          integer: true,\n        },\n        category: ['Layout'],\n        showIf: (c) => !c.autoSizeColumns,\n      })\n      .addBooleanSwitch({\n        name: 'Auto Size Rows',\n        path: 'autoSizeRows',\n        defaultValue: true,\n        category: ['Layout'],\n        description: 'Automatically set rows based on panel size',\n      })\n      .addNumberInput({\n        path: 'layoutNumRows',\n        name: 'Rows',\n        description: 'Use specific number of rows',\n        defaultValue: 8,\n        settings: {\n          placeHolder: '8',\n          min: 1,\n          integer: true,\n        },\n        category: ['Layout'],\n        showIf: (c) => !c.autoSizeRows,\n      })\n      .addNumberInput({\n        path: 'layoutDisplayLimit',\n        name: 'Display Limit',\n        description: 'Maximum number of polygons to display (0 for unlimited)',\n        defaultValue: 100,\n        settings: {\n          min: 0,\n          integer: true,\n        },\n        category: ['Layout'],\n      })\n\n      .addBooleanSwitch({\n        name: 'Auto Size Polygons',\n        path: 'autoSizePolygons',\n        defaultValue: true,\n        category: ['Sizing'],\n        description: 'Automatically sets size of polygon for best fit',\n      })\n      .addTextInput({\n        name: 'Polygon Size in pixels',\n        path: 'globalPolygonSize',\n        description: 'Use specific size for polygons',\n        defaultValue: '25',\n        settings: {\n          placeHolder: 'Auto',\n        },\n        category: ['Sizing'],\n        showIf: (c) => !c.autoSizePolygons,\n      })\n      .addNumberInput({\n        name: 'Border Size',\n        path: 'globalPolygonBorderSize',\n        description: 'Border size for each polygon',\n        defaultValue: 2,\n        settings: {\n          min: 0,\n        },\n        category: ['Sizing'],\n      })\n      // font selection\n      .addSelect({\n        path: 'globalTextFontFamily',\n        name: 'Font Family',\n        description: 'Font used for rendered text',\n        category: ['Text'],\n        defaultValue: GLOBAL_TEXT_FONT_FAMILY,\n        settings: {\n          options: FontFamilyOptions,\n        },\n        showIf: () => !hasRobotoFont(),\n      })\n      .addSelect({\n        path: 'globalTextFontFamily',\n        name: 'Font Family',\n        description: 'Font used for rendered text',\n        category: ['Text'],\n        defaultValue: GLOBAL_TEXT_FONT_FAMILY_LEGACY,\n        settings: {\n          options: FontFamilyOptionsLegacy,\n        },\n        showIf: () => hasRobotoFont(),\n      })\n      .addBooleanSwitch({\n        name: 'Auto Scale Fonts',\n        path: 'globalAutoScaleFonts',\n        defaultValue: true,\n        category: ['Text'],\n        description: 'Automatically sets label and value font size based on size of polygon',\n      })\n      .addNumberInput({\n        name: 'Label Font Size',\n        path: 'globalLabelFontSize',\n        defaultValue: 12,\n        settings: {\n          min: 0,\n        },\n        category: ['Text'],\n        description: 'Label font size',\n        showIf: (c) => !c.globalAutoScaleFonts,\n      })\n      .addNumberInput({\n        name: 'Value Font Size',\n        path: 'globalValueFontSize',\n        defaultValue: 14,\n        settings: {\n          min: 0,\n        },\n        category: ['Text'],\n        description: 'Value font size',\n        showIf: (c) => !c.globalAutoScaleFonts,\n      })\n      .addNumberInput({\n        name: 'Composite Value Font Size',\n        path: 'globalCompositeValueFontSize',\n        defaultValue: 14,\n        settings: {\n          min: 0,\n        },\n        category: ['Text'],\n        description: 'Composite Value font size',\n        showIf: (c) => !c.globalAutoScaleFonts,\n      })\n      // font color\n      // auto set font color\n      .addBooleanSwitch({\n        name: 'Automate Font Color',\n        path: 'globalTextFontAutoColorEnabled',\n        defaultValue: true,\n        category: ['Text'],\n        description: 'Sets font color to match theme',\n      })\n      .addColorPicker({\n        name: 'Font Color',\n        path: 'globalTextFontColor',\n        category: ['Text'],\n        defaultValue: '#000000',\n        description: 'Font color to use for all text on polygon',\n        showIf: (c) => !c.globalTextFontAutoColorEnabled,\n      })\n\n      // ellipse enabled\n      .addBooleanSwitch({\n        name: 'Use Ellipses',\n        path: 'ellipseEnabled',\n        defaultValue: false,\n        category: ['Text'],\n        description: 'Use Ellipses when character count is exceeded',\n        showIf: (c) => !c.globalAutoScaleFonts,\n      })\n      // ellipse num chars\n      .addNumberInput({\n        name: 'Ellipse Characters',\n        path: 'ellipseCharacters',\n        defaultValue: 18,\n        settings: {\n          min: 0,\n          integer: true,\n        },\n        category: ['Text'],\n        description: 'Default number of characters to display before showing ellipses',\n        showIf: (c) => c.ellipseEnabled && !c.globalAutoScaleFonts,\n      })\n\n      // Sorting\n      .addSelect({\n        path: 'sortByDirection',\n        name: 'Sort By Direction',\n        description: 'Direction of sorting by the specified field',\n        category: ['Sorting'],\n        defaultValue: 1,\n        settings: {\n          options: SortOptions,\n        },\n      })\n      .addSelect({\n        path: 'sortByField',\n        name: 'Sort By Field',\n        description: 'Which field should be used for sorting',\n        defaultValue: 'name',\n        category: ['Sorting'],\n        settings: {\n          options: SortByFieldOptions,\n        },\n      })\n\n      // tooltips\n      .addBooleanSwitch({\n        name: 'Enable Tooltips',\n        path: 'globalTooltipsEnabled',\n        defaultValue: true,\n        category: ['Tooltips'],\n        description: 'Provides tooltips for each polygon',\n      })\n      .addSelect({\n        path: 'globalTooltipsFontFamily',\n        name: 'Font Family',\n        description: 'Font used for tooltip text',\n        category: ['Tooltips'],\n        defaultValue: GLOBAL_TOOLTIP_FONT_FAMILY,\n        settings: {\n          options: FontFamilyOptions,\n        },\n        showIf: () => !hasRobotoFont(),\n      })\n      .addSelect({\n        path: 'globalTooltipsFontFamily',\n        name: 'Font Family',\n        description: 'Font used for tooltip text',\n        category: ['Tooltips'],\n        defaultValue: GLOBAL_TOOLTIP_FONT_FAMILY_LEGACY,\n        settings: {\n          options: FontFamilyOptionsLegacy,\n        },\n        showIf: () => hasRobotoFont(),\n      })\n      .addBooleanSwitch({\n        name: 'Show Timestamp',\n        path: 'globalTooltipsShowTimestampEnabled',\n        defaultValue: true,\n        category: ['Tooltips'],\n        description: 'Show timestamp at bottom of tooltip',\n      })\n      .addBooleanSwitch({\n        name: 'Show Value',\n        path: 'globalTooltipsShowValueEnabled',\n        defaultValue: true,\n        category: ['Tooltips'],\n        description: 'Show values in tooltip',\n      })\n      // show tooltip column headers\n      .addBooleanSwitch({\n        name: 'Show Column Headers',\n        path: 'globalShowTooltipColumnHeadersEnabled',\n        defaultValue: true,\n        category: ['Tooltips'],\n        description: 'Show Column headers on tooltip'\n      })\n      // display modes\n      .addSelect({\n        path: 'tooltipDisplayMode',\n        name: 'Display Mode',\n        description: 'Show either all metrics/composites or only triggered',\n        defaultValue: 'all',\n        category: ['Tooltips'],\n        settings: {\n          options: DisplayModes,\n        },\n      })\n      .addTextInput({\n        path: 'tooltipDisplayTextTriggeredEmpty',\n        name: 'Non Triggered State Text',\n        description:\n          'Text to be displayed by tooltip when there are no triggered thresholds and tooltip display mode is set to triggered',\n        defaultValue: GLOBAL_DISPLAY_TEXT_TRIGGERED_EMPTY,\n        category: ['Tooltips'],\n      })\n      // primary sort direction\n      .addSelect({\n        path: 'tooltipPrimarySortDirection',\n        name: 'Primary Sort Direction',\n        description: 'Direction of sorting by the specified field',\n        category: ['Tooltips'],\n        defaultValue: SortOptions[1].value,\n        settings: {\n          options: SortOptions,\n        },\n      })\n      .addSelect({\n        path: 'tooltipPrimarySortByField',\n        name: 'Primary Sort By Field',\n        description: 'Which field should be used for sorting',\n        defaultValue: 'thresholdLevel',\n        category: ['Tooltips'],\n        settings: {\n          options: SortByFieldOptions,\n        },\n      })\n\n      // secondary sort direction\n      .addSelect({\n        path: 'tooltipSecondarySortDirection',\n        name: 'Secondary Sort Direction',\n        description: 'Direction of sorting by the specified field',\n        category: ['Tooltips'],\n        defaultValue: SortOptions[1].value,\n        settings: {\n          options: SortOptions,\n        },\n      })\n      .addSelect({\n        path: 'tooltipSecondarySortByField',\n        name: 'Secondary Sort By Field',\n        description: 'Which field should be used for sorting',\n        defaultValue: 'value',\n        category: ['Tooltips'],\n        settings: {\n          options: SortByFieldOptions,\n        },\n      })\n\n      // globals generic\n      //\n      // display mode\n      .addSelect({\n        path: 'globalDisplayMode',\n        name: 'Display Mode',\n        description: 'Show either all metrics/composites or only triggered',\n        defaultValue: 'all',\n        category: ['Global'],\n        settings: {\n          options: DisplayModes,\n        },\n      })\n      .addTextInput({\n        path: 'globalDisplayTextTriggeredEmpty',\n        name: 'Non Triggered State Text',\n        description:\n          'Text to be displayed in polygon when there are no triggered thresholds and global display mode is set to triggered',\n        defaultValue: GLOBAL_DISPLAY_TEXT_TRIGGERED_EMPTY,\n        category: ['Global'],\n      })\n\n      // show value\n      .addBooleanSwitch({\n        name: 'Show Value',\n        path: 'globalShowValueEnabled',\n        defaultValue: true,\n        category: ['Global'],\n        description: 'Show value on the polygon',\n      })\n\n      // displays timestamp on polygons\n      .addBooleanSwitch({\n        name: 'Show Timestamp',\n        path: 'globalShowTimestampEnabled',\n        defaultValue: false,\n        category: ['Global'],\n        description: 'Show timestamp of metric on the polygon',\n      })\n      .addSelect({\n        name: 'Timestamp Format',\n        path: 'globalShowTimestampFormat',\n        description: 'Format of timestamp to display',\n        category: ['Global'],\n        defaultValue: ShowTimestampFormats[2].value,\n        settings: {\n          options: ShowTimestampFormats,\n          allowCustomValue: true,\n        },\n        showIf: (c) => c.globalShowTimestampEnabled,\n      })\n      .addNumberInput({\n        name: 'Font Size',\n        path: 'globalShowTimestampFontSize',\n        defaultValue: 12,\n        settings: {\n          min: 0,\n        },\n        category: ['Global'],\n        description: 'Default font size to use when Global Auto Scale Fonts is disabled',\n        showIf: (c) => !c.globalAutoScaleFonts,\n      })\n      .addSelect({\n        name: 'Timestamp Position',\n        path: 'globalShowTimestampPosition',\n        description: 'Position of Timestamp',\n        category: ['Global'],\n        defaultValue: ShowTimestampPositions[1].value,\n        settings: {\n          options: ShowTimestampPositions,\n          allowCustomValue: false,\n        },\n        showIf: (c) => c.globalShowTimestampEnabled,\n      })\n      .addNumberInput({\n        name: 'Timestamp Y-Offset',\n        path: 'globalShowTimestampYOffset',\n        description: 'Adjust the displayed timestamp up or down the Y-Axis, use negative value to move up, positive for down',\n        defaultValue: 0,\n        settings: {\n          integer: true,\n        },\n        category: ['Global'],\n        showIf: (c) => c.globalShowTimestampEnabled,\n      })\n\n      // shape\n      .addSelect({\n        name: 'Shape',\n        path: 'globalShape',\n        description: 'Shape of polygon',\n        category: ['Global'],\n        defaultValue: PolygonNamedShapes[0].value,\n        settings: {\n          options: PolygonNamedShapes,\n        },\n      })\n\n      // gradient colors enabled\n      .addBooleanSwitch({\n        name: 'Use Color Gradients',\n        path: 'globalGradientsEnabled',\n        defaultValue: true,\n        category: ['Global'],\n        description: 'Applies gradient color effect to all polygons',\n      })\n      .addColorPicker({\n        name: 'Global Fill Color',\n        path: 'globalFillColor',\n        category: ['Global'],\n        defaultValue: GLOBAL_FILL_COLOR_RGBA,\n        description: 'Color to use when no overrides or thresholds apply to polygon',\n      })\n\n      // border color\n      .addColorPicker({\n        name: 'Global Border Color',\n        path: 'globalPolygonBorderColor',\n        category: ['Global'],\n        defaultValue: GLOBAL_BORDER_COLOR_RGBA,\n        description: 'Color of polygon border',\n      })\n      // unit\n      .addUnitPicker({\n        name: 'Unit',\n        path: 'globalUnitFormat',\n        defaultValue: 'short',\n        category: ['Global'],\n        description: 'Use this unit format when it is not specified in overrides or detected in data',\n      })\n      // stat (global operator)\n      .addSelect({\n        name: 'Stat',\n        path: 'globalOperator',\n        description: 'Statistic to display',\n        category: ['Global'],\n        defaultValue: OperatorOptions[0].value,\n        settings: {\n          options: OperatorOptions,\n        },\n      })\n      // decimals\n      .addNumberInput({\n        name: 'Decimals',\n        path: 'globalDecimals',\n        description: 'Display specified number of decimals',\n        defaultValue: 2,\n        settings: {\n          min: 0,\n          integer: true,\n        },\n        category: ['Global'],\n      })\n      .addCustomEditor({\n        name: 'Global Thresholds',\n        id: 'globalThresholdsConfig',\n        path: 'globalThresholdsConfig',\n        description: 'Default thresholds to be applied to all metrics that do not have an override',\n        editor: GlobalThresholdEditor,\n        defaultValue: [] as PolystatThreshold[],\n        category: ['Global'],\n      })\n      // default clickthrough\n      .addTextInput({\n        name: 'Default Clickthrough',\n        path: 'globalClickthrough',\n        description: 'URL to use when none are defined by overrides or composites',\n        category: ['Global'],\n        defaultValue: '',\n      })\n      // sanitize clickthrough\n      .addBooleanSwitch({\n        name: 'Sanitize URL',\n        path: 'globalClickthroughSanitizedEnabled',\n        defaultValue: true,\n        category: ['Global'],\n        description: 'Sanitizes clickthrough url',\n      })\n      // open in new tab\n      .addBooleanSwitch({\n        name: 'Open URL In New Tab',\n        path: 'globalClickthroughNewTabEnabled',\n        defaultValue: true,\n        category: ['Global'],\n        description: 'Opens clickthrough in a new tab',\n      })\n      .addBooleanSwitch({\n        name: 'Enable Custom URL Target',\n        path: 'globalClickthroughCustomTargetEnabled',\n        defaultValue: false,\n        category: ['Global'],\n        description: 'Use custom target for global clickthrough (this overrides the new tab setting above). Typical values are: _blank|_self|_parent|_top|framename',\n        showIf: (c) => !c.globalClickthroughNewTabEnabled,\n      })\n      .addTextInput({\n        name: 'Custom URL Target',\n        path: 'globalClickthroughCustomTarget',\n        description:\n          'Provide a different target to be set in the target attribute of the clickthrough. Typical values are: _blank|_self|_parent|_top|framename',\n        category: ['Global'],\n        defaultValue: '',\n        showIf: (c) => c.globalClickthroughCustomTargetEnabled,\n      })\n\n      // aliasing\n      .addTextInput({\n        name: 'Global Regex',\n        path: 'globalRegexPattern',\n        description:\n          'The values in the specified column are filtered and displayed according to this regular expression. Ex: String: Url|broadcom.com|mirror|location-1 regex: /Url&#92;|(.*?)&#92;|/ Output: broadcom.com',\n        category: ['Global Aliasing'],\n        defaultValue: '',\n      })\n      .addCustomEditor({\n        name: 'Overrides',\n        id: 'overrideConfig',\n        path: 'overrideConfig',\n        description: 'Overrides for multiple metrics',\n        editor: OverrideEditor,\n        defaultValue: {\n          overrides: [] as OverrideItemType[],\n        },\n        category: ['Overrides'],\n      })\n      // allow enabling / disabling global aliasing for composite hexagon names\n      .addBooleanSwitch({\n        name: 'Composite Global Aliasing',\n        path: 'compositeGlobalAliasingEnabled',\n        defaultValue: false,\n        description: 'Enable / Disable composite global aliasing',\n        category: ['Composites'],\n      })\n      .addCustomEditor({\n        name: 'Composites',\n        id: 'compositeConfig',\n        path: 'compositeConfig',\n        description: 'Composites allow you to roll up multiple metrics into a single polygon',\n        editor: CompositeEditor,\n        defaultValue: {\n          composites: [] as CompositeItemType[],\n          enabled: true,\n          animationSpeed: '1500',\n        },\n        category: ['Composites'],\n      });\n  })\n  .setSuggestionsSupplier(new PolystatDataSuggestionsSupplier());\n","import { VisualizationSuggestionsBuilder } from '@grafana/data';\nimport { PolystatOptions } from './types';\n\nexport class PolystatDataSuggestionsSupplier {\n  getSuggestionsForData(builder: VisualizationSuggestionsBuilder) {\n    const { dataSummary: ds } = builder;\n\n    if (!ds.hasData) {\n      return;\n    }\n    if (!ds.hasNumberField) {\n      return;\n    }\n\n    const list = builder.getListAppender<PolystatOptions, {}>({\n      name: 'Polystat',\n      pluginId: 'grafana-polystat-panel',\n      options: {},\n    });\n\n    list.append({\n      name: 'Polystat',\n    });\n  }\n}\n"],"names":["compare","module","exports","a","b","loose","compareBuild","list","sort","Range","range","options","set","map","comp","c","value","join","trim","split","parse","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","prerelease","length","patch","minor","compareMain","prefix","major","r1","r2","intersects","constructor","this","max","Map","get","key","undefined","delete","size","firstKey","keys","next","__WEBPACK_EXTERNAL_MODULE__1308__","satisfies","versions","first","prev","v","version","push","ranges","min","simplified","original","raw","String","SemVer","er","test","__WEBPACK_EXTERNAL_MODULE__2007__","versionA","versionB","__WEBPACK_EXTERNAL_MODULE__3241__","gt","minver","i","comparators","setMin","forEach","comparator","compver","semver","operator","format","Error","eq","neq","gte","lt","lte","op","TypeError","numeric","compareIdentifiers","anum","bnum","rcompareIdentifiers","__WEBPACK_EXTERNAL_MODULE__4201__","outside","hasOwn","hasOwnProperty","classNames","classes","arguments","arg","appendClass","parseValue","Array","isArray","apply","toString","Object","prototype","includes","call","newClass","default","safeRe","re","t","match","rtl","coerceRtlRegex","includePrerelease","COERCERTLFULL","COERCERTL","exec","index","lastIndex","COERCEFULL","COERCE","build","Comparator","ANY","hilo","gtfn","ltefn","ltfn","ecomp","high","low","throwErrors","release","identifier","identifierBase","inc","__WEBPACK_EXTERNAL_MODULE__5959__","__WEBPACK_EXTERNAL_MODULE__6089__","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","MAX_LENGTH","debug","src","safeSrc","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","name","isGlobal","safe","token","makeSafeRegex","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","looseOption","freeze","emptyOpts","__WEBPACK_EXTERNAL_MODULE__7781__","maxSV","rangeObj","minSV","MAX_SAFE_INTEGER","parseOptions","m","LOOSE","FULL","id","num","other","comparePre","startsWith","base","Number","isNaN","s","replace","SPACE_CHARACTERS","formatted","r","parseRange","filter","isNullSet","isAny","comps","k","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","TILDETRIM","CARETTRIM","rangeList","parseComparator","replaceGTE0","COMPARATORLOOSE","rangeMap","has","result","values","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","testSet","remainingComparators","slice","testComparator","pop","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","toLowerCase","replaceTilde","TILDELOOSE","TILDE","_","M","p","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","allowed","internalRe","constants","identifiers","valid","clean","diff","rcompare","compareLoose","rsort","cmp","coerce","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","gtr","ltr","simplifyRange","subset","tokens","SEMVER_SPEC_VERSION","RELEASE_TYPES","__WEBPACK_EXTERNAL_MODULE__8531__","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","Set","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","add","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","isSub","Symbol","COMPARATOR","parsed","process","env","NODE_DEBUG","args","console","error","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","definition","o","defineProperty","enumerable","obj","prop","toStringTag","lastIndexOf","PolygonShapes","PolygonNamedShapes","label","OperatorOptions","SortOptions","SortByFieldOptions","DisplayModes","FontFamilies","FontFamilyOptions","FontFamilyOptionsLegacy","ShowTimestampFormats","TimestampPositions","ShowTimestampPositions","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","byteToHex","unsafeStringify","arr","offset","buf","rnds","random","rng","RangeError","ThresholdStates","ThresholdItem","styles","useStyles2","getThresholdStyles","threshold","setThreshold","useState","thresholdId","aKey","getThreshold","state","Input","disabled","type","step","ID","onChange","e","valueSetter","currentTarget","div","className","inputPrefix","colorPicker","ColorPicker","color","colorSetter","enableNamedColors","suffix","Select","menuShouldPortal","stateSetter","IconButton","variant","tooltip","onClick","remover","theme","css","spacing","Color","asHex","g","asRGB","blendWith","col","Math","round","Mul","RGBToHex","rgb","sep","indexOf","substr","RGBAToHex","orig","alpha","hex","parseInt","parseFloat","fromHex","substring","bigint","GLOBAL_FILL_COLOR_RGBA","DEFAULT_OK_COLOR_HEX","DEFAULT_OK_COLOR","DEFAULT_WARNING_COLOR_HEX","DEFAULT_WARNING_COLOR","DEFAULT_CRITICAL_COLOR_HEX","DEFAULT_CRITICAL_COLOR","DEFAULT_NO_THRESHOLD_COLOR_HEX","GLOBAL_TEXT_FONT_FAMILY","INTER","GLOBAL_TOOLTIP_FONT_FAMILY","GLOBAL_TEXT_FONT_FAMILY_LEGACY","ROBOTO","GLOBAL_TOOLTIP_FONT_FAMILY_LEGACY","ThresholdsEditor","tracker","_setTracker","thresholds","items","order","UUIdv4","theme2","useTheme2","setTracker","useTheme","allThresholds","element","setter","updateThresholdValue","orderedThresholds","orderBy","updateThresholdColor","useColor","visualization","getColorByName","updateThresholdState","colorForThresholdState","removeThreshold","removeIndex","splice","Button","fill","icon","aTracker","getMetricHints","frames","metricHints","hintValue","aField","fields","FieldType","number","labels","appendLabels","aLabel","config","displayNameFromDS","OverrideItem","props","setMetricHints","override","_setOverride","setOverride","visibleIcon","hiddenIcon","operatorName","setOperatorName","getOperator","useEffect","context","data","hints","metricName","Card","Meta","FieldSet","Field","description","enabled","placeholder","Cascader","initialValue","allowCustomValue","onSelect","val","hidden","alias","decimals","UnitPicker","unitFormat","span","clickThrough","Switch","transparent","clickThroughSanitize","clickThroughOpenNewTab","clickThroughCustomTargetEnabled","clickThroughCustomTarget","Actions","moveUp","moveDown","createDuplicate","OverrideEditor","item","settings","overrideConfig","overrides","allOverrides","isOpen","setIsOpen","openStates","updateOverride","showTimestampEnabled","showTimestampFormat","showTimestampYOffset","scaledDecimals","colors","arrayMove","oldIndex","newIndex","removeOverride","Collapse","onToggle","currentState","toggleOpener","collapsible","thirdPi","PI","angles","pointX","pointY","floor","createCoords","x","y","oppositeSideMap","left","right","bottom","top","oppositeAlignmentMap","start","end","clamp","param","placement","axis","getAxisLength","yAxisSides","getAlignmentAxis","alignment","lrPlacement","rlPlacement","tbPlacement","btPlacement","getOppositeAxisPlacements","flipAlignment","direction","side","isStart","getSideList","concat","getOppositePlacement","padding","expandPaddingObject","rect","width","height","computeCoordsFromPlacement","_ref","reference","floating","sideAxis","alignmentAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","async","detectOverflow","_await$platform$isEle","platform","rects","elements","strategy","boundary","rootBoundary","elementContext","altBoundary","paddingObject","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","offsetParent","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","originSides","hasWindow","window","getNodeName","node","isNode","nodeName","getWindow","_node$ownerDocument","ownerDocument","defaultView","document","documentElement","Node","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","invalidOverflowDisplayValues","isOverflowElement","overflow","overflowX","overflowY","display","tableElements","isTableElement","topLayerSelectors","isTopLayer","selector","matches","_e","transformProperties","willChangeValues","containValues","isContainingBlock","elementOrCss","webkit","isWebKit","containerType","backdropFilter","willChange","contain","CSS","supports","lastTraversableNodeNames","isLastTraversableNode","getComputedStyle","getNodeScroll","scrollLeft","scrollTop","scrollX","scrollY","getParentNode","assignedSlot","parentNode","host","getNearestOverflowAncestor","body","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","frameElement","getFrameElement","visualViewport","parent","getPrototypeOf","getCssDimensions","hasOffset","offsetWidth","offsetHeight","shouldFallback","$","unwrapElement","domElement","getBoundingClientRect","isFinite","noOffsets","getVisualOffsets","offsetLeft","offsetTop","includeScale","isFixedStrategy","clientRect","scale","visualOffsets","isFixed","floatingOffsetParent","shouldAddVisualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","getWindowScrollBarX","leftScroll","getHTMLOffset","scroll","ignoreScrollbarX","htmlRect","absoluteOrFixed","getClientRectFromClippingAncestor","clippingAncestor","html","clientWidth","clientHeight","visualViewportBased","getViewportRect","scrollWidth","scrollHeight","getDocumentRect","getInnerBoundingClientRect","hasFixedPositionAncestor","stopNode","position","getRectRelativeToOffsetParent","isOffsetParentAnElement","offsets","setLeftRTLScrollbarOffset","offsetRect","htmlOffset","isStaticPositioned","getTrueOffsetParent","polyfill","rawOffsetParent","svgOffsetParent","currentNode","getContainingBlock","topLayer","clippingAncestors","cachedResult","el","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","ancestor","getClippingElementAncestors","_c","firstClippingAncestor","clippingRect","reduce","accRect","getElementRects","getOffsetParentFn","getDimensionsFn","getDimensions","floatingDimensions","getClientRects","isRTL","rectsAreEqual","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","IntersectionObserver","animationFrame","referenceEl","ancestors","addEventListener","passive","cleanupIo","onMove","timeoutId","io","root","cleanup","_io","clearTimeout","disconnect","refresh","skip","elementRectForRootMargin","rootMargin","isFirstUpdate","handleObserve","entries","ratio","intersectionRatio","setTimeout","observe","observeMove","frameId","reobserveFrame","resizeObserver","firstEntry","target","unobserve","cancelAnimationFrame","requestAnimationFrame","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","removeEventListener","fn","_middlewareData$offse","_middlewareData$arrow","middlewareData","diffCoords","mainAxisMulti","crossAxisMulti","rawValue","mainAxis","crossAxis","convertValueToCoords","arrow","alignmentOffset","checkMainAxis","checkCrossAxis","limiter","detectOverflowOptions","mainAxisCoord","crossAxisCoord","maxSide","limitedCoords","_middlewareData$flip","initialPlacement","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","initialSideAxis","isBasePlacement","oppositePlacement","getExpandedPlacements","hasFallbackAxisSideDirection","placements","overflows","overflowsData","flip","sides","mainAlignmentSide","_middlewareData$flip2","_overflowsData$filter","nextIndex","nextPlacement","reset","resetPlacement","_overflowsData$filter2","currentSideAxis","acc","arrowDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","centerOffset","mergedOptions","platformWithCache","middleware","validMiddleware","Boolean","statefulPlacement","resetCount","nextX","nextY","computePosition","h","w","core","S","ref","l","REACT_TOOLTIP_DISABLE_CORE_STYLES","REACT_TOOLTIP_DISABLE_BASE_STYLES","insertAt","getElementById","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","E","elementReference","tooltipReference","tooltipArrowReference","place","middlewares","border","arrowSize","tooltipStyles","tooltipArrowStyles","then","u","borderBottom","borderRight","A","cancel","O","T","SVGElement","getPropertyValue","L","parentElement","scrollingElement","C","current","N","anchorRefs","activeAnchor","attach","detach","setActiveAnchor","getTooltipData","B","fixed","noArrow","clickable","show","closing","D","dark","light","success","warning","info","q","forwardRef","classNameArrow","anchorId","anchorSelect","events","openOnClick","positionStrategy","wrapper","delayShow","delayHide","float","closeOnEsc","I","closeOnScroll","j","closeOnResize","openEvents","H","closeEvents","globalCloseEvents","W","imperativeModeOnly","P","style","V","F","afterShow","K","afterHide","U","disableTooltip","X","content","Y","contentWrapperRef","G","Z","defaultIsOpen","J","Q","ee","te","oe","opacity","le","arrowColor","ne","role","ie","ce","se","ae","ue","de","pe","ve","me","fe","ye","he","we","be","Se","ge","Ee","Ae","Oe","ke","Te","Le","Ce","Re","click","dblclick","mousedown","xe","mouseover","focus","mouseenter","assign","Ne","mouseout","blur","mouseleave","mouseup","$e","escape","resize","clickOutsideAnchor","Ie","ze","je","Be","De","isConnected","qe","He","Me","clientX","clientY","We","contains","querySelector","Pe","Ve","Fe","Ke","Ue","event","listener","MutationObserver","attributeName","getAttribute","oldValue","removedNodes","nodeType","flatMap","querySelectorAll","addedNodes","childList","subtree","attributes","attributeFilter","attributeOldValue","Xe","Ye","open","warn","delay","close","onTransitionEnd","propertyName","background","dangerouslySetInnerHTML","__html","render","f","children","disableStyleInjection","getAttributeNames","dispatchEvent","CustomEvent","detail","disableCore","disableBase","Gradients","pureLight","colorGradients","gradients","aColorStart","aColorEnd","createGradients","okColorStart","okColorEnd","warningColorStart","warningColorEnd","criticalColorStart","criticalColorEnd","gradientId","defs","aGradient","linearGradient","x1","y1","x2","y2","stop","stopColor","LayoutManager","setRadius","radius","setHeight","setWidth","generateHexagonPointedTopLayout","getHexFlatTopRadius","generateUniformLayout","getUniformRadius","hexRadius","d3","numColumns","SQRT3","numRows","truncateFloat","getHexFlatTopDiameters","diameterX","diameterY","getUniformDiameters","horizontalMax","maxColumnsUsed","verticalMax","maxRowsUsed","uniformRadius","generatePossibleColumnAndRowsSizes","columnAutoSize","rowAutoSize","displayLimit","dataSize","useLimit","squared","sqrt","ceil","generateActualColumnAndRowUsage","polygonsUsed","columnsUsed","shapeToCoordinates","shape","column","row","HEXAGON_POINTED_TOP","CIRCLE","SQUARE","generatePoints","points","Infinity","aPoint","generateUniformPoints","xPos","yPos","generateRadius","autoSize","getOffsets","getOffsetsHexagonPointedTop","getOffsetsSquare","getOffsetsUniform","shapeWidth","shapeHeight","offsetToViewY","oddCount","evenCount","getOddEvenCountForRange","actualHeightUsed","yoffset","offsetToViewX","widthOffset","actualWidthUsed","xoffset","getDiameters","getErrorMessageStyles","typography","h1","fontSize","shade","getNoTriggerTextStyles","getWrapperStyles","getSVGStyles","getSVGPathStyles","Tooltip","renderTime","showTime","valueEnabled","tooltipColumnHeadersEnabled","primarySortByField","primarySortDirection","secondarySortByField","secondarySortDirection","displayMode","tooltipDisplayTextTriggeredEmpty","tooltipFontFamily","getTooltipStyles","timestamp","Date","getCompositeMetrics","dataToSort","triggerCount","triggered","thresholdLevel","members","getTriggeredCount","compositeWithTriggeredItemsOnly","filterTriggered","sortedMembers","sortSettings","getSortDirection","pUseLowercase","lowerCase","pDirection","sDirection","sUseLowercase","pSortFunction","sSortFunction","lodashOrderBy","multiSort","tr","td","tooltipName","displayName","tooltipValue","valueFormatted","table","fontFamily","tooltipTable","thead","isComposite","th","tooltipCompositeHeading","colSpan","getCompositeHeader","tooltipNameHeading","tooltipValueHeading","tfoot","tooltipTime","dateTimeFormatWithAbbrevation","tbody","borderRadius","primary","shadows","z2","text","GetDecimalsForValue","panelDecimals","lodashIsNumber","delta","dec","log","LN10","magn","pow","norm","getTextWidth","font","getContext","measureText","SortVariableValuesByField","sortField","sortOrder","reverseSort","lodashSortBy","getTextOrValue","itemContent","lodashToLower","collator","Intl","Collator","sensitivity","reverse","roundValue","toFixed","getMaxLabel","maxLabel","nameToCheck","getMaxValueAndTimestamp","maxValue","maxTimestamp","timestampFormatted","subMetricCount","counter","checkContent","checkCompositeTimestamp","computeTextFontSize","minFont","maxFont","linesToDisplay","textAreaWidth","textAreaHeight","computedSize","minFontPx","maxFontPx","getTextSizeForWidthAndHeight","Polystat","divStyles","svgStyles","svgPathStyles","noTriggerTextStyles","errorMessageStyles","tooltipTheme","isDark","animationRefs","setAnimationRefs","React","animationTimestampRefs","setAnimationTimestampRefs","animationMetricIndexes","setAnimationMetricIndexes","animatedItems","setAnimatedItems","margin","uniquePanelId","panelId","animateComposite","useCallback","metricIndex","isValueAnimated","globalShowValueEnabled","processedData","showValue","formatCompositeValueAndTimestamp","globalDisplayTextTriggeredEmpty","innerHTML","globalShowTimestampEnabled","ts","shouldAnimate","animate","tick","JSON","stringify","newAnimationRefs","newAnimationTimestampRefs","newAnimationMetricIndexes","createRef","updateAnimation","speed","compositeConfig","animationSpeed","setInterval","clearInterval","lm","panelWidth","panelHeight","layoutNumColumns","layoutNumRows","layoutDisplayLimit","autoSizePolygons","globalShape","autoSizeColumns","autoSizeRows","globalPolygonSize","calculatedGlobalPolygonSize","useNumber","NaN","replaced","getTemplateSrv","calculatedPoints","aHexbin","dx","dy","x0","y0","hexbin","binsById","bins","px","point","py","pj","pi","py1","abs","px1","pi2","pj2","px2","py2","bin","hexagon","angle","sin","cos","centers","mesh","fragment","extent","innerArea","symbol","d3symbol","customShape","symbolCircle","symbolSquare","getCoords","activeLabelFontSize","globalLabelFontSize","activeValueFontSize","globalValueFontSize","activeCompositeValueFontSize","globalCompositeValueFontSize","activeTimestampFontSize","globalShowTimestampFontSize","showEllipses","numOfChars","ellipseCharacters","hasShowTimeStampEnabled","hasShowValueEnabled","globalAutoScaleFonts","showTimestamp","haveCompositeValueEnabled","AutoFontScalar","globalTextFontFamily","alignments","valueWithLabelTextAlignment","valueOnlyTextAlignment","labelWithValueTextAlignment","labelOnlyTextAlignment","labelTextAlignmentX","labelValueAlignmentX","valueWithTimestampAlignment","timestampAlignment","GetAlignments","timestampLineSpacing","compositeTimestampLineSpacing","globalShowTimestampPosition","BELOW_VALUE","drawShape","fillColor","globalGradientsEnabled","useRadius","path","data-tooltip-id","globalTooltipsEnabled","data-tooltip-content","data-tooltip-position-strategy","transform","stroke","globalPolygonBorderColor","strokeWidth","globalPolygonBorderSize","circle","cx","cy","marginLeft","marginTop","detectEmptyState","layoutIssueDetected","limit","detectLayoutIssue","svg","xmlns","xmlnsXlink","viewBox","useUrl","sanitizeURLEnabled","sanitizedURL","resolvedClickthroughTarget","clickThroughTarget","newTabEnabled","customClickthroughTargetEnabled","customClickthroughTarget","resolveClickThroughTarget","clickableUrl","href","verticalAlignment","textAnchor","globalTextFontAutoColorEnabled","globalTextFontAutoColor","globalTextFontColor","pointerEvents","showName","getTextToDisplay","ellipseEnabled","getLabelContent","globalShowTimestampYOffset","ABOVE_VALUE","valueContent","useFontSize","getValueContent","getTimestampForValueContent","Portal","ReactTooltip","boxShadow","contentIndex","globalTooltipsShowTimestampEnabled","globalTooltipsShowValueEnabled","globalShowTooltipColumnHeadersEnabled","tooltipPrimarySortByField","tooltipPrimarySortDirection","tooltipSecondarySortByField","tooltipSecondarySortDirection","tooltipDisplayMode","globalTooltipsFontFamily","autoSizeFonts","timestampContent","len","triggeredIndex","triggerCache","aMember","cachedMemberState","buildTriggerCache","textUtil","sanitize","frameHasTimestamp","frame","time","flattenLabels","rowNum","labelIndexes","numFields","string","labelWithValues","indexes","labelAndValue","indexValue","getValueOfField","getLabelValues","field","toArray","getWorstSeries","series1","series2","worstSeries","series1ThresholdLevel","series2ThresholdLevel","getThresholdLevelForValue","defaultColor","currentColor","thresholdCount","aThreshold","upperThreshold","lowerThreshold","ClickThroughTransformer","transformSingleMetric","url","cellName","encodeURIComponent","cellValue","cellRawValue","transformNthMetric","nthCellName","matched","nthName","nthCellValue","nthValue","nthCellRawValue","transformComposite","compositeNameRegex","transformByRegex","pattern","regex","stringToJsRegex","aMatch","matchType1","matchType2","groups","CUSTOM_SPLIT_DELIMITER","TimeFormatter","timeZone","timestampFormat","dateTime","utc","customFormatter","resolveMemberTemplates","compositeName","replaceVariables","variableRegex","member","seriesMatch","matchResult","resolvedSeriesNames","aName","newName","escapedName","escapeStringForRegex","newNameEscaped","seriesName","seriesNameEscaped","resolveMemberAliasTemplates","scopedVars","shallowClone","valueRounded","stats","mappings","ApplyComposites","composites","compositesGlobalAliasingEnabled","globalRegexPattern","filteredMetrics","keepMetrics","clonedComposites","resolvedComposites","metricComposites","resolved","isTemplated","resolveCompositeTemplates","matchedMetrics","aComposite","showComposite","currentWorstSeries","templatedMembers","metrics","aMetric","seriesItem","showMembers","sanitizeUrl","clone","itemIndex","ApplyGlobalRegexPattern","keptMetric","location","lodashIncludes","GetValueByOperator","calcs","now","getAllFormattedValueMappings","valueMappings","allFormattedValueMappings","allValueMappings","valueMapping","valueToTextMapping","isNullValueMap","valueAsNumber","valueToTextMappingAsNumber","addValueToTextMappingText","rangeToTextMapping","fromAsNumber","toAsNumber","addRangeToTextMappingText","t1","t2","mapping","MappingType","SpecialValueMatch","getValueMappingResult","vm","ValueToText","RangeToText","RegexToText","res","SpecialValue","Null","NullAndNaN","True","False","Empty","GetMappedValue","mappedValue","getMappedValue","getMappings","fieldConfigMappings","dataMappings","resolveOverrideTemplates","template","MatchOverride","resolvedOverrides","anOverride","ProcessDataFrames","compositesEnabled","fieldConfig","globalClickthrough","globalClickthroughTabEnabled","globalClickthroughSanitizedEnabled","globalClickthroughCustomTargetEnabled","globalClickthroughCustomTarget","globalOperator","globalDecimals","globalDisplayMode","globalFillColor","globalThresholds","globalUnitFormat","globalShowLabel","globalShowValue","globalShowTimestamp","globalShowTimestampFormat","sortByDirection","sortByField","themeV1","themeV2","timeToInsert","newData","newFrame","meta","hasTimestamp","copiedField","aFieldValues","rowsOfField","fc","timeField","InsertTime","series","internalData","models","DataFrameToPolystat","aModel","ApplyGlobalFormatting","realGlobalFillColor","aSeries","dataValue","defaults","realColor","formatFunc","getValueFormat","ApplyOverrides","ApplyGlobalClickThrough","FilterByGlobalDisplayMode","regexPattern","regexVal","temp","extractedTxt","globalClickthroughNewTabEnabled","processDefaultClickThrough","compositeMetrics","dataLen","valueFields","newestTimestamp","aTimestamp","timestampIndex","getTime","valueField","valueFieldName","getFieldDisplayName","standardCalcs","reduceField","reducers","operatorValue","maxDecimals","unit","formattedValueToString","model","getComponentStyles","container","CompositeMetricItem","copySelectedMetricToClipboard","metric","aValue","navigator","clipboard","writeText","execCommand","HorizontalGroup","removeMetric","minWidth","updateMetric","updateMetricAlias","CompositeItem","composite","_setComposite","setDisplayMode","getDisplayMode","setComposite","allMetrics","newMetric","UUIDv4","currentMetrics","CompositeEditor","_setAnimationSpeed","_setCompositesEnabled","allComposites","updateComposite","removeComposite","compositeIndex","setCompositesEnabled","setAnimationSpeed","toggleState","GlobalThresholdEditor","setGlobalThresholds","globalThresholdsConfig","migrateDefaults","angular","compositeGlobalAliasingEnabled","columns","defaultClickThrough","defaultClickThroughNewTab","defaultClickThroughSanitize","fontAutoColor","fontAutoScale","hasRobotoFont","globalOperatorName","convertOperators","migratedThreshold","gradientEnabled","hexagonSortByDirection","hexagonSortByField","polygonBorderColor","polygonBorderSize","polygonGlobalFillColor","radiusAutoSize","rows","tooltipEnabled","tooltipPrimarySortField","tooltipSecondarySortField","tooltipTimestampEnabled","migrateOverrides","savedOverrides","seriesOverride","migrateValueAndRangeMaps","panel","mappingType","newValueMappings","valueMaps","convertOldAngularValueMappings","newRangeMappings","rangeMaps","newMappings","migrateComposites","savedComposites","memberIndex","buildInfo","plugin","PanelPlugin","currentThemeV1","currentThemeV2","cachedProcessedData","setCachedProcessedData","LoadingState","Done","setMigrationHandler","polystat","globalFontSize","newDefaults","migratedOverrides","migratedComposites","newMaps","useFieldConfig","disableStandardOptions","FieldConfigProperty","Thresholds","Decimals","DisplayName","Max","Min","Links","NoValue","Unit","standardOptions","Mappings","setPanelOptions","builder","addBooleanSwitch","defaultValue","category","addNumberInput","placeHolder","integer","showIf","addTextInput","addSelect","addColorPicker","addUnitPicker","addCustomEditor","editor","setSuggestionsSupplier","getSuggestionsForData","dataSummary","ds","hasData","hasNumberField","getListAppender","pluginId","append"],"sourceRoot":""}