/*! For license information please see module.js.LICENSE.txt */
define(["react","@grafana/ui","@grafana/data","emotion","lodash","@grafana/runtime"],(function(e,t,n,r,a,i){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=6)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t){e.exports=i},function(e,t,n){"use strict";n.r(t);var r=n(2),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create;var c=n(5);function f(e){for(var t,n,r=((t=new Map).set("WITH",null),t.set("SELECT",null),t.set("DISTINCT",null),t.set("FROM",null),t.set("SAMPLE",null),t.set("JOIN",null),t.set("PREWHERE",null),t.set("WHERE",null),t.set("GROUP BY",null),t.set("LIMIT BY",null),t.set("HAVING",null),t.set("LIMIT",null),t.set("OFFSET",null),t.set("UNION",null),t.set("INTERSECT",null),t.set("EXCEPT",null),t.set("INTO OUTFILE",null),t.set("FORMAT",null),t),a=/\b(WITH|SELECT|DISTINCT|FROM|SAMPLE|JOIN|PREWHERE|WHERE|GROUP BY|LIMIT BY|HAVING|LIMIT|OFFSET|UNION|INTERSECT|EXCEPT|INTO OUTFILE|FORMAT)\b/gi,i=0,o=0,l="",u="";null!==(n=a.exec(e));){var s=n[0].toUpperCase(),c=e.substring(a.lastIndex,e.length).split(a)[0];if(i>0?u+=s+c:(r.set(s,c),l=s),i+=(c.match(/\(/g)||[]).length,(i-=(c.match(/\)/g)||[]).length)<=0&&o>0)if("FROM"===l)r.set(l,f(u));else{var d=r.get(l).concat(u);r.set(l,d)}o=i}return r}var d,p,h=function(){function e(){this._targetTable=""}return e.prototype.setTargetTable=function(e){var t=e.split(/\b\FROM\b/i);2===t.length&&(this._targetTable=this.getTableName(t[1]))},e.prototype.apply=function(e,t){if(""===this._targetTable||""===e||!t||0===t.length)return e;for(var n="",r=0;r<t.length;r++){var a=t[r],i=isNaN(Number(a.value))?"'"+a.value+"'":Number(a.value);n+=" "+a.key+" "+a.operator+" "+i+" ",r!==t.length-1&&(n+=a.condition?a.condition:"AND")}var o=f(e=e.replace(";",""));return function e(t){var n="";return t.forEach((function(t,r){"string"==typeof t?n+=r+" "+t.trim()+" ":null!==t&&(n+=r+" ("+e(t)+" ")})),n.trim().replace(/\s+/g," ")}(this.applyFiltersToAST(o,n))},e.prototype.applyFiltersToAST=function(e,t){if("string"==typeof e.get("FROM")){var n=e.get("FROM").toString().trim(),r=this.getTableName(n);return r!==this._targetTable?e:null===e.get("WHERE")?(e.set("FROM"," "+r+" "),e.set("WHERE",t+" "+n.substring(r.length))):e.set("WHERE",t+" AND "+e.get("WHERE"))}var a=this.applyFiltersToAST(e.get("FROM"),t);return e.set("FROM",a)},e.prototype.getTableName=function(e){return e.trim().split(" ")[0].replace(/(;|\(|\))/g,"")},e}(),g=n(4),m=function(e){function t(t){var n=e.call(this,t)||this;return n.annotations={},n.skipAdHocFilter=!1,n.settings=t,n.templateSrv=Object(c.getTemplateSrv)(),n.adHocFilter=new h,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.metricFindQuery=function(e){var t,n,a,i,u;return o(this,void 0,void 0,(function(){var o,s,c;return l(this,(function(l){switch(l.label){case 0:return(o=Object(g.isString)(e)?{rawSql:e}:e).rawSql?[4,this.runQuery(o)]:[2,[]];case 1:return s=l.sent(),0===(null===(t=s.fields)||void 0===t?void 0:t.length)?[2,[]]:1===(null===(n=null==s?void 0:s.fields)||void 0===n?void 0:n.length)?[2,Object(r.vectorator)(null===(a=null==s?void 0:s.fields[0])||void 0===a?void 0:a.values).map((function(e){return{text:e,value:e}}))]:(c=null===(i=null==s?void 0:s.fields[0])||void 0===i?void 0:i.values,[2,Object(r.vectorator)(null===(u=null==s?void 0:s.fields[1])||void 0===u?void 0:u.values).map((function(e,t){return{text:e,value:c.get(t)}}))])}}))}))},t.prototype.applyTemplateVariables=function(e,t){var n,r=e.rawSql||"";return this.skipAdHocFilter||(r=this.adHocFilter.apply(r,null===(n=this.templateSrv)||void 0===n?void 0:n.getAdhocFilters(this.name))),this.skipAdHocFilter=!1,i(i({},e),{rawSql:this.replace(r,t)||""})},t.prototype.replace=function(e,t){return void 0!==e?Object(c.getTemplateSrv)().replace(e,t,this.format):e},t.prototype.format=function(e){return Array.isArray(e)?"'"+e.join("','")+"'":e},t.prototype.getDefaultDatabase=function(){return this.settings.jsonData.defaultDatabase},t.prototype.fetchDatabases=function(){return o(this,void 0,Promise,(function(){return l(this,(function(e){return[2,this.fetchData("SHOW DATABASES")]}))}))},t.prototype.fetchTables=function(e){return o(this,void 0,Promise,(function(){var t;return l(this,(function(n){return t=e?"SHOW TABLES FROM "+e:"SHOW TABLES",[2,this.fetchData(t)]}))}))},t.prototype.fetchFields=function(e){return o(this,void 0,Promise,(function(){return l(this,(function(t){return[2,this.fetchData("DESC TABLE "+e)]}))}))},t.prototype.fetchData=function(e){return o(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,this.runQuery({rawSql:e})];case 1:return t=n.sent(),[2,this.values(t)]}}))}))},t.prototype.runQuery=function(e){var t=this;return new Promise((function(n){var r={targets:[i(i({},e),{refId:String(Math.random())})]};t.query(r).subscribe((function(e){n(e.data[0]||{fields:[]})}))}))},t.prototype.values=function(e){var t,n;return 0===(null===(t=e.fields)||void 0===t?void 0:t.length)?[]:Object(r.vectorator)(null===(n=null==e?void 0:e.fields[0])||void 0===n?void 0:n.values).map((function(e){return e}))},t.prototype.getTagKeys=function(){return o(this,void 0,Promise,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.fetchTags()];case 1:return[2,e.sent().fields.map((function(e){return{text:e.name}}))]}}))}))},t.prototype.getTagValues=function(e){var t=e.key;return o(this,void 0,Promise,(function(){var e,n;return l(this,(function(a){switch(a.label){case 0:return[4,this.fetchTags()];case 1:return e=a.sent(),(n=e.fields.find((function(e){return e.name===t})))?[2,Object(r.vectorator)(n.values).filter((function(e){return null!==e})).map((function(e){return{text:String(e)}}))]:[2,[]]}}))}))},t.prototype.fetchTags=function(){return o(this,void 0,Promise,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return"$clickhouse_adhoc_query"!==(e=this.templateSrv.replace("$clickhouse_adhoc_query"))?[3,1]:[2,new r.ArrayDataFrame([])];case 1:return this.skipAdHocFilter=!0,this.adHocFilter.setTargetTable(e),[4,this.runQuery({rawSql:e})];case 2:return[2,t.sent()]}}))}))},t}(c.DataSourceWithBackend),b=n(0),v=n.n(b),E=n(1),C=function(e){var t=e.hasCert,n=e.label,r=e.onChange,a=e.onClick,i=e.placeholder;return v.a.createElement("div",{className:"gf-form"},v.a.createElement(E.InlineFormLabel,{width:12},n),t?v.a.createElement(v.a.Fragment,null,v.a.createElement(E.Input,{css:{},type:"text",disabled:!0,value:"configured",width:24}),v.a.createElement(E.Button,{variant:"secondary",onClick:a,style:{marginLeft:4}},"Reset")):v.a.createElement(E.TextArea,{css:{},rows:7,onChange:r,placeholder:i,required:!0}))},y={ConfigEditor:{ServerAddress:{label:"Server address",placeholder:"Server address",tooltip:"ClickHouse server address"},ServerPort:{label:"Server port",placeholder:function(e){return"Typically "+("true"===e?"9440":"9000")},tooltip:"ClickHouse native TCP port. Typically 9000 for unsecure, 9440 for secure"},Username:{label:"Username",placeholder:"Username",tooltip:"ClickHouse username"},Password:{label:"Password",placeholder:"Password",tooltip:"ClickHouse password"},TLSSkipVerify:{label:"Skip TLS Verify",tooltip:"Skip TLS Verify"},TLSClientAuth:{label:"TLS Client Auth",tooltip:"TLS Client Auth"},TLSAuthWithCACert:{label:"With CA Cert",tooltip:"Needed for verifying self-signed TLS Certs"},TLSCACert:{label:"CA Cert",placeholder:"CA Cert. Begins with -----BEGIN CERTIFICATE-----"},TLSClientCert:{label:"Client Cert",placeholder:"Client Cert. Begins with -----BEGIN CERTIFICATE-----"},TLSClientKey:{label:"Client Key",placeholder:"Client Key. Begins with -----BEGIN RSA PRIVATE KEY-----"},DefaultDatabase:{label:"Default database",placeholder:"Default database",tooltip:"Default database to be used. Can be empty."},Secure:{label:"Secure Connection",tooltip:"Toggle on if the connection is secure"}},QueryEditor:{CodeEditor:{input:function(){return".monaco-editor textarea"},container:"data-testid-code-editor-container",Run:"data-testid-code-editor-run-button"}}},T=y,S={};!function(e){e[e.TABLE=1]="TABLE",e[e.TIMESERIES=2]="TIMESERIES"}(d||(d={})),function(e){e[e.FIELD=3]="FIELD",e[e.DATABASE=8]="DATABASE",e[e.TABLE=5]="TABLE",e[e.VARIABLE=4]="VARIABLE"}(p||(p={}));var A,w,O,L,D,x,F,I,N,j,R=n(3),P={Common:{check:Object(R.css)(A||(A=s(["\n      margin-top: 5px;\n    "],["\n      margin-top: 5px;\n    "]))),wrapper:Object(R.css)(w||(w=s(["\n      position: relative;\n      width: 100%;\n    "],["\n      position: relative;\n      width: 100%;\n    "]))),smallBtn:Object(R.css)(O||(O=s(["\n      margin-top: 5px;\n      margin-inline: 5px;\n    "],["\n      margin-top: 5px;\n      margin-inline: 5px;\n    "]))),selectWrapper:Object(R.css)(L||(L=s(["\n      width: 100%;\n    "],["\n      width: 100%;\n    "]))),inlineSelect:Object(R.css)(D||(D=s(["\n      margin-right: 5px;\n    "],["\n      margin-right: 5px;\n    "]))),firstLabel:Object(R.css)(x||(x=s(["\n      margin-right: 5px;\n    "],["\n      margin-right: 5px;\n    "]))),run:Object(R.css)(F||(F=s(["\n      position: absolute;\n      top: -1px;\n      left: 6px;\n      z-index: 100;\n      color: green;\n    "],["\n      position: absolute;\n      top: -1px;\n      left: 6px;\n      z-index: 100;\n      color: green;\n    "])))},ConfigEditor:{container:Object(R.css)(I||(I=s(["\n      justify-content: space-between;\n      h5 {\n        line-height: 34px;\n        margin-bottom: 5px;\n      }\n      button {\n        margin-right: 5px;\n      }\n    "],["\n      justify-content: space-between;\n      h5 {\n        line-height: 34px;\n        margin-bottom: 5px;\n      }\n      button {\n        margin-right: 5px;\n      }\n    "]))),wide:Object(R.css)(N||(N=s(["\n      width: 75%;\n    "],["\n      width: 75%;\n    "]))),subHeader:Object(R.css)(j||(j=s(["\n      padding: 5px 0 5px 0;\n    "],["\n      padding: 5px 0 5px 0;\n    "])))},QueryEditor:{},VariablesEditor:{}};function W(e,t,n){return o(this,void 0,Promise,(function(){var r,a,i,o,s,c,f,d,h,g,m,b,v,E,C;return l(this,(function(l){if(e.endsWith("$"))return[2,H(n)];r=["select","from","where"],a=e.replace(/[\n\r]/g," ");try{for(i=u(r),o=i.next();!o.done;o=i.next())s=o.value,a=a.replace(s,s.toUpperCase())}catch(e){E={error:e}}finally{try{o&&!o.done&&(C=i.return)&&C.call(i)}finally{if(E)throw E.error}}return a.endsWith("SELECT ")||a.endsWith("FROM ")||a.endsWith(", ")?void 0!==t.defaultDatabase?[2,B(t,n)]:[2,k(t,n)]:a.endsWith("WHERE ")?(d=a.split("FROM "),c=d[d.length-1],g=c.split(" WHERE"),f=g[0],[2,f.split(",").map((function(e){return e.trim()})).map((function(e){return{label:e,kind:p.TABLE,documentation:"Table",insertText:e,range:n}}))]):e.endsWith(".")?(d=e.split(" "),h=d[d.length-1],g=h.split("."),void 0!==t.defaultDatabase?(m=g[0],[2,M(t,n,m)]):2===g.length?(b=g[0],[2,B(t,n,b)]):(v=g[1],[2,M(t,n,v)])):[2,[]]}))}))}function k(e,t){return o(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,e.databases()];case 1:return[2,n.sent().map((function(e){return{label:e,kind:p.DATABASE,documentation:"Database",insertText:e,range:t}}))]}}))}))}function B(e,t,n){return o(this,void 0,void 0,(function(){return l(this,(function(r){switch(r.label){case 0:return[4,e.tables(n)];case 1:return[2,r.sent().map((function(e){return{label:e,kind:p.TABLE,documentation:"Table",insertText:e,range:t}}))]}}))}))}function M(e,t,n){return o(this,void 0,void 0,(function(){return l(this,(function(r){switch(r.label){case 0:return[4,e.fields(n)];case 1:return[2,r.sent().map((function(e){return{label:e,kind:p.FIELD,documentation:"Field",insertText:e,range:t}}))]}}))}))}function H(e){var t=Object(c.getTemplateSrv)();return t?t.getVariables().map((function(n){var r="${"+n.name+"}",a=t.replace(r);return{label:r,detail:"(Template Variable) "+a,kind:p.VARIABLE,documentation:"(Template Variable) "+a,insertText:"{"+n.name+"}",range:e}})):[]}var _=function(e){var t=e.query,n=e.onRunQuery,r=e.onChange,a=e.datasource,u=function(e){var a=function(e){var t=f(e).get("SELECT");if(Object(g.isString)(t)){var n=t.split(",");if(n.length>1)return n[0].toLowerCase().endsWith("as time")?d.TIMESERIES:d.TABLE}return d.TABLE}(e);r(i(i({},t),{rawSql:e,format:a})),n()},s={databases:function(){return a.fetchDatabases()},tables:function(e){return a.fetchTables(e)},fields:function(e){return a.fetchFields(e)},defaultDatabase:a.getDefaultDatabase()},c=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return[4,W(e,s,t)];case 1:return n=r.sent(),[2,Promise.resolve({suggestions:n})]}}))}))};return v.a.createElement("div",{className:P.Common.wrapper},v.a.createElement("a",{onClick:function(){return u(t.rawSql||"")},className:P.Common.run,"data-testid":T.QueryEditor.CodeEditor.Run},v.a.createElement("i",{className:"fa fa-play"})),v.a.createElement(E.CodeEditor,{"aria-label":"SQL",height:"150px",language:"sql",value:t.rawSql||"",onSave:u,showMiniMap:!1,showLineNumbers:!0,onBlur:function(e){return r(i(i({},t),{rawSql:e}))},onEditorDidMount:function(e){return function(e,t,n){return o(this,void 0,void 0,(function(){var r=this;return l(this,(function(a){return t.updateOptions({fixedOverflowWidgets:!0}),void 0!==monaco.languages.getLanguages().find((function(t){return t.id===e}))||(monaco.languages.register({id:e}),monaco.languages.registerCompletionItemProvider("sql",{triggerCharacters:[" ","$",".",","],provideCompletionItems:function(e,t){return o(r,void 0,void 0,(function(){var r,a,i;return l(this,(function(o){return r=e.getWordUntilPosition(t),a=e.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column}),i={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:r.startColumn,endColumn:r.endColumn},[2,n(a,i)]}))}))}})),[2]}))}))}("chSql",e,c)}}))};n.d(t,"plugin",(function(){return q}));var q=new r.DataSourcePlugin(m).setConfigEditor((function(e){var t,n=Object(E.useTheme)(),a=E.LegacyForms.FormField,o=E.LegacyForms.SecretFormField,l=e.options,u=e.onOptionsChange,s=l.jsonData,c=l.secureJsonFields,f=l.secureJsonData||{},d=c&&c.tlsCACert,p=c&&c.tlsClientCert,h=c&&c.tlsClientKey,g={padding:"0 "+n.spacing.sm,height:n.spacing.formInputHeight+"px",display:"flex",alignItems:"center"},m=function(e,t){var n;u(i(i({},l),{jsonData:i(i({},l.jsonData),(n={},n[e]=t,n))}))},b=function(e,t){var n;u(i(i({},l),{secureJsonData:i(i({},f),(n={},n[e]=t,n))}))},T=function(e){var t,n;u(i(i({},l),{secureJsonFields:i(i({},c),(t={},t[e]=!1,t)),secureJsonData:i(i({},f),(n={},n[e]="",n))}))};return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"gf-form-group"},v.a.createElement("h3",null,"Server"),v.a.createElement("br",null),v.a.createElement("div",{className:"gf-form"},v.a.createElement(E.InlineFormLabel,{width:12,tooltip:y.ConfigEditor.Secure.tooltip},y.ConfigEditor.Secure.label),v.a.createElement("div",{style:g},v.a.createElement(E.Switch,{css:{},className:"gf-form",value:s.secure||!1,onChange:function(e){return function(e,t){var n;u(i(i({},l),{jsonData:i(i({},l.jsonData),(n={},n[e]=t,n))}))}("secure",e.currentTarget.checked)}}))),v.a.createElement("div",{className:"gf-form"},v.a.createElement(a,{labelWidth:12,inputWidth:20,value:s.server||"",onChange:Object(r.onUpdateDatasourceJsonDataOption)(e,"server"),label:y.ConfigEditor.ServerAddress.label,"aria-label":y.ConfigEditor.ServerAddress.label,placeholder:y.ConfigEditor.ServerAddress.placeholder,tooltip:y.ConfigEditor.ServerAddress.tooltip})),v.a.createElement("div",{className:"gf-form"},v.a.createElement(a,{labelWidth:12,inputWidth:20,type:"number",value:s.port||"",onChange:function(e){return t=e.currentTarget.value,void u(i(i({},l),{jsonData:i(i({},l.jsonData),{port:+t})}));var t},label:y.ConfigEditor.ServerPort.label,"aria-label":y.ConfigEditor.ServerPort.label,placeholder:y.ConfigEditor.ServerPort.placeholder((null===(t=s.secure)||void 0===t?void 0:t.toString())||"false"),tooltip:y.ConfigEditor.ServerPort.tooltip}))),v.a.createElement("div",{className:"gf-form-group"},v.a.createElement("h3",null,"Credentials"),v.a.createElement("br",null),v.a.createElement("div",{className:"gf-form"},v.a.createElement(a,{labelWidth:12,inputWidth:20,value:s.username||"",onChange:Object(r.onUpdateDatasourceJsonDataOption)(e,"username"),label:y.ConfigEditor.Username.label,"aria-label":y.ConfigEditor.Username.label,placeholder:y.ConfigEditor.Username.placeholder,tooltip:y.ConfigEditor.Username.tooltip})),v.a.createElement("div",{className:"gf-form"},v.a.createElement(o,{labelWidth:12,inputWidth:20,required:!0,value:f.password||"",isConfigured:c&&c.password,onReset:function(){u(i(i({},l),{secureJsonFields:i(i({},l.secureJsonFields),{password:!1}),secureJsonData:i(i({},l.secureJsonData),{password:""})}))},onChange:Object(r.onUpdateDatasourceSecureJsonDataOption)(e,"password"),label:y.ConfigEditor.Password.label,"aria-label":y.ConfigEditor.Password.label,placeholder:y.ConfigEditor.Password.placeholder,tooltip:y.ConfigEditor.Password.tooltip}))),v.a.createElement("div",{className:"gf-form-group"},v.a.createElement("h3",null,"TLS / SSL Settings"),v.a.createElement("br",null),v.a.createElement("div",{className:"gf-form"},v.a.createElement(E.InlineFormLabel,{width:12,tooltip:y.ConfigEditor.TLSSkipVerify.tooltip},y.ConfigEditor.TLSSkipVerify.label),v.a.createElement("div",{style:g},v.a.createElement(E.Switch,{css:{},className:"gf-form",value:s.tlsSkipVerify||!1,onChange:function(e){return m("tlsSkipVerify",e.currentTarget.checked)}}))),v.a.createElement("div",{className:"gf-form"},v.a.createElement(E.InlineFormLabel,{width:12,tooltip:y.ConfigEditor.TLSClientAuth.tooltip},y.ConfigEditor.TLSClientAuth.label),v.a.createElement("div",{style:g},v.a.createElement(E.Switch,{css:{},className:"gf-form",value:s.tlsAuth||!1,onChange:function(e){return m("tlsAuth",e.currentTarget.checked)}})),v.a.createElement(E.InlineFormLabel,{width:12,tooltip:y.ConfigEditor.TLSAuthWithCACert.tooltip},y.ConfigEditor.TLSAuthWithCACert.label),v.a.createElement("div",{style:g},v.a.createElement(E.Switch,{css:{},className:"gf-form",value:s.tlsAuthWithCACert||!1,onChange:function(e){return m("tlsAuthWithCACert",e.currentTarget.checked)}}))),s.tlsAuthWithCACert&&v.a.createElement(C,{hasCert:!!d,onChange:function(e){return b("tlsCACert",e.currentTarget.value)},placeholder:y.ConfigEditor.TLSCACert.placeholder,label:y.ConfigEditor.TLSCACert.label,onClick:function(){return T("tlsCACert")}}),s.tlsAuth&&v.a.createElement(v.a.Fragment,null,v.a.createElement(C,{hasCert:!!p,onChange:function(e){return b("tlsClientCert",e.currentTarget.value)},placeholder:y.ConfigEditor.TLSClientCert.placeholder,label:y.ConfigEditor.TLSClientCert.label,onClick:function(){return T("tlsClientCert")}}),v.a.createElement(C,{hasCert:!!h,placeholder:y.ConfigEditor.TLSClientKey.placeholder,label:y.ConfigEditor.TLSClientKey.label,onChange:function(e){return b("tlsClientKey",e.currentTarget.value)},onClick:function(){return T("tlsClientKey")}}))),v.a.createElement("div",{className:"gf-form-group"},v.a.createElement("h3",null,"Additional Properties"),v.a.createElement("br",null),v.a.createElement("div",{className:"gf-form"},v.a.createElement(a,{labelWidth:12,inputWidth:20,value:s.defaultDatabase||"",onChange:Object(r.onUpdateDatasourceJsonDataOption)(e,"defaultDatabase"),label:y.ConfigEditor.DefaultDatabase.label,"aria-label":y.ConfigEditor.DefaultDatabase.label,placeholder:y.ConfigEditor.DefaultDatabase.placeholder,tooltip:y.ConfigEditor.DefaultDatabase.tooltip}))))})).setQueryEditor((function(e){var t=e.query,n=e.onRunQuery,r=e.onChange,a=e.datasource,i=Object(g.defaults)(t,S);return v.a.createElement("div",{className:"gf-form"},v.a.createElement(_,{datasource:a,onChange:r,onRunQuery:n,query:i}))}))}])}));
//# sourceMappingURL=module.js.map