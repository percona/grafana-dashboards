define(["@grafana/data","@grafana/runtime","lodash","rxjs","@grafana/ui","react","@emotion/css"],((e,s,t,r,a,n,o)=>(()=>{var l={7799:function(e,s){var t,r=function(){var e=function(e,s,t,r){for(t=t||{},r=e.length;r--;t[e[r]]=s);return t},s=[1,8],t=[1,4],r=[2,4],a=[1,11],n=[1,10],o=[2,16],l=[1,14],i=[1,15],c=[1,16],p=[6,8],m=[2,145],u=[1,19],b=[1,20],_=[16,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],y=[16,18,32,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],$=[2,159],d=[1,29],f=[6,8,14,17,145,149,151,153],h=[1,42],x=[1,59],w=[1,51],k=[1,58],v=[1,60],g=[1,61],A=[1,62],E=[1,63],O=[1,64],T=[1,57],S=[1,52],C=[1,53],N=[1,54],L=[1,55],I=[1,56],R=[1,43],q=[1,44],j=[1,45],P=[1,34],F=[16,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],D=[6,8,14,17,149,151,153],B=[2,142],U=[1,73],M=[1,74],H=[6,8,14,17,43,132,137,143,145,149,151,153],G=[1,79],z=[1,76],W=[1,77],K=[1,78],Q=[1,80],V=[6,8,14,17,36,43,49,50,51,70,71,73,76,88,106,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],Y=[6,8,14,17,34,36,43,49,50,51,70,71,73,76,88,106,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],J=[1,101],X=[1,99],Z=[1,100],ee=[1,95],se=[1,96],te=[1,97],re=[1,98],ae=[1,102],ne=[1,103],oe=[1,104],le=[1,105],ie=[1,106],ce=[1,107],pe=[2,102],me=[6,8,14,17,34,36,43,45,49,50,51,70,71,73,76,78,80,88,90,91,92,93,94,95,96,97,98,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],ue=[6,8,14,17,34,36,43,45,49,50,51,70,71,73,76,78,80,88,90,91,92,93,94,95,96,97,98,100,102,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],be=[1,108],_e=[1,115],ye=[2,63],$e=[1,116],de=[16,35,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],fe=[16,29,35,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,118],he=[1,162],xe=[17,43],we=[2,58],ke=[1,171],ve=[1,169],ge=[1,170],Ae=[6,8,137,145],Ee=[16,35,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],Oe=[6,8,14,17,137,143,145,149,151,153],Te=[6,8,14,17,36,43,49,50,51,70,71,73,76,88,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],Se=[6,8,14,17,34,36,43,49,50,51,70,71,73,76,88,90,91,92,93,98,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],Ce=[6,8,14,17,34,36,43,49,50,51,70,71,73,76,78,80,88,90,91,92,93,98,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],Ne=[16,35,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],Le=[16,35,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],Ie=[16,35,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],Re=[70,73,76],qe=[16,35,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],je=[1,231],Pe=[1,232],Fe=[6,8,14,17],De=[6,8,14,17,43,156],Be=[1,249],Ue=[1,245],Me=[2,196],He=[1,253],Ge=[1,254],ze=[6,8,14,17,43,128,134,137,143,145,149,151,153,181],We=[1,256],Ke=[1,259],Qe=[1,260],Ve=[1,261],Ye=[1,262],Je=[2,173],Xe=[1,258],Ze=[6,8,14,17,36,43,88,128,134,137,143,145,149,151,153,163,164,166,167,172,176,178,179,181],es=[6,8,14,17,134,137,143,145,149,151,153],ss=[1,274],ts=[2,178],rs=[169,172],as=[6,8,14,17,36,43,88,128,134,137,143,145,149,151,153,163,164,166,167,172,176,178,179,181,191,192,193],ns=[2,198],os=[1,279],ls=[1,291],is=[1,299],cs=[1,300],ps=[1,301],ms=[6,8,14,17,137,145,149,151,153],us=[1,311],bs=[1,317],_s=[1,318],ys=[2,203],$s=[1,329],ds=[16,151],fs=[6,8,14,17,151,153],hs=[1,345],xs={trace:function(){},yy:{},symbols_:{error:2,main:3,selectClause:4,semicolonOpt:5,EOF:6,unionClause:7,";":8,unionClauseNotParenthesized:9,unionClauseParenthesized:10,order_by_opt:11,limit_opt:12,selectClauseParenthesized:13,UNION:14,distinctOpt:15,"(":16,")":17,SELECT:18,highPriorityOpt:19,maxStateMentTimeOpt:20,straightJoinOpt:21,sqlSmallResultOpt:22,sqlBigResultOpt:23,sqlBufferResultOpt:24,sqlCacheOpt:25,sqlCalcFoundRowsOpt:26,selectExprList:27,selectDataSetOpt:28,ALL:29,DISTINCT:30,DISTINCTROW:31,HIGH_PRIORITY:32,MAX_STATEMENT_TIME:33,"=":34,NUMERIC:35,STRAIGHT_JOIN:36,SQL_SMALL_RESULT:37,SQL_BIG_RESULT:38,SQL_BUFFER_RESULT:39,SQL_CACHE:40,SQL_NO_CACHE:41,SQL_CALC_FOUND_ROWS:42,",":43,selectExpr:44,"*":45,SELECT_EXPR_STAR:46,expr:47,selectExprAliasOpt:48,AS:49,IDENTIFIER:50,STRING:51,string:52,number:53,EXPONENT_NUMERIC:54,HEX_NUMERIC:55,boolean:56,TRUE:57,FALSE:58,null:59,NULL:60,literal:61,function_call:62,function_call_param_list:63,function_call_param:64,identifier:65,DOT:66,identifier_list:67,case_expr_opt:68,when_then_list:69,WHEN:70,THEN:71,case_when_else:72,ELSE:73,case_when:74,CASE:75,END:76,simple_expr_prefix:77,"+":78,simple_expr:79,"-":80,"~":81,"!":82,BINARY:83,expr_list:84,ROW:85,EXISTS:86,"{":87,"}":88,bit_expr:89,"|":90,"&":91,"<<":92,">>":93,"/":94,DIV:95,MOD:96,"%":97,"^":98,not_opt:99,NOT:100,escape_opt:101,ESCAPE:102,predicate:103,IN:104,BETWEEN:105,AND:106,SOUNDS:107,LIKE:108,REGEXP:109,comparison_operator:110,">=":111,">":112,"<=":113,"<":114,"<>":115,"!=":116,sub_query_data_set_opt:117,ANY:118,boolean_primary:119,IS:120,boolean_extra:121,UNKNOWN:122,"&&":123,"||":124,OR:125,XOR:126,where_opt:127,WHERE:128,group_by_opt:129,group_by:130,roll_up_opt:131,WITH:132,ROLLUP:133,GROUP_BY:134,group_by_order_by_item_list:135,order_by:136,ORDER_BY:137,group_by_order_by_item:138,sort_opt:139,ASC:140,DESC:141,having_opt:142,HAVING:143,limit:144,LIMIT:145,OFFSET:146,procedure_opt:147,procedure:148,PROCEDURE:149,for_update_lock_in_share_mode_opt:150,FOR:151,UPDATE:152,LOCK:153,SHARE:154,MODE:155,FROM:156,table_references:157,partitionOpt:158,escaped_table_reference:159,table_reference:160,OJ:161,join_inner_cross:162,INNER:163,CROSS:164,left_right:165,LEFT:166,RIGHT:167,out_opt:168,OUTER:169,left_right_out_opt:170,join_table:171,JOIN:172,table_factor:173,join_condition:174,on_join_condition:175,NATURAL:176,join_condition_opt:177,ON:178,USING:179,partition_names:180,PARTITION:181,aliasOpt:182,index_or_key:183,INDEX:184,KEY:185,for_opt:186,identifier_list_opt:187,index_hint_list_opt:188,index_hint_list:189,index_hint:190,USE:191,IGNORE:192,FORCE:193,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:";",14:"UNION",16:"(",17:")",18:"SELECT",29:"ALL",30:"DISTINCT",31:"DISTINCTROW",32:"HIGH_PRIORITY",33:"MAX_STATEMENT_TIME",34:"=",35:"NUMERIC",36:"STRAIGHT_JOIN",37:"SQL_SMALL_RESULT",38:"SQL_BIG_RESULT",39:"SQL_BUFFER_RESULT",40:"SQL_CACHE",41:"SQL_NO_CACHE",42:"SQL_CALC_FOUND_ROWS",43:",",45:"*",46:"SELECT_EXPR_STAR",49:"AS",50:"IDENTIFIER",51:"STRING",54:"EXPONENT_NUMERIC",55:"HEX_NUMERIC",57:"TRUE",58:"FALSE",60:"NULL",66:"DOT",70:"WHEN",71:"THEN",73:"ELSE",75:"CASE",76:"END",78:"+",80:"-",81:"~",82:"!",83:"BINARY",85:"ROW",86:"EXISTS",87:"{",88:"}",90:"|",91:"&",92:"<<",93:">>",94:"/",95:"DIV",96:"MOD",97:"%",98:"^",100:"NOT",102:"ESCAPE",104:"IN",105:"BETWEEN",106:"AND",107:"SOUNDS",108:"LIKE",109:"REGEXP",111:">=",112:">",113:"<=",114:"<",115:"<>",116:"!=",118:"ANY",120:"IS",122:"UNKNOWN",123:"&&",124:"||",125:"OR",126:"XOR",128:"WHERE",132:"WITH",133:"ROLLUP",134:"GROUP_BY",137:"ORDER_BY",140:"ASC",141:"DESC",143:"HAVING",145:"LIMIT",146:"OFFSET",149:"PROCEDURE",151:"FOR",152:"UPDATE",153:"LOCK",154:"SHARE",155:"MODE",156:"FROM",161:"OJ",163:"INNER",164:"CROSS",166:"LEFT",167:"RIGHT",169:"OUTER",172:"JOIN",176:"NATURAL",178:"ON",179:"USING",181:"PARTITION",184:"INDEX",185:"KEY",191:"USE",192:"IGNORE",193:"FORCE"},productions_:[0,[3,3],[3,3],[5,1],[5,0],[7,1],[7,3],[10,4],[10,4],[13,3],[9,4],[9,4],[4,12],[15,1],[15,1],[15,1],[15,0],[19,1],[19,0],[20,3],[20,0],[21,1],[21,0],[22,1],[22,0],[23,1],[23,0],[24,1],[24,0],[25,0],[25,1],[25,1],[26,1],[26,0],[27,3],[27,1],[44,1],[44,1],[44,2],[48,0],[48,2],[48,1],[48,2],[48,1],[52,1],[53,1],[53,1],[53,1],[56,1],[56,1],[59,1],[61,1],[61,1],[61,1],[61,1],[62,4],[63,3],[63,1],[64,0],[64,1],[64,1],[64,2],[64,1],[65,1],[65,3],[67,1],[67,3],[68,0],[68,1],[69,4],[69,5],[72,0],[72,2],[74,5],[77,2],[77,2],[77,2],[77,2],[77,2],[79,1],[79,1],[79,1],[79,1],[79,3],[79,4],[79,3],[79,4],[79,4],[79,1],[89,1],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[89,3],[99,0],[99,1],[101,0],[101,2],[103,1],[103,6],[103,6],[103,6],[103,4],[103,5],[103,4],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[117,1],[117,1],[119,1],[119,4],[119,3],[119,6],[121,1],[121,1],[47,1],[47,4],[47,2],[47,3],[47,3],[47,3],[47,3],[47,3],[84,1],[84,3],[127,0],[127,2],[129,0],[129,1],[131,0],[131,2],[130,3],[11,0],[11,1],[136,3],[135,1],[135,3],[138,2],[139,0],[139,1],[139,1],[142,0],[142,2],[144,2],[144,4],[144,4],[12,0],[12,1],[147,0],[147,1],[148,2],[150,0],[150,2],[150,4],[28,0],[28,10],[157,1],[157,3],[159,1],[159,4],[162,0],[162,1],[162,1],[165,1],[165,1],[168,0],[168,1],[170,0],[170,2],[171,4],[171,5],[171,4],[171,6],[171,5],[177,0],[177,1],[175,2],[174,1],[174,4],[160,1],[160,1],[180,1],[180,3],[158,0],[158,4],[182,0],[182,2],[182,1],[183,1],[183,1],[186,0],[186,2],[186,2],[186,2],[187,0],[187,1],[188,0],[188,1],[189,1],[189,3],[190,6],[190,6],[190,6],[173,4],[173,4],[173,3]],performAction:function(e,s,t,r,a,n,o){var l=n.length-1;switch(a){case 1:case 2:return{nodeType:"Main",value:n[l-2],hasSemicolon:n[l-1]};case 3:case 143:this.$=!0;break;case 4:this.$=!1;break;case 5:case 13:case 14:case 15:case 17:case 19:case 21:case 23:case 25:case 27:case 30:case 31:case 32:case 51:case 52:case 53:case 54:case 59:case 60:case 62:case 68:case 72:case 79:case 80:case 81:case 82:case 88:case 89:case 103:case 105:case 106:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 126:case 128:case 139:case 141:case 146:case 152:case 153:case 155:case 160:case 162:case 163:case 174:case 175:case 176:case 177:case 179:case 188:case 190:case 192:case 193:case 201:case 202:case 208:case 210:this.$=n[l];break;case 6:this.$=n[l-2],this.$.orderBy=n[l-1],this.$.limit=n[l];break;case 7:case 8:case 10:case 11:this.$={type:"Union",left:n[l-3],distinctOpt:n[l-1],right:n[l]};break;case 9:this.$={type:"SelectParenthesized",value:n[l-1]};break;case 12:this.$={type:"Select",distinctOpt:n[l-10],highPriorityOpt:n[l-9],maxStateMentTimeOpt:n[l-8],straightJoinOpt:n[l-7],sqlSmallResultOpt:n[l-6],sqlBigResultOpt:n[l-5],sqlBufferResultOpt:n[l-4],sqlCacheOpt:n[l-3],sqlCalcFoundRowsOpt:n[l-2],selectItems:n[l-1],from:n[l].from,partition:n[l].partition,where:n[l].where,groupBy:n[l].groupBy,having:n[l].having,orderBy:n[l].orderBy,limit:n[l].limit,procedure:n[l].procedure,updateLockMode:n[l].updateLockMode};break;case 16:case 18:case 20:case 22:case 24:case 26:case 28:case 29:case 33:case 58:case 67:case 71:case 102:case 104:case 138:case 140:case 142:case 145:case 151:case 154:case 159:case 161:case 164:case 173:case 178:case 187:case 196:case 203:case 207:case 209:this.$=null;break;case 34:n[l-2].value.push(n[l]);break;case 35:this.$={type:"SelectExpr",value:[n[l]]};break;case 36:case 37:case 63:this.$={type:"Identifier",value:n[l]};break;case 38:this.$=n[l-1],this.$.alias=n[l].alias,this.$.hasAs=n[l].hasAs;break;case 39:case 198:this.$={alias:null,hasAs:null};break;case 40:case 42:this.$={alias:n[l],hasAs:!0};break;case 41:this.$={alias:n[l],hasAs:!1};break;case 43:this.$={alias:n[$01],hasAs:!1};break;case 44:this.$={type:"String",value:n[l]};break;case 45:case 46:case 47:this.$={type:"Number",value:n[l]};break;case 48:this.$={type:"Boolean",value:"TRUE"};break;case 49:this.$={type:"Boolean",value:"FALSE"};break;case 50:this.$={type:"Null",value:"null"};break;case 55:this.$={type:"FunctionCall",name:n[l-3],params:n[l-1]};break;case 56:n[l-2].push(n[l]),this.$=n[l-2];break;case 57:case 148:case 194:this.$=[n[l]];break;case 61:this.$={type:"FunctionCallParam",distinctOpt:n[l-1],value:n[l]};break;case 64:this.$=n[l-2],n[l-2].value+="."+n[l];break;case 65:this.$={type:"IdentifierList",value:[n[l]]};break;case 66:case 170:this.$=n[l-2],n[l-2].value.push(n[l]);break;case 69:this.$={type:"WhenThenList",value:[{when:n[l-2],then:n[l]}]};break;case 70:this.$=n[l-4],this.$.value.push({when:n[l-2],then:n[l]});break;case 73:this.$={type:"CaseWhen",caseExprOpt:n[l-3],whenThenList:n[l-2],else:n[l-1]};break;case 74:case 75:case 76:case 77:case 78:this.$={type:"Prefix",prefix:n[l-1],value:n[l]};break;case 83:this.$={type:"SimpleExprParentheses",value:n[l-1]};break;case 84:this.$={type:"SimpleExprParentheses",value:n[l-2],hasRow:!0};break;case 85:this.$={type:"SubQuery",value:n[l-1]};break;case 86:this.$={type:"SubQuery",value:n[l-1],hasExists:!0};break;case 87:this.$={type:"IdentifierExpr",identifier:n[l-2],value:n[l-1]};break;case 90:this.$={type:"BitExpression",operator:"|",left:n[l-2],right:n[l]};break;case 91:this.$={type:"BitExpression",operator:"&",left:n[l-2],right:n[l]};break;case 92:this.$={type:"BitExpression",operator:"<<",left:n[l-2],right:n[l]};break;case 93:this.$={type:"BitExpression",operator:">>",left:n[l-2],right:n[l]};break;case 94:this.$={type:"BitExpression",operator:"+",left:n[l-2],right:n[l]};break;case 95:this.$={type:"BitExpression",operator:"-",left:n[l-2],right:n[l]};break;case 96:this.$={type:"BitExpression",operator:"*",left:n[l-2],right:n[l]};break;case 97:this.$={type:"BitExpression",operator:"/",left:n[l-2],right:n[l]};break;case 98:this.$={type:"BitExpression",operator:"DIV",left:n[l-2],right:n[l]};break;case 99:this.$={type:"BitExpression",operator:"MOD",left:n[l-2],right:n[l]};break;case 100:this.$={type:"BitExpression",operator:"%",left:n[l-2],right:n[l]};break;case 101:this.$={type:"BitExpression",operator:"^",left:n[l-2],right:n[l]};break;case 107:this.$={type:"InSubQueryPredicate",hasNot:n[l-4],left:n[l-5],right:n[l-1]};break;case 108:this.$={type:"InExpressionListPredicate",hasNot:n[l-4],left:n[l-5],right:n[l-1]};break;case 109:this.$={type:"BetweenPredicate",hasNot:n[l-4],left:n[l-5],right:{left:n[l-2],right:n[l]}};break;case 110:this.$={type:"SoundsLikePredicate",hasNot:!1,left:n[l-3],right:n[l]};break;case 111:this.$={type:"LikePredicate",hasNot:n[l-3],left:n[l-4],right:n[l-1],escape:n[l]};break;case 112:this.$={type:"RegexpPredicate",hasNot:n[l-2],left:n[l-3],right:n[l]};break;case 123:this.$={type:"IsNullBooleanPrimary",hasNot:n[l-1],value:n[l-3]};break;case 124:this.$={type:"ComparisonBooleanPrimary",left:n[l-2],operator:n[l-1],right:n[l]};break;case 125:this.$={type:"ComparisonSubQueryBooleanPrimary",operator:n[l-4],subQueryOpt:n[l-3],left:n[l-5],right:n[l-1]};break;case 127:this.$={type:"BooleanExtra",value:n[l]};break;case 129:this.$={type:"IsExpression",hasNot:n[l-1],left:n[l-3],right:n[l]};break;case 130:this.$={type:"NotExpression",value:n[l]};break;case 131:case 134:this.$={type:"AndExpression",operator:n[l-1],left:n[l-2],right:n[l]};break;case 132:case 133:this.$={type:"OrExpression",operator:n[l-1],left:n[l-2],right:n[l]};break;case 135:this.$={type:"XORExpression",left:n[l-2],right:n[l]};break;case 136:this.$={type:"ExpressionList",value:[n[l]]};break;case 137:case 212:this.$=n[l-2],this.$.value.push(n[l]);break;case 144:this.$={type:"GroupBy",value:n[l-1],rollUp:n[l]};break;case 147:this.$={type:"OrderBy",value:n[l-1],rollUp:n[l]};break;case 149:case 195:this.$=n[l-2],n[l-2].push(n[l]);break;case 150:this.$={type:"GroupByOrderByItem",value:n[l-1],sortOpt:n[l]};break;case 156:this.$={type:"Limit",value:[n[l]]};break;case 157:this.$={type:"Limit",value:[n[l-2],n[l]]};break;case 158:this.$={type:"Limit",value:[n[l],n[l-2]],offsetMode:!0};break;case 165:this.$=n[l-1]+" "+n[l];break;case 166:this.$=n[l-3]+" "+n[l-2]+" "+n[l-1]+" "+n[l];break;case 167:this.$={};break;case 168:this.$={from:n[l-8],partition:n[l-7],where:n[l-6],groupBy:n[l-5],having:n[l-4],orderBy:n[l-3],limit:n[l-2],procedure:n[l-1],updateLockMode:n[l]};break;case 169:this.$={type:"TableReferences",value:[n[l]]};break;case 171:this.$={type:"TableReference",value:n[l]};break;case 172:this.$={type:"TableReference",hasOj:!0,value:n[l-1]};break;case 180:this.$={leftRight:null,outOpt:null};break;case 181:this.$={leftRight:n[l-1],outOpt:n[l]};break;case 182:this.$={type:"InnerCrossJoinTable",innerCrossOpt:n[l-2],left:n[l-3],right:n[l],condition:null};break;case 183:this.$={type:"InnerCrossJoinTable",innerCrossOpt:n[l-3],left:n[l-4],right:n[l-1],condition:n[l]};break;case 184:this.$={type:"StraightJoinTable",left:n[l-3],right:n[l-1],condition:n[l]};break;case 185:this.$={type:"LeftRightJoinTable",leftRight:n[l-4],outOpt:n[l-3],left:n[l-5],right:n[l-1],condition:n[l]};break;case 186:this.$={type:"NaturalJoinTable",leftRight:n[l-2].leftRight,outOpt:n[l-2].outOpt,left:n[l-4],right:n[l]};break;case 189:this.$={type:"OnJoinCondition",value:n[l]};break;case 191:this.$={type:"UsingJoinCondition",value:n[l-1]};break;case 197:this.$={type:"Partitions",value:n[l-1]};break;case 199:this.$={hasAs:!0,alias:n[l]};break;case 200:this.$={hasAs:!1,alias:n[l]};break;case 204:case 205:case 206:this.$={type:"ForOptIndexHint",value:n[l]};break;case 211:this.$={type:"IndexHintList",value:[n[l]]};break;case 213:this.$={type:"UseIndexHint",value:n[l-1],forOpt:n[l-3],indexOrKey:n[l-4]};break;case 214:this.$={type:"IgnoreIndexHint",value:n[l-1],forOpt:n[l-3],indexOrKey:n[l-4]};break;case 215:this.$={type:"ForceIndexHint",value:n[l-1],forOpt:n[l-3],indexOrKey:n[l-4]};break;case 216:this.$={type:"TableFactor",value:n[l-3],partition:n[l-2],alias:n[l-1].alias,hasAs:n[l-1].hasAs,indexHintOpt:n[l]};break;case 217:this.$={type:"TableFactor",value:{type:"SubQuery",value:n[l-2]},alias:n[l].alias,hasAs:n[l].hasAs};break;case 218:this.$=n[l-1],this.$.hasParentheses=!0}},table:[{3:1,4:2,7:3,9:5,10:6,13:7,16:s,18:t},{1:[3]},{5:9,6:r,8:a,14:n},{5:12,6:r,8:a},e([16,32,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,75,78,80,81,82,83,85,86,87,100],o,{15:13,29:l,30:i,31:c}),e(p,[2,5]),e([6,8,145],m,{11:17,136:18,137:u}),{14:b},{4:21,18:t},{6:[1,22]},{15:23,18:o,29:l,30:i,31:c},{6:[2,3]},{6:[1,24]},e(_,[2,18],{19:25,32:[1,26]}),e(y,[2,13]),e(y,[2,14]),e(y,[2,15]),e(p,$,{12:27,144:28,145:d}),e(f,[2,146]),{16:h,35:x,47:32,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33,135:30,138:31},{15:65,16:o,29:l,30:i,31:c},{17:[1,66]},{1:[2,1]},{4:67,9:68,18:t},{1:[2,2]},e(F,[2,20],{20:69,33:[1,70]}),e(_,[2,17]),e(p,[2,6]),e(D,[2,160]),{35:[1,71]},e(f,B,{131:72,43:U,132:M}),e(H,[2,148]),e(H,[2,151],{139:75,106:G,123:z,124:W,125:K,126:Q,140:[1,81],141:[1,82]}),e(V,[2,128],{110:84,34:[1,85],111:[1,86],112:[1,87],113:[1,88],114:[1,89],115:[1,90],116:[1,91],120:[1,83]}),{16:h,35:x,47:92,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(Y,[2,122]),e(Y,[2,106],{99:93,45:J,78:X,80:Z,90:ee,91:se,92:te,93:re,94:ae,95:ne,96:oe,97:le,98:ie,100:ce,104:pe,105:pe,108:pe,109:pe,107:[1,94]}),e(me,[2,89]),e(ue,[2,79]),e(ue,[2,80],{66:be}),e(ue,[2,81]),e(ue,[2,82]),{4:110,16:h,18:t,35:x,47:111,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,84:109,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{16:[1,112]},{16:[1,113]},{50:_e,65:114},e(ue,[2,88]),e(ue,[2,51]),e(ue,[2,52]),e(ue,[2,53]),e(ue,[2,54]),e([6,8,14,17,34,36,43,45,49,50,51,66,70,71,73,76,78,80,88,90,91,92,93,94,95,96,97,98,100,102,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],ye,{16:$e}),{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:117,80:C,81:N,82:L,83:I,85:R,86:q,87:j},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:118,80:C,81:N,82:L,83:I,85:R,86:q,87:j},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:119,80:C,81:N,82:L,83:I,85:R,86:q,87:j},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:120,80:C,81:N,82:L,83:I,85:R,86:q,87:j},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:121,80:C,81:N,82:L,83:I,85:R,86:q,87:j},{16:h,35:x,47:123,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,68:122,70:[2,67],74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(ue,[2,44]),e(ue,[2,45]),e(ue,[2,46]),e(ue,[2,47]),e(ue,[2,48]),e(ue,[2,49]),e(ue,[2,50]),{10:125,13:124,16:s},e([6,8,14,137,145],[2,9]),e(p,[2,10],{14:n}),e(p,[2,11]),e(de,[2,22],{21:126,36:[1,127]}),{34:[1,128]},e(D,[2,156],{43:[1,129],146:[1,130]}),e(f,[2,147]),{16:h,35:x,47:32,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33,138:131},{133:[1,132]},e(H,[2,150]),{16:h,35:x,47:133,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{16:h,35:x,47:134,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{16:h,35:x,47:135,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{16:h,35:x,47:136,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{16:h,35:x,47:137,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(H,[2,152]),e(H,[2,153]),e([57,58,60,122],pe,{99:138,100:ce}),{16:h,29:[1,141],35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,103:139,117:140,118:[1,142]},e(fe,[2,113]),e(fe,[2,114]),e(fe,[2,115]),e(fe,[2,116]),e(fe,[2,117]),e(fe,[2,118]),e(fe,[2,119]),e(V,[2,130]),{104:[1,143],105:[1,144],108:[1,145],109:[1,146]},{108:[1,147]},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:148},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:149},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:150},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:151},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:152},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:153},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:154},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:155},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:156},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:157},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:158},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:159},e([57,58,60,104,105,108,109,122],[2,103]),{50:[1,160]},{17:[1,161],43:he},{17:[1,163]},e(xe,[2,136],{106:G,123:z,124:W,125:K,126:Q}),{16:h,35:x,47:111,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,84:164,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{4:165,18:t},{16:h,35:x,47:166,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,66:be,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e([6,8,14,16,17,35,36,43,49,50,51,54,55,57,58,60,66,75,78,80,81,82,83,85,86,87,88,100,128,134,137,143,145,149,151,153,163,164,166,167,172,176,178,179,181,191,192,193],ye),e(xe,we,{119:33,103:35,89:36,79:37,61:38,65:39,62:40,77:41,74:46,52:47,53:48,56:49,59:50,63:167,64:168,47:172,16:h,30:ke,35:x,45:ve,46:ge,50:w,51:k,54:v,55:g,57:A,58:E,60:O,75:T,78:S,80:C,81:N,82:L,83:I,85:R,86:q,87:j,100:P}),e(ue,[2,74]),e(ue,[2,75]),e(ue,[2,76]),e(ue,[2,77]),e(ue,[2,78]),{69:173,70:[1,174]},{70:[2,68],106:G,123:z,124:W,125:K,126:Q},e(Ae,[2,7],{14:b}),e(Ae,[2,8]),e(Ee,[2,24],{22:175,37:[1,176]}),e(de,[2,21]),{35:[1,177]},{35:[1,178]},{35:[1,179]},e(H,[2,149]),e(Oe,[2,143]),e(V,[2,131]),e(Te,[2,132],{106:G,123:z}),e(Te,[2,133],{106:G,123:z}),e(V,[2,134]),e(Te,[2,135],{106:G,123:z}),{56:182,57:A,58:E,60:[1,181],121:180,122:[1,183]},e(Y,[2,124]),{16:[1,184]},{16:[2,120]},{16:[2,121]},{16:[1,185]},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:186},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:187,80:C,81:N,82:L,83:I,85:R,86:q,87:j},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:188},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:189},e([6,8,14,17,34,36,43,49,50,51,70,71,73,76,88,90,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],[2,90],{45:J,78:X,80:Z,91:se,92:te,93:re,94:ae,95:ne,96:oe,97:le,98:ie}),e([6,8,14,17,34,36,43,49,50,51,70,71,73,76,88,90,91,98,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],[2,91],{45:J,78:X,80:Z,92:te,93:re,94:ae,95:ne,96:oe,97:le}),e(Se,[2,92],{45:J,78:X,80:Z,94:ae,95:ne,96:oe,97:le}),e(Se,[2,93],{45:J,78:X,80:Z,94:ae,95:ne,96:oe,97:le}),e(Ce,[2,94],{45:J,94:ae,95:ne,96:oe,97:le}),e(Ce,[2,95],{45:J,94:ae,95:ne,96:oe,97:le}),e(me,[2,96]),e(me,[2,97]),e(me,[2,98]),e(me,[2,99]),e(me,[2,100]),e([6,8,14,17,34,36,43,49,50,51,70,71,73,76,88,90,98,100,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181],[2,101],{45:J,78:X,80:Z,91:se,92:te,93:re,94:ae,95:ne,96:oe,97:le}),e([6,8,14,16,17,34,35,36,43,45,49,50,51,54,55,57,58,60,66,70,71,73,75,76,78,80,81,82,83,85,86,87,88,90,91,92,93,94,95,96,97,98,100,102,104,105,106,107,108,109,111,112,113,114,115,116,120,123,124,125,126,128,132,134,137,140,141,143,145,149,151,153,156,163,164,166,167,172,176,178,179,181,191,192,193],[2,64]),e(ue,[2,83]),{16:h,35:x,47:190,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(ue,[2,85]),{17:[1,191],43:he},{17:[1,192]},{88:[1,193],106:G,123:z,124:W,125:K,126:Q},{17:[1,194],43:[1,195]},e(xe,[2,57]),e(xe,[2,59]),e(xe,[2,60]),{16:h,35:x,47:196,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(xe,[2,62],{106:G,123:z,124:W,125:K,126:Q}),{70:[1,198],72:197,73:[1,199],76:[2,71]},{16:h,35:x,47:200,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(Ne,[2,26],{23:201,38:[1,202]}),e(Ee,[2,23]),e(F,[2,19]),e(D,[2,157]),e(D,[2,158]),e(V,[2,129]),e(Y,[2,123]),e(V,[2,126]),e(V,[2,127]),{4:203,18:t},{4:204,16:h,18:t,35:x,47:111,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,84:205,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{45:J,78:X,80:Z,90:ee,91:se,92:te,93:re,94:ae,95:ne,96:oe,97:le,98:ie,106:[1,206]},e(Y,[2,104],{101:207,102:[1,208]}),e(Y,[2,112],{45:J,78:X,80:Z,90:ee,91:se,92:te,93:re,94:ae,95:ne,96:oe,97:le,98:ie}),e(Y,[2,110],{45:J,78:X,80:Z,90:ee,91:se,92:te,93:re,94:ae,95:ne,96:oe,97:le,98:ie}),e(xe,[2,137],{106:G,123:z,124:W,125:K,126:Q}),e(ue,[2,84]),e(ue,[2,86]),e(ue,[2,87]),e(ue,[2,55]),e(xe,we,{119:33,103:35,89:36,79:37,61:38,65:39,62:40,77:41,74:46,52:47,53:48,56:49,59:50,47:172,64:209,16:h,30:ke,35:x,45:ve,46:ge,50:w,51:k,54:v,55:g,57:A,58:E,60:O,75:T,78:S,80:C,81:N,82:L,83:I,85:R,86:q,87:j,100:P}),e(xe,[2,61],{106:G,123:z,124:W,125:K,126:Q}),{76:[1,210]},{16:h,35:x,47:211,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{16:h,35:x,47:212,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{71:[1,213],106:G,123:z,124:W,125:K,126:Q},e(Le,[2,28],{24:214,39:[1,215]}),e(Ne,[2,25]),{17:[1,216]},{17:[1,217]},{17:[1,218],43:he},{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,103:219},e(Y,[2,111]),{16:h,35:x,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:220,80:C,81:N,82:L,83:I,85:R,86:q,87:j},e(xe,[2,56]),e(ue,[2,73]),{71:[1,221],106:G,123:z,124:W,125:K,126:Q},{76:[2,72],106:G,123:z,124:W,125:K,126:Q},{16:h,35:x,47:222,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(Ie,[2,29],{25:223,40:[1,224],41:[1,225]}),e(Le,[2,27]),e(Y,[2,125]),e(Y,[2,107]),e(Y,[2,108]),e(Y,[2,109]),e(Y,[2,105]),{16:h,35:x,47:226,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(Re,[2,69],{106:G,123:z,124:W,125:K,126:Q}),e(qe,[2,33],{26:227,42:[1,228]}),e(Ie,[2,30]),e(Ie,[2,31]),e(Re,[2,70],{106:G,123:z,124:W,125:K,126:Q}),{16:h,27:229,35:x,44:230,45:je,46:Pe,47:233,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(qe,[2,32]),e(Fe,[2,167],{28:234,43:[1,235],156:[1,236]}),e(De,[2,35]),e(De,[2,36]),e(De,[2,37]),e(De,[2,39],{48:237,49:[1,238],50:[1,239],51:[1,240],106:G,123:z,124:W,125:K,126:Q}),e(Fe,[2,12]),{16:h,35:x,44:241,45:je,46:Pe,47:233,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{16:Be,50:_e,65:248,87:Ue,157:242,159:243,160:244,171:247,173:246},e(De,[2,38]),{50:[1,250],51:[1,251]},e(De,[2,41]),e(De,[2,43]),e(De,[2,34]),e([6,8,14,17,128,134,137,143,145,149,151,153],Me,{158:252,43:He,181:Ge}),e(ze,[2,169]),e(ze,[2,171],{162:255,165:257,36:We,163:Ke,164:Qe,166:Ve,167:Ye,172:Je,176:Xe}),{161:[1,263]},e(Ze,[2,192]),e(Ze,[2,193]),e([6,8,14,17,36,43,49,50,88,128,134,137,143,145,149,151,153,163,164,166,167,172,176,178,179,191,192,193],Me,{158:264,66:be,181:Ge}),{4:265,16:Be,18:t,50:_e,65:248,87:Ue,157:266,159:243,160:244,171:247,173:246},e(De,[2,40]),e(De,[2,42]),e(es,[2,138],{127:267,128:[1,268]}),{16:Be,50:_e,65:248,87:Ue,159:269,160:244,171:247,173:246},{16:[1,270]},{172:[1,271]},{16:Be,50:_e,65:248,173:272},{168:273,169:ss,172:ts},{165:276,166:Ve,167:Ye,170:275,172:[2,180]},{172:[2,174]},{172:[2,175]},e(rs,[2,176]),e(rs,[2,177]),{16:Be,50:_e,65:248,160:277,171:247,173:246},e(as,ns,{182:278,65:280,49:os,50:_e}),{17:[1,281]},{17:[1,282],43:He},e(Oe,[2,140],{129:283,130:284,134:[1,285]}),{16:h,35:x,47:286,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(ze,[2,170]),{50:_e,65:288,180:287},{16:Be,50:_e,65:248,173:289},{175:290,178:ls},{172:[1,292]},{172:[2,179]},{172:[1,293]},{168:294,169:ss,172:ts},{36:We,88:[1,295],162:255,163:Ke,164:Qe,165:257,166:Ve,167:Ye,172:Je,176:Xe},e(Ze,[2,209],{188:296,189:297,190:298,191:is,192:cs,193:ps}),{50:_e,65:302},e(as,[2,200],{66:be}),e(Ze,ns,{65:280,182:303,49:os,50:_e}),e(Ze,[2,218]),e(ms,[2,154],{142:304,143:[1,305]}),e(Oe,[2,141]),{16:h,35:x,47:32,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33,135:306,138:31},e(es,[2,139],{106:G,123:z,124:W,125:K,126:Q}),{17:[1,307],43:[1,308]},e(xe,[2,194],{66:be}),e([6,8,14,17,36,43,88,128,134,137,143,145,149,151,153,163,164,166,167,172,176,181],[2,182],{174:309,175:310,178:ls,179:us}),e(Ze,[2,184]),{16:h,35:x,47:312,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},{16:Be,50:_e,65:248,160:313,171:247,173:246},{16:Be,50:_e,65:248,173:314},{172:[2,181]},e(ze,[2,172]),e(Ze,[2,216]),e(Ze,[2,210]),e(Ze,[2,211]),{183:316,184:bs,185:_s},{183:319,184:bs,185:_s},{183:320,184:bs,185:_s},e(as,[2,199],{66:be}),e(Ze,[2,217]),e(f,m,{136:18,11:321,137:u}),{16:h,35:x,47:322,50:w,51:k,52:47,53:48,54:v,55:g,56:49,57:A,58:E,59:50,60:O,61:38,62:40,65:39,74:46,75:T,77:41,78:S,79:37,80:C,81:N,82:L,83:I,85:R,86:q,87:j,89:36,100:P,103:35,119:33},e(Oe,B,{131:323,43:U,132:M}),e([6,8,14,17,36,43,49,50,88,128,134,137,143,145,149,151,153,163,164,166,167,172,176,178,179,181,191,192,193],[2,197]),{50:_e,65:324},e(Ze,[2,183]),e(Ze,[2,190]),{16:[1,325]},e(Ze,[2,189],{106:G,123:z,124:W,125:K,126:Q}),{36:We,162:255,163:Ke,164:Qe,165:257,166:Ve,167:Ye,172:Je,174:326,175:310,176:Xe,178:ls,179:us},e(Ze,[2,186]),{190:327,191:is,192:cs,193:ps},{16:ys,151:$s,186:328},e(ds,[2,201]),e(ds,[2,202]),{16:ys,151:$s,186:330},{16:ys,151:$s,186:331},e(D,$,{144:28,12:332,145:d}),e(ms,[2,155],{106:G,123:z,124:W,125:K,126:Q}),e(Oe,[2,144]),e(xe,[2,195],{66:be}),{50:_e,65:334,67:333},e(Ze,[2,185]),e(Ze,[2,212]),{16:[1,335]},{134:[1,338],137:[1,337],172:[1,336]},{16:[1,339]},{16:[1,340]},e(fs,[2,161],{147:341,148:342,149:[1,343]}),{17:[1,344],43:hs},e(xe,[2,65],{66:be}),{17:[2,207],50:_e,65:334,67:347,187:346},{16:[2,204]},{16:[2,205]},{16:[2,206]},{50:_e,65:334,67:348},{50:_e,65:334,67:349},e(Fe,[2,164],{150:350,151:[1,351],153:[1,352]}),e(fs,[2,162]),{50:[1,354],62:353},e(Ze,[2,191]),{50:_e,65:355},{17:[1,356]},{17:[2,208],43:hs},{17:[1,357],43:hs},{17:[1,358],43:hs},e(Fe,[2,168]),{152:[1,359]},{104:[1,360]},e(fs,[2,163]),{16:$e},e(xe,[2,66],{66:be}),e(Ze,[2,213]),e(Ze,[2,214]),e(Ze,[2,215]),e(Fe,[2,165]),{154:[1,361]},{155:[1,362]},e(Fe,[2,166])],defaultActions:{11:[2,3],22:[2,1],24:[2,2],141:[2,120],142:[2,121],259:[2,174],260:[2,175],274:[2,179],294:[2,181],336:[2,204],337:[2,205],338:[2,206]},parseError:function(e,s){if(!s.recoverable){var t=new Error(e);throw t.hash=s,t}this.trace(e)},parse:function(e){var s=this,t=[0],r=[null],a=[],n=this.table,o="",l=0,i=0,c=0,p=a.slice.call(arguments,1),m=Object.create(this.lexer),u={yy:{}};for(var b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(u.yy[b]=this.yy[b]);m.setInput(e,u.yy),u.yy.lexer=m,u.yy.parser=this,void 0===m.yylloc&&(m.yylloc={});var _=m.yylloc;a.push(_);var y,$=m.options&&m.options.ranges;"function"==typeof u.yy.parseError?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var d,f,h,x,w,k,v,g,A,E={};;){if(h=t[t.length-1],this.defaultActions[h]?x=this.defaultActions[h]:(null==d&&(y=void 0,"number"!=typeof(y=m.lex()||1)&&(y=s.symbols_[y]||y),d=y),x=n[h]&&n[h][d]),void 0===x||!x.length||!x[0]){var O;for(k in A=[],n[h])this.terminals_[k]&&k>2&&A.push("'"+this.terminals_[k]+"'");O=m.showPosition?"Parse error on line "+(l+1)+":\n"+m.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(O,{text:m.match,token:this.terminals_[d]||d,line:m.yylineno,loc:_,expected:A})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+d);switch(x[0]){case 1:t.push(d),r.push(m.yytext),a.push(m.yylloc),t.push(x[1]),d=null,f?(d=f,f=null):(i=m.yyleng,o=m.yytext,l=m.yylineno,_=m.yylloc,c>0&&c--);break;case 2:if(v=this.productions_[x[1]][1],E.$=r[r.length-v],E._$={first_line:a[a.length-(v||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(v||1)].first_column,last_column:a[a.length-1].last_column},$&&(E._$.range=[a[a.length-(v||1)].range[0],a[a.length-1].range[1]]),void 0!==(w=this.performAction.apply(E,[o,i,l,u.yy,x[1],r,a].concat(p))))return w;v&&(t=t.slice(0,-1*v*2),r=r.slice(0,-1*v),a=a.slice(0,-1*v)),t.push(this.productions_[x[1]][0]),r.push(E.$),a.push(E._$),g=n[t[t.length-2]][t[t.length-1]],t.push(g);break;case 3:return!0}}return!0}},ws={EOF:1,parseError:function(e,s){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,s)},setInput:function(e,s){return this.yy=s||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var s=e.length,t=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-s),this.offset-=s;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===r.length?this.yylloc.first_column:0)+r[r.length-t.length].length-t[0].length:this.yylloc.first_column-s},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-s]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),s=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+s+"^"},test_match:function(e,s){var t,r,a;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(a.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,s,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t)return t;if(this._backtrack){for(var n in a)this[n]=a[n];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,s,t,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),n=0;n<a.length;n++)if((t=this._input.match(this.rules[a[n]]))&&(!s||t[0].length>s[0].length)){if(s=t,r=n,this.options.backtrack_lexer){if(!1!==(e=this.test_match(t,a[n])))return e;if(this._backtrack){s=!1;continue}return!1}if(!this.options.flex)break}return s?!1!==(e=this.test_match(s,a[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,s,t,r){switch(t){case 0:case 1:case 2:case 3:break;case 4:case 5:case 6:case 114:case 118:return 50;case 7:return 18;case 8:return 29;case 9:return 118;case 10:return 30;case 11:return 31;case 12:return 32;case 13:return 33;case 14:return 36;case 15:return 37;case 16:return 38;case 17:return 39;case 18:return 40;case 19:return 41;case 20:return 42;case 21:return 46;case 22:return 49;case 23:return 57;case 24:return 58;case 25:return 60;case 26:return"COLLATE";case 27:return 83;case 28:return 85;case 29:return 86;case 30:return 75;case 31:return 70;case 32:return 71;case 33:return 73;case 34:return 76;case 35:return 95;case 36:return 96;case 37:return 100;case 38:return 105;case 39:return 104;case 40:return 107;case 41:return 108;case 42:return 102;case 43:return 109;case 44:return 120;case 45:return 122;case 46:return 106;case 47:return 125;case 48:return 126;case 49:return 156;case 50:return 181;case 51:return 191;case 52:return 184;case 53:return 185;case 54:return 151;case 55:return 172;case 56:return 137;case 57:return 134;case 58:return 192;case 59:return 193;case 60:return 163;case 61:return 164;case 62:return 178;case 63:return 179;case 64:return 166;case 65:return 167;case 66:return 169;case 67:return 176;case 68:return 128;case 69:return 140;case 70:return 141;case 71:return 132;case 72:return 133;case 73:return 143;case 74:return 146;case 75:return 149;case 76:return 152;case 77:return 153;case 78:return 154;case 79:return 155;case 80:return 161;case 81:return 145;case 82:return 14;case 83:return 43;case 84:return 34;case 85:return 16;case 86:return 17;case 87:return 81;case 88:return 116;case 89:return 82;case 90:return 90;case 91:return 91;case 92:return 78;case 93:return 80;case 94:return 45;case 95:return 94;case 96:return 97;case 97:return 98;case 98:return 93;case 99:return 111;case 100:return 112;case 101:return 92;case 102:return"<=>";case 103:return 113;case 104:return 115;case 105:return 114;case 106:return 87;case 107:return 88;case 108:return 8;case 109:case 110:case 116:case 117:return 51;case 111:return 55;case 112:return 35;case 113:return 54;case 115:return 66;case 119:return 6;case 120:return"INVALID"}},rules:[/^(?:[\/][*](.|\n)*?[*][\/])/i,/^(?:[-][-]\s.*\n)/i,/^(?:[#]\s.*\n)/i,/^(?:\s+)/i,/^(?:[`][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*[`])/i,/^(?:[\w]+[\u4e00-\u9fa5]+[0-9a-zA-Z_\u4e00-\u9fa5]*)/i,/^(?:[\u4e00-\u9fa5][0-9a-zA-Z_\u4e00-\u9fa5]*)/i,/^(?:SELECT\b)/i,/^(?:ALL\b)/i,/^(?:ANY\b)/i,/^(?:DISTINCT\b)/i,/^(?:DISTINCTROW\b)/i,/^(?:HIGH_PRIORITY\b)/i,/^(?:MAX_STATEMENT_TIME\b)/i,/^(?:STRAIGHT_JOIN\b)/i,/^(?:SQL_SMALL_RESULT\b)/i,/^(?:SQL_BIG_RESULT\b)/i,/^(?:SQL_BUFFER_RESULT\b)/i,/^(?:SQL_CACHE\b)/i,/^(?:SQL_NO_CACHE\b)/i,/^(?:SQL_CALC_FOUND_ROWS\b)/i,/^(?:([a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*\.){1,2}\*)/i,/^(?:AS\b)/i,/^(?:TRUE\b)/i,/^(?:FALSE\b)/i,/^(?:NULL\b)/i,/^(?:COLLATE\b)/i,/^(?:BINARY\b)/i,/^(?:ROW\b)/i,/^(?:EXISTS\b)/i,/^(?:CASE\b)/i,/^(?:WHEN\b)/i,/^(?:THEN\b)/i,/^(?:ELSE\b)/i,/^(?:END\b)/i,/^(?:DIV\b)/i,/^(?:MOD\b)/i,/^(?:NOT\b)/i,/^(?:BETWEEN\b)/i,/^(?:IN\b)/i,/^(?:SOUNDS\b)/i,/^(?:LIKE\b)/i,/^(?:ESCAPE\b)/i,/^(?:REGEXP\b)/i,/^(?:IS\b)/i,/^(?:UNKNOWN\b)/i,/^(?:AND\b)/i,/^(?:OR\b)/i,/^(?:XOR\b)/i,/^(?:FROM\b)/i,/^(?:PARTITION\b)/i,/^(?:USE\b)/i,/^(?:INDEX\b)/i,/^(?:KEY\b)/i,/^(?:FOR\b)/i,/^(?:JOIN\b)/i,/^(?:ORDER\s+BY\b)/i,/^(?:GROUP\s+BY\b)/i,/^(?:IGNORE\b)/i,/^(?:FORCE\b)/i,/^(?:INNER\b)/i,/^(?:CROSS\b)/i,/^(?:ON\b)/i,/^(?:USING\b)/i,/^(?:LEFT\b)/i,/^(?:RIGHT\b)/i,/^(?:OUTER\b)/i,/^(?:NATURAL\b)/i,/^(?:WHERE\b)/i,/^(?:ASC\b)/i,/^(?:DESC\b)/i,/^(?:WITH\b)/i,/^(?:ROLLUP\b)/i,/^(?:HAVING\b)/i,/^(?:OFFSET\b)/i,/^(?:PROCEDURE\b)/i,/^(?:UPDATE\b)/i,/^(?:LOCK\b)/i,/^(?:SHARE\b)/i,/^(?:MODE\b)/i,/^(?:OJ\b)/i,/^(?:LIMIT\b)/i,/^(?:UNION\b)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\()/i,/^(?:\))/i,/^(?:~)/i,/^(?:!=)/i,/^(?:!)/i,/^(?:\|)/i,/^(?:&)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:\*)/i,/^(?:\/)/i,/^(?:%)/i,/^(?:\^)/i,/^(?:>>)/i,/^(?:>=)/i,/^(?:>)/i,/^(?:<<)/i,/^(?:<=>)/i,/^(?:<=)/i,/^(?:<>)/i,/^(?:<)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:;)/i,/^(?:['](\\.|[^'])*['])/i,/^(?:["](\\.|[^"])*["])/i,/^(?:[0][x][0-9a-fA-F]+)/i,/^(?:[-]?[0-9]+(\.[0-9]+)?)/i,/^(?:[-]?[0-9]+(\.[0-9]+)?[eE][-][0-9]+(\.[0-9]+)?)/i,/^(?:[a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*)/i,/^(?:\.)/i,/^(?:["][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*["])/i,/^(?:['][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*['])/i,/^(?:([`])(?:(?=(\\?))\2.)*?\1)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],inclusive:!0}}};function ks(){this.yy={}}return xs.lexer=ws,ks.prototype=xs,xs.Parser=ks,new ks}();function a(){this.buffer=""}r||(r={}),r.stringify=function(e){var s=new a;return s.travelMain(e),s.buffer},a.prototype.travel=function(e){if(e){if("string"==typeof e)return this.append(e);this["travel"+e.type].call(this,e)}};var n=!1;a.prototype.appendKeyword=function(e,s,t){n&&(s=!0,n=!1),this.buffer+=s?e.toUpperCase():" "+e.toUpperCase(),t&&(n=!0)},a.prototype.append=function(e,s,t){n&&(s=!0,n=!1),this.buffer+=s?e:" "+e,t&&(n=!0)},a.prototype.travelMain=function(e){this.travel(e.value),e.hasSemicolon&&this.append(";",!0)},a.prototype.travelSelect=function(e){this.appendKeyword("select"),e.distinctOpt&&this.appendKeyword(e.distinctOpt),e.highPriorityOpt&&this.appendKeyword(e.highPriorityOpt),e.maxStateMentTimeOpt&&this.append("MAX_STATEMENT_TIME = "+e.maxStateMentTimeOpt),e.straightJoinOpt&&this.appendKeyword(e.straightJoinOpt),e.sqlSmallResultOpt&&this.appendKeyword(e.sqlSmallResultOpt),e.sqlBigResultOpt&&this.appendKeyword(e.sqlBigResultOpt),e.sqlBufferResultOpt&&this.appendKeyword(e.sqlBufferResultOpt),e.sqlCacheOpt&&this.appendKeyword(e.sqlCacheOpt),e.sqlCalcFoundRowsOpt&&this.appendKeyword(e.sqlCalcFoundRowsOpt),e.selectItems&&this.travelSelectExpr(e.selectItems),e.from&&(this.appendKeyword("from"),this.travel(e.from)),e.partition&&this.travel(e.partition),e.where&&(this.appendKeyword("where"),this.travel(e.where)),e.groupBy&&this.travel(e.groupBy),e.having&&(this.appendKeyword("having"),this.travel(e.having)),e.orderBy&&this.travel(e.orderBy),e.limit&&this.travel(e.limit),e.procedure&&(this.appendKeyword("procedure"),this.travel(e.procedure)),e.updateLockMode&&this.appendKeyword(e.updateLockMode)},a.prototype.travelSelectExpr=function(e){for(var s=e.value,t=0;t<s.length;t++)"string"==typeof e?this.append(s[t]):(this.travel(s[t]),s[t].alias&&(s[t].hasAs&&this.appendKeyword("as"),this.travel(s[t].alias))),t!==s.length-1&&this.append(",",!0)},a.prototype.travelIsExpression=function(e){this.travel(e.left),this.appendKeyword("in"),e.hasNot&&this.appendKeyword("not"),this.append(e.right)},a.prototype.travelNotExpression=function(e){this.appendKeyword("not"),this.travel(e.value)},a.prototype.travelOrExpression=a.prototype.travelAndExpression=a.prototype.travelXORExpression=function(e){this.travel(e.left),this.appendKeyword(e.operator),this.travel(e.right)},a.prototype.travelNull=a.prototype.travelBoolean=a.prototype.travelBooleanExtra=function(e){this.appendKeyword(e.value)},a.prototype.travelNumber=function(e){this.append(e.value)},a.prototype.travelString=function(e){this.append(e.value)},a.prototype.travelFunctionCall=function(e){this.append(e.name),this.append("(",!0,!0);for(var s=e.params,t=0;t<s.length;t++){var r=s[t];this.travel(r),t!==s.length-1&&this.append(",",!0)}this.append(")",!0)},a.prototype.travelFunctionCallParam=function(e){e.distinctOpt&&this.appendKeyword(e.distinctOpt),this.travel(e.value)},a.prototype.travelIdentifier=function(e){this.append(e.value)},a.prototype.travelIdentifierList=function(e){for(var s=e.value,t=0;t<s.length;t++)this.travel(s[t]),t!==s.length-1&&this.append(",",!0)},a.prototype.travelWhenThenList=function(e){for(var s=e.value,t=0;t<s.length;t++)this.appendKeyword("when"),this.travel(s[t].when),this.appendKeyword("then"),this.travel(s[t].then)},a.prototype.travelCaseWhen=function(e){this.appendKeyword("case"),e.caseExprOpt&&this.travel(e.caseExprOpt),this.travel(e.whenThenList),e.else&&(this.appendKeyword("else"),this.travel(e.else)),this.appendKeyword("end")},a.prototype.travelPrefix=function(e){this.appendKeyword(e.prefix),this.travel(e.value)},a.prototype.travelSimpleExprParentheses=function(e){e.hasRow&&this.appendKeyword("row"),this.append("(",!1,!0),this.travel(e.value),this.append(")",!0)},a.prototype.travelSubQuery=function(e){e.hasExists&&this.appendKeyword("exists"),this.append("(",!1,!0),this.travel(e.value),this.append(")",!0)},a.prototype.travelIdentifierExpr=function(e){this.append("{"),this.travel(e.identifier),this.travel(e.value),this.append("}")},a.prototype.travelBitExpression=function(e){this.travel(e.left),this.appendKeyword(e.operator),this.travel(e.right)},a.prototype.travelInSubQueryPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("in"),this.append("(",!1,!0),this.travel(e.right),this.append(")")},a.prototype.travelInExpressionListPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("in"),this.append("(",!1,!0),this.travel(e.right),this.append(")")},a.prototype.travelBetweenPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("between"),this.travel(e.right.left),this.appendKeyword("and"),this.travel(e.right.right)},a.prototype.travelSoundsLikePredicate=function(e){this.travel(e.left),this.appendKeyword("sounds"),this.appendKeyword("like"),this.travel(e.right)},a.prototype.travelLikePredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("like"),this.travel(e.right),e.escape&&(this.appendKeyword("escape"),this.travel(e.escape))},a.prototype.travelRegexpPredicate=function(e){this.travel(e.left),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("regexp"),this.travel(e.right)},a.prototype.travelIsNullBooleanPrimary=function(e){this.travel(e.value),this.appendKeyword("is"),e.hasNot&&this.appendKeyword("not"),this.appendKeyword("null")},a.prototype.travelComparisonBooleanPrimary=function(e){this.travel(e.left),this.append(e.operator),this.travel(e.right)},a.prototype.travelComparisonSubQueryBooleanPrimary=function(e){this.travel(e.left),this.append(e.operator),this.appendKeyword(e.subQueryOpt),this.append("(",!1,!0),this.travel(e.right),this.append(")")},a.prototype.travelExpressionList=function(e){for(var s=e.value,t=0;t<s.length;t++)this.travel(s[t]),t!==s.length-1&&this.append(",",!0)},a.prototype.travelGroupBy=function(e){this.appendKeyword("group by");for(var s=e.value,t=0;t<s.length;t++)this.travel(s[t]),t!==s.length-1&&this.append(",",!0)},a.prototype.travelOrderBy=function(e){this.appendKeyword("order by");for(var s=e.value,t=0;t<s.length;t++)this.travel(s[t]),t!==s.length-1&&this.append(",",!0);e.rollUp&&this.appendKeyword("with rollup")},a.prototype.travelGroupByOrderByItem=function(e){this.travel(e.value),e.sortOpt&&this.appendKeyword(e.sortOpt)},a.prototype.travelLimit=function(e){this.appendKeyword("limit");var s=e.value;1===s.length?this.append(s[0]):2===s.length&&(e.offsetMode?(this.append(s[1]),this.append("offset"),this.append(s[0])):(this.append(s[0]),this.append(",",!0),this.append(s[1])))},a.prototype.travelTableReferences=function(e){var s=e.value;e.TableReferences&&this.append("(",!1,!0);for(var t=0;t<s.length;t++)this.travel(s[t]),t!==s.length-1&&this.append(",",!0);e.TableReferences&&this.append(")")},a.prototype.travelTableReference=function(e){e.hasOj?(this.append("{"),this.appendKeyword("oj"),this.travel(e.value),this.append("}")):this.travel(e.value)},a.prototype.travelInnerCrossJoinTable=function(e){this.travel(e.left),e.innerCrossOpt&&this.appendKeyword(e.innerCrossOpt),this.appendKeyword("join"),this.travel(e.right),e.condition&&this.travel(e.condition)},a.prototype.travelStraightJoinTable=function(e){this.travel(e.left),this.appendKeyword("straight_join"),this.travel(e.right),this.travel(e.condition)},a.prototype.travelLeftRightJoinTable=function(e){this.travel(e.left),this.appendKeyword(e.leftRight),e.outOpt&&this.appendKeyword(e.outOpt),this.appendKeyword("join"),this.travel(e.right),this.travel(e.condition)},a.prototype.travelNaturalJoinTable=function(e){this.travel(e.left),this.appendKeyword("natural"),e.leftRight&&this.appendKeyword(e.leftRight),e.outOpt&&this.appendKeyword(e.outOpt),this.appendKeyword("join"),this.travel(e.right)},a.prototype.travelOnJoinCondition=function(e){this.appendKeyword("on"),this.travel(e.value)},a.prototype.travelUsingJoinCondition=function(e){this.appendKeyword("using"),this.appendKeyword("(",!1,!0),this.travel(e.value),this.appendKeyword(")")},a.prototype.travelPartitions=function(e){this.appendKeyword("partition"),this.appendKeyword("(",!1,!0);for(var s=e.value,t=0;t<s.length;t++)this.travel(s[t]),t!==s.length-1&&this.append(",",!0);this.appendKeyword(")")},a.prototype.travelForOptIndexHint=function(e){this.appendKeyword("for"),this.appendKeyword(e.value)},a.prototype.travelIndexList=function(e){for(var s=e.value,t=0;t<s.length;t++)this.travel(s[t]),t!==s.length-1&&this.append(",",!0)},a.prototype.travelUseIndexHint=function(e){this.appendKeyword("use"),this.appendKeyword(e.indexOrKey),e.forOpt&&this.travel(e.forOpt),this.appendKeyword("(",!1,!0),e.value&&this.travel(e.value),this.appendKeyword(")")},a.prototype.travelIgnoreIndexHint=function(e){this.appendKeyword("ignore"),this.appendKeyword(e.indexOrKey),e.forOpt&&this.travel(e.forOpt),this.appendKeyword("(",!1,!0),e.value&&this.travel(e.value),this.appendKeyword(")")},a.prototype.travelForceIndexHint=function(e){this.appendKeyword("force"),this.appendKeyword(e.indexOrKey),e.forOpt&&this.travel(e.forOpt),this.appendKeyword("(",!1,!0),e.value&&this.travel(e.value),this.appendKeyword(")")},a.prototype.travelTableFactor=function(e){this.travel(e.value),e.partition&&this.travel(e.partition),e.alias&&(e.hasAs&&this.appendKeyword("as"),this.travel(e.alias)),e.indexHintOpt&&this.travel(e.indexHintOpt)},a.prototype.travelUnion=function(e){this.travel(e.left),this.appendKeyword("UNION"),e.distinctOpt&&this.appendKeyword(e.distinctOpt),this.travel(e.right)},a.prototype.travelSelectParenthesized=function(e){this.appendKeyword("("),this.travel(e.value),this.appendKeyword(")")},void 0===(t=function(){return r}.apply(s,[]))||(e.exports=t)},6586:(e,s,t)=>{var r=t(7753),a=t(2452),n=t(2115),o=t(8256),l=t(7426);function i(e){var s=-1,t=null==e?0:e.length;for(this.clear();++s<t;){var r=e[s];this.set(r[0],r[1])}}i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=n,i.prototype.has=o,i.prototype.set=l,e.exports=i},6301:(e,s,t)=>{var r=t(9417),a=t(2470),n=t(6165),o=t(1873),l=t(2556);function i(e){var s=-1,t=null==e?0:e.length;for(this.clear();++s<t;){var r=e[s];this.set(r[0],r[1])}}i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=n,i.prototype.has=o,i.prototype.set=l,e.exports=i},4538:(e,s,t)=>{var r=t(1822)(t(7400),"Map");e.exports=r},4554:(e,s,t)=>{var r=t(9448),a=t(7738),n=t(6575),o=t(7238),l=t(8738);function i(e){var s=-1,t=null==e?0:e.length;for(this.clear();++s<t;){var r=e[s];this.set(r[0],r[1])}}i.prototype.clear=r,i.prototype.delete=a,i.prototype.get=n,i.prototype.has=o,i.prototype.set=l,e.exports=i},3694:(e,s,t)=>{var r=t(6301),a=t(7354),n=t(5863),o=t(2367),l=t(748),i=t(7569);function c(e){var s=this.__data__=new r(e);this.size=s.size}c.prototype.clear=a,c.prototype.delete=n,c.prototype.get=o,c.prototype.has=l,c.prototype.set=i,e.exports=c},6539:(e,s,t)=>{var r=t(7400).Symbol;e.exports=r},9942:(e,s,t)=>{var r=t(7400).Uint8Array;e.exports=r},9349:e=>{e.exports=function(e,s,t){switch(t.length){case 0:return e.call(s);case 1:return e.call(s,t[0]);case 2:return e.call(s,t[0],t[1]);case 3:return e.call(s,t[0],t[1],t[2])}return e.apply(s,t)}},8213:(e,s,t)=>{var r=t(4701),a=t(2900),n=t(9785),o=t(3854),l=t(2383),i=t(8519),c=Object.prototype.hasOwnProperty;e.exports=function(e,s){var t=n(e),p=!t&&a(e),m=!t&&!p&&o(e),u=!t&&!p&&!m&&i(e),b=t||p||m||u,_=b?r(e.length,String):[],y=_.length;for(var $ in e)!s&&!c.call(e,$)||b&&("length"==$||m&&("offset"==$||"parent"==$)||u&&("buffer"==$||"byteLength"==$||"byteOffset"==$)||l($,y))||_.push($);return _}},3140:(e,s,t)=>{var r=t(8799),a=t(5638);e.exports=function(e,s,t){(void 0!==t&&!a(e[s],t)||void 0===t&&!(s in e))&&r(e,s,t)}},1928:(e,s,t)=>{var r=t(8799),a=t(5638),n=Object.prototype.hasOwnProperty;e.exports=function(e,s,t){var o=e[s];n.call(e,s)&&a(o,t)&&(void 0!==t||s in e)||r(e,s,t)}},3382:(e,s,t)=>{var r=t(5638);e.exports=function(e,s){for(var t=e.length;t--;)if(r(e[t][0],s))return t;return-1}},8799:(e,s,t)=>{var r=t(2630);e.exports=function(e,s,t){"__proto__"==s&&r?r(e,s,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[s]=t}},158:(e,s,t)=>{var r=t(1611),a=Object.create,n=function(){function e(){}return function(s){if(!r(s))return{};if(a)return a(s);e.prototype=s;var t=new e;return e.prototype=void 0,t}}();e.exports=n},9819:(e,s,t)=>{var r=t(8911)();e.exports=r},9736:(e,s,t)=>{var r=t(6539),a=t(4840),n=t(1258),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):n(e)}},5829:(e,s,t)=>{var r=t(9736),a=t(2360);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},6729:(e,s,t)=>{var r=t(8338),a=t(9678),n=t(1611),o=t(6532),l=/^\[object .+?Constructor\]$/,i=Function.prototype,c=Object.prototype,p=i.toString,m=c.hasOwnProperty,u=RegExp("^"+p.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!n(e)||a(e))&&(r(e)?u:l).test(o(e))}},6972:(e,s,t)=>{var r=t(9736),a=t(4194),n=t(2360),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return n(e)&&a(e.length)&&!!o[r(e)]}},9464:(e,s,t)=>{var r=t(1611),a=t(6016),n=t(1586),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return n(e);var s=a(e),t=[];for(var l in e)("constructor"!=l||!s&&o.call(e,l))&&t.push(l);return t}},15:(e,s,t)=>{var r=t(3694),a=t(3140),n=t(9819),o=t(8867),l=t(1611),i=t(3893),c=t(7494);e.exports=function e(s,t,p,m,u){s!==t&&n(t,(function(n,i){if(u||(u=new r),l(n))o(s,t,i,p,e,m,u);else{var b=m?m(c(s,i),n,i+"",s,t,u):void 0;void 0===b&&(b=n),a(s,i,b)}}),i)}},8867:(e,s,t)=>{var r=t(3140),a=t(2734),n=t(3428),o=t(7561),l=t(7635),i=t(2900),c=t(9785),p=t(6468),m=t(3854),u=t(8338),b=t(1611),_=t(861),y=t(8519),$=t(7494),d=t(9328);e.exports=function(e,s,t,f,h,x,w){var k=$(e,t),v=$(s,t),g=w.get(v);if(g)r(e,t,g);else{var A=x?x(k,v,t+"",e,s,w):void 0,E=void 0===A;if(E){var O=c(v),T=!O&&m(v),S=!O&&!T&&y(v);A=v,O||T||S?c(k)?A=k:p(k)?A=o(k):T?(E=!1,A=a(v,!0)):S?(E=!1,A=n(v,!0)):A=[]:_(v)||i(v)?(A=k,i(k)?A=d(k):b(k)&&!u(k)||(A=l(v))):E=!1}E&&(w.set(v,A),h(A,v,f,x,w),w.delete(v)),r(e,t,A)}}},1197:(e,s,t)=>{var r=t(1137),a=t(1871),n=t(3132);e.exports=function(e,s){return n(a(e,s,r),e+"")}},4459:(e,s,t)=>{var r=t(551),a=t(2630),n=t(1137),o=a?function(e,s){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(s),writable:!0})}:n;e.exports=o},4701:e=>{e.exports=function(e,s){for(var t=-1,r=Array(e);++t<e;)r[t]=s(t);return r}},9334:e=>{e.exports=function(e){return function(s){return e(s)}}},5825:(e,s,t)=>{var r=t(9942);e.exports=function(e){var s=new e.constructor(e.byteLength);return new r(s).set(new r(e)),s}},2734:(e,s,t)=>{e=t.nmd(e);var r=t(7400),a=s&&!s.nodeType&&s,n=a&&e&&!e.nodeType&&e,o=n&&n.exports===a?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;e.exports=function(e,s){if(s)return e.slice();var t=e.length,r=l?l(t):new e.constructor(t);return e.copy(r),r}},3428:(e,s,t)=>{var r=t(5825);e.exports=function(e,s){var t=s?r(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}},7561:e=>{e.exports=function(e,s){var t=-1,r=e.length;for(s||(s=Array(r));++t<r;)s[t]=e[t];return s}},5159:(e,s,t)=>{var r=t(1928),a=t(8799);e.exports=function(e,s,t,n){var o=!t;t||(t={});for(var l=-1,i=s.length;++l<i;){var c=s[l],p=n?n(t[c],e[c],c,t,e):void 0;void 0===p&&(p=e[c]),o?a(t,c,p):r(t,c,p)}return t}},4937:(e,s,t)=>{var r=t(7400)["__core-js_shared__"];e.exports=r},7270:(e,s,t)=>{var r=t(1197),a=t(7535);e.exports=function(e){return r((function(s,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,l=n>2?t[2]:void 0;for(o=e.length>3&&"function"==typeof o?(n--,o):void 0,l&&a(t[0],t[1],l)&&(o=n<3?void 0:o,n=1),s=Object(s);++r<n;){var i=t[r];i&&e(s,i,r,o)}return s}))}},8911:e=>{e.exports=function(e){return function(s,t,r){for(var a=-1,n=Object(s),o=r(s),l=o.length;l--;){var i=o[e?l:++a];if(!1===t(n[i],i,n))break}return s}}},9491:(e,s,t)=>{var r=t(15),a=t(1611);e.exports=function e(s,t,n,o,l,i){return a(s)&&a(t)&&(i.set(t,s),r(s,t,void 0,e,i),i.delete(t)),s}},2630:(e,s,t)=>{var r=t(1822),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},9120:(e,s,t)=>{var r="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;e.exports=r},5899:(e,s,t)=>{var r=t(4479);e.exports=function(e,s){var t=e.__data__;return r(s)?t["string"==typeof s?"string":"hash"]:t.map}},1822:(e,s,t)=>{var r=t(6729),a=t(5371);e.exports=function(e,s){var t=a(e,s);return r(t)?t:void 0}},2173:(e,s,t)=>{var r=t(8023)(Object.getPrototypeOf,Object);e.exports=r},4840:(e,s,t)=>{var r=t(6539),a=Object.prototype,n=a.hasOwnProperty,o=a.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var s=n.call(e,l),t=e[l];try{e[l]=void 0;var r=!0}catch(e){}var a=o.call(e);return r&&(s?e[l]=t:delete e[l]),a}},5371:e=>{e.exports=function(e,s){return null==e?void 0:e[s]}},7753:(e,s,t)=>{var r=t(5718);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2452:e=>{e.exports=function(e){var s=this.has(e)&&delete this.__data__[e];return this.size-=s?1:0,s}},2115:(e,s,t)=>{var r=t(5718),a=Object.prototype.hasOwnProperty;e.exports=function(e){var s=this.__data__;if(r){var t=s[e];return"__lodash_hash_undefined__"===t?void 0:t}return a.call(s,e)?s[e]:void 0}},8256:(e,s,t)=>{var r=t(5718),a=Object.prototype.hasOwnProperty;e.exports=function(e){var s=this.__data__;return r?void 0!==s[e]:a.call(s,e)}},7426:(e,s,t)=>{var r=t(5718);e.exports=function(e,s){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=r&&void 0===s?"__lodash_hash_undefined__":s,this}},7635:(e,s,t)=>{var r=t(158),a=t(2173),n=t(6016);e.exports=function(e){return"function"!=typeof e.constructor||n(e)?{}:r(a(e))}},2383:e=>{var s=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&s.test(e))&&e>-1&&e%1==0&&e<t}},7535:(e,s,t)=>{var r=t(5638),a=t(68),n=t(2383),o=t(1611);e.exports=function(e,s,t){if(!o(t))return!1;var l=typeof s;return!!("number"==l?a(t)&&n(s,t.length):"string"==l&&s in t)&&r(t[s],e)}},4479:e=>{e.exports=function(e){var s=typeof e;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==e:null===e}},9678:(e,s,t)=>{var r,a=t(4937),n=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!n&&n in e}},6016:e=>{var s=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||s)}},9417:e=>{e.exports=function(){this.__data__=[],this.size=0}},2470:(e,s,t)=>{var r=t(3382),a=Array.prototype.splice;e.exports=function(e){var s=this.__data__,t=r(s,e);return!(t<0||(t==s.length-1?s.pop():a.call(s,t,1),--this.size,0))}},6165:(e,s,t)=>{var r=t(3382);e.exports=function(e){var s=this.__data__,t=r(s,e);return t<0?void 0:s[t][1]}},1873:(e,s,t)=>{var r=t(3382);e.exports=function(e){return r(this.__data__,e)>-1}},2556:(e,s,t)=>{var r=t(3382);e.exports=function(e,s){var t=this.__data__,a=r(t,e);return a<0?(++this.size,t.push([e,s])):t[a][1]=s,this}},9448:(e,s,t)=>{var r=t(6586),a=t(6301),n=t(4538);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(n||a),string:new r}}},7738:(e,s,t)=>{var r=t(5899);e.exports=function(e){var s=r(this,e).delete(e);return this.size-=s?1:0,s}},6575:(e,s,t)=>{var r=t(5899);e.exports=function(e){return r(this,e).get(e)}},7238:(e,s,t)=>{var r=t(5899);e.exports=function(e){return r(this,e).has(e)}},8738:(e,s,t)=>{var r=t(5899);e.exports=function(e,s){var t=r(this,e),a=t.size;return t.set(e,s),this.size+=t.size==a?0:1,this}},5718:(e,s,t)=>{var r=t(1822)(Object,"create");e.exports=r},1586:e=>{e.exports=function(e){var s=[];if(null!=e)for(var t in Object(e))s.push(t);return s}},8125:(e,s,t)=>{e=t.nmd(e);var r=t(9120),a=s&&!s.nodeType&&s,n=a&&e&&!e.nodeType&&e,o=n&&n.exports===a&&r.process,l=function(){try{return n&&n.require&&n.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=l},1258:e=>{var s=Object.prototype.toString;e.exports=function(e){return s.call(e)}},8023:e=>{e.exports=function(e,s){return function(t){return e(s(t))}}},1871:(e,s,t)=>{var r=t(9349),a=Math.max;e.exports=function(e,s,t){return s=a(void 0===s?e.length-1:s,0),function(){for(var n=arguments,o=-1,l=a(n.length-s,0),i=Array(l);++o<l;)i[o]=n[s+o];o=-1;for(var c=Array(s+1);++o<s;)c[o]=n[o];return c[s]=t(i),r(e,this,c)}}},7400:(e,s,t)=>{var r=t(9120),a="object"==typeof self&&self&&self.Object===Object&&self,n=r||a||Function("return this")();e.exports=n},7494:e=>{e.exports=function(e,s){if(("constructor"!==s||"function"!=typeof e[s])&&"__proto__"!=s)return e[s]}},3132:(e,s,t)=>{var r=t(4459),a=t(9591)(r);e.exports=a},9591:e=>{var s=Date.now;e.exports=function(e){var t=0,r=0;return function(){var a=s(),n=16-(a-r);if(r=a,n>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},7354:(e,s,t)=>{var r=t(6301);e.exports=function(){this.__data__=new r,this.size=0}},5863:e=>{e.exports=function(e){var s=this.__data__,t=s.delete(e);return this.size=s.size,t}},2367:e=>{e.exports=function(e){return this.__data__.get(e)}},748:e=>{e.exports=function(e){return this.__data__.has(e)}},7569:(e,s,t)=>{var r=t(6301),a=t(4538),n=t(4554);e.exports=function(e,s){var t=this.__data__;if(t instanceof r){var o=t.__data__;if(!a||o.length<199)return o.push([e,s]),this.size=++t.size,this;t=this.__data__=new n(o)}return t.set(e,s),this.size=t.size,this}},6532:e=>{var s=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return s.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},551:e=>{e.exports=function(e){return function(){return e}}},3533:(e,s,t)=>{var r=t(9349),a=t(1197),n=t(9491),o=t(3952),l=a((function(e){return e.push(void 0,n),r(o,void 0,e)}));e.exports=l},5638:e=>{e.exports=function(e,s){return e===s||e!=e&&s!=s}},1137:e=>{e.exports=function(e){return e}},2900:(e,s,t)=>{var r=t(5829),a=t(2360),n=Object.prototype,o=n.hasOwnProperty,l=n.propertyIsEnumerable,i=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!l.call(e,"callee")};e.exports=i},9785:e=>{var s=Array.isArray;e.exports=s},68:(e,s,t)=>{var r=t(8338),a=t(4194);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6468:(e,s,t)=>{var r=t(68),a=t(2360);e.exports=function(e){return a(e)&&r(e)}},3854:(e,s,t)=>{e=t.nmd(e);var r=t(7400),a=t(7714),n=s&&!s.nodeType&&s,o=n&&e&&!e.nodeType&&e,l=o&&o.exports===n?r.Buffer:void 0,i=(l?l.isBuffer:void 0)||a;e.exports=i},8338:(e,s,t)=>{var r=t(9736),a=t(1611);e.exports=function(e){if(!a(e))return!1;var s=r(e);return"[object Function]"==s||"[object GeneratorFunction]"==s||"[object AsyncFunction]"==s||"[object Proxy]"==s}},4194:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},1611:e=>{e.exports=function(e){var s=typeof e;return null!=e&&("object"==s||"function"==s)}},2360:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},861:(e,s,t)=>{var r=t(9736),a=t(2173),n=t(2360),o=Function.prototype,l=Object.prototype,i=o.toString,c=l.hasOwnProperty,p=i.call(Object);e.exports=function(e){if(!n(e)||"[object Object]"!=r(e))return!1;var s=a(e);if(null===s)return!0;var t=c.call(s,"constructor")&&s.constructor;return"function"==typeof t&&t instanceof t&&i.call(t)==p}},8519:(e,s,t)=>{var r=t(6972),a=t(9334),n=t(8125),o=n&&n.isTypedArray,l=o?a(o):r;e.exports=l},3893:(e,s,t)=>{var r=t(8213),a=t(9464),n=t(68);e.exports=function(e){return n(e)?r(e,!0):a(e)}},3952:(e,s,t)=>{var r=t(15),a=t(7270)((function(e,s,t,a){r(e,s,t,a)}));e.exports=a},7714:e=>{e.exports=function(){return!1}},9328:(e,s,t)=>{var r=t(5159),a=t(3893);e.exports=function(e){return r(e,a(e))}},985:function(e,s){var t,r;void 0===(r="function"==typeof(t=function(){"use strict";var e=Object.prototype.hasOwnProperty,s=Object.prototype.toString,t="boolean"==typeof(new RegExp).sticky;function r(e){return e&&"[object RegExp]"===s.call(e)}function a(e){return e&&"object"==typeof e&&!r(e)&&!Array.isArray(e)}function n(e){return"("+e+")"}function o(e){return e.length?"(?:"+e.map((function(e){return"(?:"+e+")"})).join("|")+")":"(?!)"}function l(e){if("string"==typeof e)return"(?:"+(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")");if(r(e)){if(e.ignoreCase)throw new Error("RegExp /i flag not allowed");if(e.global)throw new Error("RegExp /g flag is implied");if(e.sticky)throw new Error("RegExp /y flag is implied");if(e.multiline)throw new Error("RegExp /m flag is implied");return e.source}throw new Error("Not a pattern: "+e)}function i(s,t){if(a(t)||(t={match:t}),t.include)throw new Error("Matching rules cannot also include states");var n={defaultType:s,lineBreaks:!!t.error||!!t.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var o in t)e.call(t,o)&&(n[o]=t[o]);if("string"==typeof n.type&&s!==n.type)throw new Error("Type transform cannot be a string (type '"+n.type+"' for token '"+s+"')");var l=n.match;return n.match=Array.isArray(l)?l:l?[l]:[],n.match.sort((function(e,s){return r(e)&&r(s)?0:r(s)?-1:r(e)?1:s.length-e.length})),n}function c(e){return Array.isArray(e)?function(e){for(var s=[],t=0;t<e.length;t++){var r=e[t];if(r.include)for(var a=[].concat(r.include),n=0;n<a.length;n++)s.push({include:a[n]});else{if(!r.type)throw new Error("Rule has no type: "+JSON.stringify(r));s.push(i(r.type,r))}}return s}(e):function(e){for(var s=Object.getOwnPropertyNames(e),t=[],r=0;r<s.length;r++){var n=s[r],o=e[n],l=[].concat(o);if("include"!==n){var c=[];l.forEach((function(e){a(e)?(c.length&&t.push(i(n,c)),t.push(i(n,e)),c=[]):c.push(e)})),c.length&&t.push(i(n,c))}else for(var p=0;p<l.length;p++)t.push({include:l[p]})}return t}(e)}var p=i("error",{lineBreaks:!0,shouldThrow:!0});function m(e,s){for(var a=null,i=Object.create(null),c=!0,m=null,u=[],b=[],_=0;_<e.length;_++)e[_].fallback&&(c=!1);for(_=0;_<e.length;_++){var y=e[_];if(y.include)throw new Error("Inheritance is not allowed in stateless lexers");if(y.error||y.fallback){if(a)throw!y.fallback==!a.fallback?new Error("Multiple "+(y.fallback?"fallback":"error")+" rules not allowed (for token '"+y.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+y.defaultType+"')");a=y}var $=y.match.slice();if(c)for(;$.length&&"string"==typeof $[0]&&1===$[0].length;)i[$.shift().charCodeAt(0)]=y;if(y.pop||y.push||y.next){if(!s)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+y.defaultType+"')");if(y.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+y.defaultType+"')")}if(0!==$.length){c=!1,u.push(y);for(var d=0;d<$.length;d++){var f=$[d];if(r(f))if(null===m)m=f.unicode;else if(m!==f.unicode&&!1===y.fallback)throw new Error("If one rule is /u then all must be")}var h=o($.map(l)),x=new RegExp(h);if(x.test(""))throw new Error("RegExp matches empty string: "+x);if(new RegExp("|"+h).exec("").length-1>0)throw new Error("RegExp has capture groups: "+x+"\nUse (?:  ) instead");if(!y.lineBreaks&&x.test("\n"))throw new Error("Rule should declare lineBreaks: "+x);b.push(n(h))}}var w=a&&a.fallback,k=t&&!w?"ym":"gm",v=t||w?"":"|";return!0===m&&(k+="u"),{regexp:new RegExp(o(b)+v,k),groups:u,fast:i,error:a||p}}function u(e,s,t){var r=e&&(e.push||e.next);if(r&&!t[r])throw new Error("Missing state '"+r+"' (in token '"+e.defaultType+"' of state '"+s+"')");if(e&&e.pop&&1!=+e.pop)throw new Error("pop must be 1 (in token '"+e.defaultType+"' of state '"+s+"')")}var b=function(e,s){this.startState=s,this.states=e,this.buffer="",this.stack=[],this.reset()};b.prototype.reset=function(e,s){return this.buffer=e||"",this.index=0,this.line=s?s.line:1,this.col=s?s.col:1,this.queuedToken=s?s.queuedToken:null,this.queuedThrow=s?s.queuedThrow:null,this.setState(s?s.state:this.startState),this.stack=s&&s.stack?s.stack.slice():[],this},b.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},b.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var s=this.states[e];this.groups=s.groups,this.error=s.error,this.re=s.regexp,this.fast=s.fast}},b.prototype.popState=function(){this.setState(this.stack.pop())},b.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)};var _=t?function(e,s){return e.exec(s)}:function(e,s){var t=e.exec(s);return 0===t[0].length?null:t};function y(){return this.value}if(b.prototype._getGroup=function(e){for(var s=this.groups.length,t=0;t<s;t++)if(void 0!==e[t+1])return this.groups[t];throw new Error("Cannot find token type for matched text")},b.prototype.next=function(){var e=this.index;if(this.queuedGroup){var s=this._token(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",s}var t=this.buffer;if(e!==t.length){if(o=this.fast[t.charCodeAt(e)])return this._token(o,t.charAt(e),e);var r=this.re;r.lastIndex=e;var a=_(r,t),n=this.error;if(null==a)return this._token(n,t.slice(e,t.length),e);var o=this._getGroup(a),l=a[0];return n.fallback&&a.index!==e?(this.queuedGroup=o,this.queuedText=l,this._token(n,t.slice(e,a.index),e)):this._token(o,l,e)}},b.prototype._token=function(e,s,t){var r=0;if(e.lineBreaks){var a=/\n/g,n=1;if("\n"===s)r=1;else for(;a.exec(s);)r++,n=a.lastIndex}var o={type:"function"==typeof e.type&&e.type(s)||e.defaultType,value:"function"==typeof e.value?e.value(s):s,text:s,toString:y,offset:t,lineBreaks:r,line:this.line,col:this.col},l=s.length;if(this.index+=l,this.line+=r,0!==r?this.col=l-n+1:this.col+=l,e.shouldThrow)throw new Error(this.formatError(o,"invalid syntax"));return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),o},"undefined"!=typeof Symbol&&Symbol.iterator){var $=function(e){this.lexer=e};$.prototype.next=function(){var e=this.lexer.next();return{value:e,done:!e}},$.prototype[Symbol.iterator]=function(){return this},b.prototype[Symbol.iterator]=function(){return new $(this)}}return b.prototype.formatError=function(e,s){if(null==e){var t=this.buffer.slice(this.index);e={text:t,offset:this.index,lineBreaks:-1===t.indexOf("\n")?0:1,line:this.line,col:this.col}}var r=Math.max(0,e.offset-e.col+1),a=e.lineBreaks?e.text.indexOf("\n"):e.text.length,n=this.buffer.substring(r,e.offset+a);return s+=" at line "+e.line+" col "+e.col+":\n\n",(s+="  "+n+"\n")+"  "+Array(e.col).join(" ")+"^"},b.prototype.clone=function(){return new b(this.states,this.state)},b.prototype.has=function(e){return!0},{compile:function(e){var s=m(c(e));return new b({start:s},"start")},states:function(e,s){var t=e.$all?c(e.$all):[];delete e.$all;var r=Object.getOwnPropertyNames(e);s||(s=r[0]);for(var a=Object.create(null),n=0;n<r.length;n++)a[h=r[n]]=c(e[h]).concat(t);for(n=0;n<r.length;n++)for(var o=a[h=r[n]],l=Object.create(null),i=0;i<o.length;i++){var p=o[i];if(p.include){var _=[i,1];if(p.include!==h&&!l[p.include]){l[p.include]=!0;var y=a[p.include];if(!y)throw new Error("Cannot include nonexistent state '"+p.include+"' (in state '"+h+"')");for(var $=0;$<y.length;$++){var d=y[$];-1===o.indexOf(d)&&_.push(d)}}o.splice.apply(o,_),i--}}var f=Object.create(null);for(n=0;n<r.length;n++){var h;f[h=r[n]]=m(a[h],!0)}for(n=0;n<r.length;n++){var x=r[n],w=f[x],k=w.groups;for(i=0;i<k.length;i++)u(k[i],x,f);var v=Object.getOwnPropertyNames(w.fast);for(i=0;i<v.length;i++)u(w.fast[v[i]],x,f)}return new b(f,s)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(e){for(var s=Object.create(null),t=Object.create(null),r=Object.getOwnPropertyNames(e),a=0;a<r.length;a++){var n=r[a],o=e[n];(Array.isArray(o)?o:[o]).forEach((function(e){if((t[e.length]=t[e.length]||[]).push(e),"string"!=typeof e)throw new Error("keyword must be string (in keyword '"+n+"')");s[e]=n}))}function l(e){return JSON.stringify(e)}var i="";for(var c in i+="switch (value.length) {\n",t){var p=t[c];i+="case "+c+":\n",i+="switch (value) {\n",p.forEach((function(e){var t=s[e];i+="case "+l(e)+": return "+l(t)+"\n"})),i+="}\n"}return i+="}\n",Function("value",i)}}})?t.apply(s,[]):t)||(e.exports=r)},7606:function(e){var s;s=function(){function e(s,t,r){return this.id=++e.highestId,this.name=s,this.symbols=t,this.postprocess=r,this}function s(e,s,t,r){this.rule=e,this.dot=s,this.reference=t,this.data=[],this.wantedBy=r,this.isComplete=this.dot===e.symbols.length}function t(e,s){this.grammar=e,this.index=s,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(e,s){this.rules=e,this.start=s||this.rules[0].name;var t=this.byName={};this.rules.forEach((function(e){t.hasOwnProperty(e.name)||(t[e.name]=[]),t[e.name].push(e)}))}function a(){this.reset("")}function n(e,s,n){if(e instanceof r){var o=e;n=s}else o=r.fromCompiled(e,s);for(var l in this.grammar=o,this.options={keepHistory:!1,lexer:o.lexer||new a},n||{})this.options[l]=n[l];this.lexer=this.options.lexer,this.lexerState=void 0;var i=new t(o,0);this.table=[i],i.wants[o.start]=[],i.predict(o.start),i.process(),this.current=0}function o(e){var s=typeof e;if("string"===s)return e;if("object"===s){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return e.toString();if(e.type)return"%"+e.type;if(e.test)return"<"+String(e.test)+">";throw new Error("Unknown symbol type: "+e)}}return e.highestId=0,e.prototype.toString=function(e){var s=void 0===e?this.symbols.map(o).join(" "):this.symbols.slice(0,e).map(o).join(" ")+"  "+this.symbols.slice(e).map(o).join(" ");return this.name+"  "+s},s.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},s.prototype.nextState=function(e){var t=new s(this.rule,this.dot+1,this.reference,this.wantedBy);return t.left=this,t.right=e,t.isComplete&&(t.data=t.build(),t.right=void 0),t},s.prototype.build=function(){var e=[],s=this;do{e.push(s.right.data),s=s.left}while(s.left);return e.reverse(),e},s.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,n.fail))},t.prototype.process=function(e){for(var s=this.states,t=this.wants,r=this.completed,a=0;a<s.length;a++){var o=s[a];if(o.isComplete){if(o.finish(),o.data!==n.fail){for(var l=o.wantedBy,i=l.length;i--;){var c=l[i];this.complete(c,o)}if(o.reference===this.index){var p=o.rule.name;(this.completed[p]=this.completed[p]||[]).push(o)}}}else{if("string"!=typeof(p=o.rule.symbols[o.dot])){this.scannable.push(o);continue}if(t[p]){if(t[p].push(o),r.hasOwnProperty(p)){var m=r[p];for(i=0;i<m.length;i++){var u=m[i];this.complete(o,u)}}}else t[p]=[o],this.predict(p)}}},t.prototype.predict=function(e){for(var t=this.grammar.byName[e]||[],r=0;r<t.length;r++){var a=t[r],n=this.wants[e],o=new s(a,0,this.index,n);this.states.push(o)}},t.prototype.complete=function(e,s){var t=e.nextState(s);this.states.push(t)},r.fromCompiled=function(s,t){var a=s.Lexer;s.ParserStart&&(t=s.ParserStart,s=s.ParserRules);var n=new r(s=s.map((function(s){return new e(s.name,s.symbols,s.postprocess)})),t);return n.lexer=a,n},a.prototype.reset=function(e,s){this.buffer=e,this.index=0,this.line=s?s.line:1,this.lastLineBreak=s?-s.col:0},a.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},a.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},a.prototype.formatError=function(e,s){var t=this.buffer;if("string"==typeof t){var r=t.split("\n").slice(Math.max(0,this.line-5),this.line),a=t.indexOf("\n",this.index);-1===a&&(a=t.length);var n=this.index-this.lastLineBreak,o=String(this.line).length;return s+=" at line "+this.line+" col "+n+":\n\n",(s+=r.map((function(e,s){return l(this.line-r.length+s+1,o)+" "+e}),this).join("\n"))+"\n"+l("",o+n)+"^\n"}return s+" at index "+(this.index-1);function l(e,s){var t=String(e);return Array(s-t.length+1).join(" ")+t}},n.fail={},n.prototype.feed=function(e){var s,r=this.lexer;for(r.reset(e,this.lexerState);;){try{if(!(s=r.next()))break}catch(e){var n=new t(this.grammar,this.current+1);throw this.table.push(n),(i=new Error(this.reportLexerError(e))).offset=this.current,i.token=e.token,i}var o=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var l=this.current+1;n=new t(this.grammar,l),this.table.push(n);for(var i,c=void 0!==s.text?s.text:s.value,p=r.constructor===a?s.value:s,m=o.scannable,u=m.length;u--;){var b=m[u],_=b.rule.symbols[b.dot];if(_.test?_.test(p):_.type?_.type===s.type:_.literal===c){var y=b.nextState({data:p,token:s,isToken:!0,reference:l-1});n.states.push(y)}}if(n.process(),0===n.states.length)throw(i=new Error(this.reportError(s))).offset=this.current,i.token=s,i;this.options.keepHistory&&(o.lexerState=r.save()),this.current++}return o&&(this.lexerState=r.save()),this.results=this.finish(),this},n.prototype.reportLexerError=function(e){var s,t,r=e.token;return r?(s="input "+JSON.stringify(r.text[0])+" (lexer error)",t=this.lexer.formatError(r,"Syntax error")):(s="input (lexer error)",t=e.message),this.reportErrorCommon(t,s)},n.prototype.reportError=function(e){var s=(e.type?e.type+" token: ":"")+JSON.stringify(void 0!==e.value?e.value:e),t=this.lexer.formatError(e,"Syntax error");return this.reportErrorCommon(t,s)},n.prototype.reportErrorCommon=function(e,s){var t=[];t.push(e);var r=this.table.length-2,a=this.table[r],n=a.states.filter((function(e){var s=e.rule.symbols[e.dot];return s&&"string"!=typeof s}));return 0===n.length?(t.push("Unexpected "+s+". I did not expect any more input. Here is the state of my parse table:\n"),this.displayStateStack(a.states,t)):(t.push("Unexpected "+s+". Instead, I was expecting to see one of the following:\n"),n.map((function(e){return this.buildFirstStateStack(e,[])||[e]}),this).forEach((function(e){var s=e[0],r=s.rule.symbols[s.dot],a=this.getSymbolDisplay(r);t.push("A "+a+" based on:"),this.displayStateStack(e,t)}),this)),t.push(""),t.join("\n")},n.prototype.displayStateStack=function(e,s){for(var t,r=0,a=0;a<e.length;a++){var n=e[a],o=n.rule.toString(n.dot);o===t?r++:(r>0&&s.push("    ^ "+r+" more lines identical to this"),r=0,s.push("    "+o)),t=o}},n.prototype.getSymbolDisplay=function(e){return function(e){var s=typeof e;if("string"===s)return e;if("object"===s){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return"character matching "+e;if(e.type)return e.type+" token";if(e.test)return"token matching "+String(e.test);throw new Error("Unknown symbol type: "+e)}}(e)},n.prototype.buildFirstStateStack=function(e,s){if(-1!==s.indexOf(e))return null;if(0===e.wantedBy.length)return[e];var t=e.wantedBy[0],r=[e].concat(s),a=this.buildFirstStateStack(t,r);return null===a?null:[e].concat(a)},n.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},n.prototype.restore=function(e){var s=e.index;this.current=s,this.table[s]=e,this.table.splice(s+1),this.lexerState=e.lexerState,this.results=this.finish()},n.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},n.prototype.finish=function(){var e=[],s=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(t){t.rule.name===s&&t.dot===t.rule.symbols.length&&0===t.reference&&t.data!==n.fail&&e.push(t)})),e.map((function(e){return e.data}))},{Parser:n,Grammar:r,Rule:e}},e.exports?e.exports=s():this.nearley=s()},5884:(e,s,t)=>{!function(e,s){for(var t in s)e[t]=s[t]}(s,function(e){var s={};function t(r){if(s[r])return s[r].exports;var a=s[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=s,t.d=function(e,s,r){t.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,s){if(1&s&&(e=t(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var a in e)t.d(r,a,function(s){return e[s]}.bind(null,a));return r},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},t.p="",t(t.s=7)}([function(e,s){e.exports=t(985)},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.unbox=s.doubleQuoted=s.box=s.track=s.tracking=s.trackingComments=s.lexerAny=s.lexer=void 0;const r=t(0),a=t(3),n={};for(const e of a.sqlKeywords)n["kw_"+e.toLowerCase()]=e;var o;s.lexer=(0,r.compile)({word:{match:/[eE](?!')[A-Za-z0-9_]*|[a-df-zA-DF-Z_][A-Za-z0-9_]*/,type:(e=>{const s=(0,r.keywords)(e);return e=>s(e.toUpperCase())})(n),value:e=>e.toLowerCase()},wordQuoted:{match:/"(?:[^"\*]|"")+"/,type:()=>"quoted_word",value:e=>e.substring(1,e.length-1)},string:{match:/'(?:[^']|\'\')*'/,value:e=>e.substring(1,e.length-1).replace(/''/g,"'")},eString:{match:/\b(?:e|E)'(?:[^'\\]|[\r\n\s]|(?:\\\s)|(?:\\\n)|(?:\\.)|(?:\'\'))+'/,value:e=>e.substring(2,e.length-1).replace(/''/g,"'").replace(/\\([\s\n])/g,((e,s)=>s)).replace(/\\./g,(e=>JSON.parse('"'+e+'"')))},qparam:{match:/\$\d+/},commentLine:/\-\-.*?$[\s\r\n]*/,commentFullOpen:/\/\*/,commentFullClose:/\*\/[\s\r\n]*/,star:"*",comma:",",space:{match:/[\s\t\n\v\f\r]+/,lineBreaks:!0},int:/\-?\d+(?![\.\d])/,float:/\-?(?:(?:\d*\.\d+)|(?:\d+\.\d*))/,lparen:"(",rparen:")",lbracket:"[",rbracket:"]",semicolon:";",dot:/\.(?!\d)/,op_cast:"::",op_colon:":",op_plus:"+",op_eq:"=",op_neq:{match:/(?:!=)|(?:\<\>)/,value:()=>"!="},op_membertext:"->>",op_member:"->",op_minus:"-",op_div:/\//,op_not_ilike:/\!~~\*/,op_not_like:/\!~~/,op_ilike:/~~\*/,op_like:/~~/,op_mod:"%",op_exp:"^",op_additive:{match:["||","-","#-","&&"]},op_compare:{match:[">",">=","<","<=","@>","<@","?","?|","?&","#>>",">>","<<","~","~*","!~","!~*"]},ops_others:{match:["|","&","^","#"]},codeblock:{match:/\$\$(?:.|[\s\t\n\v\f\r])*?\$\$/s,lineBreaks:!0,value:e=>e.substring(2,e.length-2)}}),s.lexer.next=(o=s.lexer.next,()=>{let e,t=null;for(;e=o.call(s.lexer);){if("commentFullOpen"===e.type){if(null===t){t={nested:0,offset:e.offset,text:e.text};continue}t.nested++}if(null==t){if("space"!==e.type){if("commentLine"!==e.type)break;null==l||l.push(i(e))}}else if(t.text+=e.text,"commentFullClose"===e.type){if(0===t.nested){null==l||l.push(i(t)),t=null;continue}t.nested--}}if(c&&e){const s=e.offset,t={start:s,end:s+e.text.length};e._location=t}return e}),s.lexerAny=s.lexer;let l=null;const i=({offset:e,text:s})=>({_location:{start:e,end:e+s.length},comment:s});s.trackingComments=function(e){if(l)throw new Error("WAT ? Recursive comments tracking  ?");try{l=[];const s=e();return{comments:l,ast:s}}finally{l=null}};let c=!1;function p(e,s){if(!c||!s||"object"!=typeof s)return s;const t=_(e,!0),r=_(e,!1);if(!t||!r)return s;if(t===r)s._location=t;else{const e={start:t.start,end:r.end};s._location=e}return s}s.tracking=function(e){if(c)return e();try{return c=!0,e()}finally{c=!1}},s.track=p;const m=Symbol("_literal"),u=Symbol("_doublequoted");function b(e){return Array.isArray(e)&&1===e.length&&(e=b(e[0])),Array.isArray(e)&&!e.length?null:e}function _(e,s){if(!e)return null;if(Array.isArray(e)){const t=s?1:-1;for(let r=s?0:e.length-1;r>=0&&r<e.length;r+=t){const t=_(e[r],s);if(t)return t}return null}return"object"!=typeof e?null:e._location}s.box=function(e,s,t){return c||t?p(e,{[m]:s,[u]:t}):s},s.doubleQuoted=function(e){const s=b(e);if("object"==typeof e&&(null==s?void 0:s[u]))return{doubleQuoted:!0}},s.unbox=function(e){var s;return"object"==typeof e&&null!==(s=null==e?void 0:e[m])&&void 0!==s?s:e}},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.AstDefaultMapper=s.arrayNilMap=s.assignChanged=s.astMapper=void 0;const r=t(6);function a(e,s){if(!e)return e;let t=!1;for(const r of Object.keys(s))if(e[r]!==s[r]){t=!0;break}return t?(0,r.trimNullish)({...e,...s},0):e}function n(e,s){if(!(null==e?void 0:e.length))return e;let t=!1,r=e;for(let a=0;a<e.length;a++){const n=e[a],o=s(n);t||o&&o===n||(t=!0,r=e.slice(0,a)),o&&t&&r.push(o)}return r}function o(e){switch(null==e?void 0:e.type){case"select":case"delete":case"insert":case"update":case"union":case"union all":case"with":return!0;default:return!1}}s.astMapper=function(e){const s=new l;return s.wrapped=e(s),s},s.assignChanged=a,s.arrayNilMap=n;class l{super(){return new c(this)}statement(e){switch(e.type){case"alter table":return this.alterTable(e);case"alter index":return this.alterIndex(e);case"commit":case"start transaction":case"rollback":return this.transaction(e);case"create index":return this.createIndex(e);case"create table":return this.createTable(e);case"truncate table":return this.truncateTable(e);case"delete":return this.delete(e);case"insert":return this.insert(e);case"with":return this.with(e);case"with recursive":return this.withRecursive(e);case"select":return this.selection(e);case"update":return this.update(e);case"create extension":return this.createExtension(e);case"tablespace":return this.tablespace(e);case"set":return this.setGlobal(e);case"set timezone":return this.setTimezone(e);case"create sequence":return this.createSequence(e);case"alter sequence":return this.alterSequence(e);case"begin":return this.begin(e);case"drop table":case"drop index":case"drop sequence":case"drop type":case"drop trigger":return this.drop(e);case"create enum":return this.createEnum(e);case"create composite type":return this.createCompositeType(e);case"union":case"union all":return this.union(e);case"show":return this.show(e);case"prepare":return this.prepare(e);case"deallocate":return this.deallocate(e);case"create view":return this.createView(e);case"create materialized view":return this.createMaterializedView(e);case"refresh materialized view":return this.refreshMaterializedView(e);case"create schema":return this.createSchema(e);case"raise":return this.raise(e);case"comment":return this.comment(e);case"do":return this.do(e);case"create function":return this.createFunction(e);case"drop function":return this.dropFunction(e);case"values":return this.values(e);default:throw r.NotSupported.never(e)}}comment(e){return e}createView(e){const s=this.select(e.query);if(!s)return null;const t=this.tableRef(e.name);return t?a(e,{query:s,name:t}):null}createMaterializedView(e){const s=this.select(e.query);if(!s)return null;const t=this.tableRef(e.name);return t?a(e,{query:s,name:t}):null}refreshMaterializedView(e){return e}do(e){return e}createFunction(e){const s=n(e.arguments,(e=>a(e,{type:this.dataType(e.type)})));let t;if(e.returns)switch(e.returns.kind){case"table":t=a(e.returns,{columns:n(e.returns.columns,(e=>{const s=this.dataType(e.type);return s&&a(e,{type:s})}))});break;case void 0:case null:case"array":t=this.dataType(e.returns);break;default:throw r.NotSupported.never(e.returns)}return a(e,{returns:t,arguments:s})}dropFunction(e){const s=n(e.arguments,(e=>a(e,{type:this.dataType(e.type)})));return a(e,{arguments:s})}show(e){return e}createEnum(e){return e}createCompositeType(e){const s=n(e.attributes,(e=>a(e,{dataType:this.dataType(e.dataType)})));return a(e,{attributes:s})}drop(e){return e}alterSequence(e){return"set options"===e.change.type&&e.change.as&&this.dataType(e.change.as),e}begin(e){return e}createSequence(e){return e.options.as&&this.dataType(e.options.as),e}tablespace(e){return e}setGlobal(e){return e}setTimezone(e){return e}update(e){if(!e)return e;const s=this.tableRef(e.table);if(!s)return null;const t=e.from&&this.from(e.from),r=e.where&&this.expr(e.where),o=n(e.sets,(e=>this.set(e)));return(null==o?void 0:o.length)?a(e,{table:s,where:r,sets:o,from:t,returning:n(e.returning,(e=>this.selectionColumn(e)))}):null}insert(e){var s,t;const o=this.tableRef(e.into);if(!o)return null;const l=e.insert&&this.select(e.insert);if(!l)return null;const i=n(e.returning,(e=>this.selectionColumn(e)));let c=null===(s=e.onConflict)||void 0===s?void 0:s.on;switch(null==c?void 0:c.type){case"on constraint":break;case"on expr":c=a(c,{exprs:n(c.exprs,(e=>this.expr(e)))});break;case null:case void 0:break;default:throw r.NotSupported.never(c)}let p=null===(t=e.onConflict)||void 0===t?void 0:t.do;if(p&&"do nothing"!==p){const e=n(p.sets,(e=>this.set(e)));(null==e?void 0:e.length)?p.sets!==e&&(p={sets:e}):p="do nothing"}return a(e,{into:o,insert:l,returning:i,onConflict:p?a(e.onConflict,{do:p,on:c}):e.onConflict})}raise(e){return a(e,{formatExprs:e.formatExprs&&n(e.formatExprs,(e=>this.expr(e))),using:e.using&&n(e.using,(e=>a(e,{value:this.expr(e.value)})))})}delete(e){const s=this.tableRef(e.from);return s?a(e,{where:e.where&&this.expr(e.where),returning:n(e.returning,(e=>this.selectionColumn(e))),from:s}):null}createSchema(e){return e}createTable(e){const s=n(e.columns,(e=>{switch(e.kind){case"column":return this.createColumn(e);case"like table":return this.likeTable(e);default:throw r.NotSupported.never(e)}}));return(null==s?void 0:s.length)?a(e,{columns:s}):null}likeTable(e){const s=this.tableRef(e.like);return s?a(e,{like:s}):null}truncateTable(e){return e}constraint(e){switch(e.type){case"not null":case"null":case"primary key":case"unique":case"add generated":return e;case"default":{const s=this.expr(e.default);return s?a(e,{default:s}):null}case"check":{const s=this.expr(e.expr);return s?a(e,{expr:s}):null}case"reference":{const s=this.tableRef(e.foreignTable);return s?a(e,{foreignTable:s}):null}default:throw r.NotSupported.never(e)}}set(e){const s=this.expr(e.value);return s?a(e,{value:s}):null}dataType(e){return e}tableRef(e){return e}transaction(e){return e}createExtension(e){return e}createIndex(e){const s=n(e.expressions,(e=>{const s=this.expr(e.expression);return s===e.expression?e:s?{...e,expression:s}:null}));return(null==s?void 0:s.length)?a(e,{expressions:s}):null}prepare(e){const s=this.statement(e.statement);return s?a(e,{args:n(e.args,(e=>this.dataType(e))),statement:s}):null}deallocate(e){return e}alterIndex(e){return e}alterTable(e){var s;const t=this.tableRef(e.table);if(!t)return null;let r=[],n=!1;for(let t=0;t<((null===(s=e.changes)||void 0===s?void 0:s.length)||0);t++){const s=e.changes[t],a=this.tableAlteration(s,e.table);n=n||a!=s,a&&r.push(a)}return r.length?n?a(e,{table:t,changes:r}):e:null}tableAlteration(e,s){switch(e.type){case"add column":return this.addColumn(e,s);case"add constraint":return this.addConstraint(e,s);case"alter column":return this.alterColumn(e,s);case"rename":return this.renameTable(e,s);case"rename column":return this.renameColumn(e,s);case"rename constraint":return this.renameConstraint(e,s);case"drop column":return this.dropColumn(e,s);case"drop constraint":return this.dropConstraint(e,s);case"owner":return this.setTableOwner(e,s);default:throw r.NotSupported.never(e)}}dropColumn(e,s){return e}dropConstraint(e,s){return e}setTableOwner(e,s){return e}renameConstraint(e,s){return e}renameColumn(e,s){return e}renameTable(e,s){return e}alterColumn(e,s){let t;switch(e.alter.type){case"set default":t=this.setColumnDefault(e.alter,s,e.column);break;case"set type":t=this.setColumnType(e.alter,s,e.column);break;case"drop default":case"set not null":case"drop not null":t=this.alterColumnSimple(e.alter,s,e.column);break;case"add generated":t=this.alterColumnAddGenerated(e.alter,s,e.column);break;default:throw r.NotSupported.never(e.alter)}return t?a(e,{alter:t}):null}setColumnType(e,s,t){return a(e,{dataType:this.dataType(e.dataType)})}alterColumnAddGenerated(e,s,t){return e}alterColumnSimple(e,s,t){return e}setColumnDefault(e,s,t){const r=this.expr(e.default);return r?a(e,{default:r}):null}addConstraint(e,s){return e}addColumn(e,s){const t=this.createColumn(e.column);return t?a(e,{column:t}):null}createColumn(e){var s;const t=this.dataType(e.dataType);return t?a(e,{dataType:t,constraints:null!==(s=n(e.constraints,(e=>this.constraint(e))))&&void 0!==s?s:void 0}):null}select(e){switch(e.type){case"select":return this.selection(e);case"union":case"union all":return this.union(e);case"with":return this.with(e);case"values":return this.values(e);case"with recursive":return this.withRecursive(e);default:throw r.NotSupported.never(e)}}selection(e){var s,t;const r=n(e.from,(e=>this.from(e))),o=n(e.columns,(e=>this.selectionColumn(e))),l=e.where&&this.expr(e.where),i=n(e.groupBy,(e=>this.expr(e))),c=this.orderBy(e.orderBy),p=a(e.limit,{limit:this.expr(null===(s=e.limit)||void 0===s?void 0:s.limit),offset:this.expr(null===(t=e.limit)||void 0===t?void 0:t.offset)});return a(e,{from:r,columns:o,where:l,groupBy:i,orderBy:c,limit:p})}orderBy(e){return n(e,(e=>{const s=this.expr(e.by);return s?s===e.by?e:{...e,by:s}:null}))}union(e){const s=this.select(e.left),t=this.select(e.right);return s&&t?a(e,{left:s,right:t}):null!=s?s:t}with(e){const s=n(e.bind,(e=>{const s=this.statement(e.statement);return o(s)?a(e,{statement:s}):null}));if(!s)return null;const t=this.statement(e.in);return o(t)?a(e,{bind:s,in:t}):null}withRecursive(e){const s=this.union(e.bind);if(!s)return null;if("union"!==s.type&&"union all"!==s.type)return null;const t=this.statement(e.in);return o(t)?a(e,{bind:s,in:t}):null}from(e){switch(e.type){case"table":return this.fromTable(e);case"statement":return this.fromStatement(e);case"call":return this.fromCall(e);default:throw r.NotSupported.never(e)}}fromCall(e){const s=this.call(e);return s&&"call"===s.type?a(e,s):null}fromStatement(e){const s=this.select(e.statement);return s?a(e,{statement:s,join:e.join&&this.join(e.join)}):null}values(e){const s=n(e.values,(e=>n(e,(e=>this.expr(e)))));return(null==s?void 0:s.length)?a(e,{values:s}):null}join(e){const s=e.on&&this.expr(e.on);return s||e.using?a(e,{on:s}):e}fromTable(e){const s=this.tableRef(e.name);return s?a(e,{name:s,join:e.join&&this.join(e.join)}):null}selectionColumn(e){const s=this.expr(e.expr);return s?a(e,{expr:s}):null}expr(e){if(!e)return e;switch(e.type){case"binary":return this.binary(e);case"unary":return this.unary(e);case"ref":return this.ref(e);case"string":case"numeric":case"integer":case"boolean":case"constant":case"null":return this.constant(e);case"list":case"array":return this.array(e);case"array select":return this.arraySelect(e);case"call":return this.call(e);case"cast":return this.cast(e);case"case":return this.case(e);case"member":return this.member(e);case"arrayIndex":return this.arrayIndex(e);case"ternary":return this.ternary(e);case"select":case"union":case"union all":case"with":case"with recursive":return this.select(e);case"keyword":return this.valueKeyword(e);case"parameter":return this.parameter(e);case"extract":return this.extract(e);case"overlay":return this.callOverlay(e);case"substring":return this.callSubstring(e);case"values":return this.values(e);case"default":return this.default(e);default:throw r.NotSupported.never(e)}}arraySelect(e){const s=this.select(e.select);return s?a(e,{select:s}):null}extract(e){const s=this.expr(e.from);return s?a(e,{from:s}):null}valueKeyword(e){return e}ternary(e){const s=this.expr(e.value),t=this.expr(e.lo),r=this.expr(e.hi);return s&&t&&r?a(e,{value:s,lo:t,hi:r}):null}parameter(e){return e}arrayIndex(e){const s=this.expr(e.array),t=this.expr(e.index);return s&&t?a(e,{array:s,index:t}):null}member(e){const s=this.expr(e.operand);return s?a(e,{operand:s}):null}case(e){const s=e.value&&this.expr(e.value),t=n(e.whens,(e=>{const s=this.expr(e.when),t=this.expr(e.value);return s&&t?a(e,{value:t,when:s}):null}));return(null==t?void 0:t.length)?a(e,{value:s,whens:t,else:e.else&&this.expr(e.else)}):null}cast(e){const s=this.expr(e.operand);return s?a(e,{operand:s}):null}call(e){const s=n(e.args,(e=>this.expr(e)));return s?a(e,{args:s,orderBy:this.orderBy(e.orderBy),filter:this.expr(e.filter)}):null}callSubstring(e){return a(e,{value:this.expr(e.value),from:this.expr(e.from),for:this.expr(e.for)})}callOverlay(e){return a(e,{value:this.expr(e.value),placing:this.expr(e.placing),from:this.expr(e.from),for:this.expr(e.for)})}array(e){const s=n(e.expressions,(e=>this.expr(e)));return s?a(e,{expressions:s}):null}constant(e){return e}default(e){return e}ref(e){return e}unary(e){const s=this.expr(e.operand);return s?a(e,{operand:s}):null}binary(e){const s=this.expr(e.left),t=this.expr(e.right);return s&&t?a(e,{left:s,right:t}):null}}s.AstDefaultMapper=l;const i=l.prototype;for(const e of Object.getOwnPropertyNames(i)){const s=i[e];"constructor"!==e&&"super"!==e&&"function"==typeof s&&Object.defineProperty(i,e,{configurable:!1,get:()=>function(...t){var r;if(this.skipNext)return this.skipNext=!1,s.apply(this,t);const a=null===(r=this.wrapped)||void 0===r?void 0:r[e];return a?a.apply(this.wrapped,t):s.apply(this,t)}})}class c extends l{constructor(e){super(),this.parent=e}}for(const e of Object.getOwnPropertyNames(i)){const s=i[e];"constructor"!==e&&"super"!==e&&"function"==typeof s&&Object.defineProperty(c.prototype,e,{configurable:!1,get:()=>function(...e){return this.parent.skipNext=!0,s.apply(this.parent,e)}})}},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.sqlKeywords=void 0,s.sqlKeywords=["ALL","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","ILIKE","IN","INITIALLY","INNER","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","NATURAL","NOT","NOTNULL","NULL","OFFSET","ON","ONLY","OR","ORDER","OUTER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","PRECISION"]},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.intervalToString=s.normalizeInterval=s.buildInterval=void 0;const r=[["years",12],["months",30],["days",24],["hours",60],["minutes",60],["seconds",1e3],["milliseconds",0]];function*a(e){if("number"==typeof e[1])yield e;else for(const s of e)yield*a(s)}function n(e){var s,t,a,n,o,l,i,c,p;const m={...e};for(let e=0;e<r.length;e++){const[n,o]=r[e],l=null!==(s=m[n])&&void 0!==s?s:0,i=l>=0?Math.floor(l):Math.ceil(l);if(!l||i===l)continue;const c=null===(t=r[e+1])||void 0===t?void 0:t[0];c&&(m[c]=(null!==(a=m[c])&&void 0!==a?a:0)+o*(l-i)),m[n]=i}if(m.months||m.years){const e=(null!==(n=m.months)&&void 0!==n?n:0)+12*(null!==(o=m.years)&&void 0!==o?o:0);m.months=e%12,m.years=(e-m.months)/12}let u=3600*(null!==(l=m.hours)&&void 0!==l?l:0)+60*(null!==(i=m.minutes)&&void 0!==i?i:0)+(null!==(c=m.seconds)&&void 0!==c?c:0)+(null!==(p=m.milliseconds)&&void 0!==p?p:0)/1e3,b=1;u<0&&(b=-1,u=-u),u>=3600?(m.hours=b*Math.floor(u/3600),u-=b*m.hours*3600):delete m.hours,u>=60?(m.minutes=b*Math.floor(u/60),u-=b*m.minutes*60):delete m.minutes,u>0?(m.seconds=b*Math.floor(u),u-=b*m.seconds):delete m.seconds,u>0?m.milliseconds=b*Math.round(1e3*u):delete m.milliseconds;for(const[e]of r)m[e]||delete m[e];return m}function o(e){return(e=Math.abs(e))<10?"0"+e:e.toString()}function l(e){return e&&e<0}s.buildInterval=function(e,s){var t;const r={};if("invalid"===s)throw new Error(`invalid input syntax for type interval: "${e}"`);for(const[e,n]of a(s))r[e]=(null!==(t=r[e])&&void 0!==t?t:0)+n;return r},s.normalizeInterval=n,s.intervalToString=function(e){var s,t,r;const a=[];if((e=n(e)).years&&a.push(1===e.years?"1 year":e.years+" years"),e.months&&a.push(1===e.months?"1 month":e.months+" months"),e.days&&a.push(1===e.days?"1 day":e.days+" days"),e.hours||e.minutes||e.seconds||e.milliseconds){let n=`${o(null!==(s=e.hours)&&void 0!==s?s:0)}:${o(null!==(t=e.minutes)&&void 0!==t?t:0)}:${o(null!==(r=e.seconds)&&void 0!==r?r:0)}`;e.milliseconds&&(n+=(e.milliseconds/1e3).toString().substr(1)),(l(e.hours)||l(e.minutes)||l(e.seconds)||l(e.milliseconds))&&(n="-"+n),a.push(n)}return a.join(" ")}},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.astVisitor=void 0;const r=t(2);class a{super(){return new o(this)}}const n=r.AstDefaultMapper.prototype;for(const e of Object.getOwnPropertyNames(n)){const s=n[e];"constructor"!==e&&"super"!==e&&"function"==typeof s&&Object.defineProperty(a.prototype,e,{configurable:!1,get:()=>function(...t){const r=this.visitor[e];return r?(r.apply(this.visitor,t),t[0]):s.apply(this,t)}})}class o{constructor(e){this.parent=e}}for(const e of Object.getOwnPropertyNames(n)){const s=n[e];"constructor"!==e&&"super"!==e&&"function"==typeof s&&Object.defineProperty(o.prototype,e,{configurable:!1,get:()=>function(...e){return s.apply(this.parent,e)}})}s.astVisitor=function(e){return(0,r.astMapper)((s=>{const t=new a;return t.mapper=s,t.visitor=e(t),t}))}},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.trimNullish=s.NotSupported=void 0;class r extends Error{constructor(e){super("Not supported"+(e?": "+e:""))}static never(e,s){return new r(`${null!=s?s:""} ${JSON.stringify(e)}`)}}s.NotSupported=r,s.trimNullish=function e(s,t=5){if(t<0)return s;if(s instanceof Array&&s.forEach((s=>e(s,t-1))),"object"!=typeof s||s instanceof Date)return s;if(!s)return s;for(const r of Object.keys(s)){const a=s[r];null==a?delete s[r]:e(a,t-1)}return s}},function(e,s,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,s,t,r){void 0===r&&(r=t);var a=Object.getOwnPropertyDescriptor(s,t);a&&!("get"in a?!s.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return s[t]}}),Object.defineProperty(e,r,a)}:function(e,s,t,r){void 0===r&&(r=t),e[r]=s[t]}),a=this&&this.__exportStar||function(e,s){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(s,t)||r(s,e,t)};Object.defineProperty(s,"__esModule",{value:!0}),s.normalizeInterval=s.intervalToString=s.toSql=s.astMapper=s.assignChanged=s.arrayNilMap=s.astVisitor=s.parseWithComments=s.parseIntervalLiteral=s.parseGeometricLiteral=s.parseArrayLiteral=s.parseFirst=s.parse=void 0;var n=t(8);Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return n.parse}}),Object.defineProperty(s,"parseFirst",{enumerable:!0,get:function(){return n.parseFirst}}),Object.defineProperty(s,"parseArrayLiteral",{enumerable:!0,get:function(){return n.parseArrayLiteral}}),Object.defineProperty(s,"parseGeometricLiteral",{enumerable:!0,get:function(){return n.parseGeometricLiteral}}),Object.defineProperty(s,"parseIntervalLiteral",{enumerable:!0,get:function(){return n.parseIntervalLiteral}}),Object.defineProperty(s,"parseWithComments",{enumerable:!0,get:function(){return n.parseWithComments}});var o=t(5);Object.defineProperty(s,"astVisitor",{enumerable:!0,get:function(){return o.astVisitor}});var l=t(2);Object.defineProperty(s,"arrayNilMap",{enumerable:!0,get:function(){return l.arrayNilMap}}),Object.defineProperty(s,"assignChanged",{enumerable:!0,get:function(){return l.assignChanged}}),Object.defineProperty(s,"astMapper",{enumerable:!0,get:function(){return l.astMapper}});var i=t(19);Object.defineProperty(s,"toSql",{enumerable:!0,get:function(){return i.toSql}}),a(t(21),s);var c=t(4);Object.defineProperty(s,"intervalToString",{enumerable:!0,get:function(){return c.intervalToString}}),Object.defineProperty(s,"normalizeInterval",{enumerable:!0,get:function(){return c.normalizeInterval}})},function(e,s,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s,"__esModule",{value:!0}),s.parseGeometricLiteral=s.parseIntervalLiteral=s.parseArrayLiteral=s.parse=s.parseWithComments=s.parseFirst=void 0;const a=t(9),n=r(t(10)),o=r(t(11)),l=r(t(13)),i=r(t(15)),c=r(t(17)),p=t(4),m=t(1);let u,b,_,y,$;function d(e,s){u||(u=a.Grammar.fromCompiled(n.default));const t="string"==typeof s?s:null==s?void 0:s.entry,r="string"==typeof s?null:s,o=()=>f(e,u,t);let l=(null==r?void 0:r.locationTracking)?(0,m.tracking)(o):o();return"string"==typeof s||Array.isArray(l)||(l=[l]),l}function f(e,s,t){try{s.start=null!=t?t:"main";const r=new a.Parser(s);r.feed(e);const n=r.finish();if(!n.length)throw new Error("Unexpected end of input");if(1!==n.length)throw new Error(` Ambiguous SQL syntax: Please file an issue stating the request that has failed at https://github.com/oguimbal/pgsql-ast-parser:\n\n        ${e}\n\n        `);return n[0]}catch(e){if("string"!=typeof(null==e?void 0:e.message))throw e;let s=e.message,t=null;const r=[],a=/A (.+) token based on:/g;let n;for(;n=a.exec(s);)t=null!=t?t:s.substr(0,n.index),r.push(`    - A "${n[1]}" token`);throw t&&(s=t+r.join("\n")+"\n\n"),e.message=s,e}}s.parseFirst=function(e){return d(e)[0]},s.parseWithComments=function(e,s){return(0,m.trackingComments)((()=>d(e,s)))},s.parse=d,s.parseArrayLiteral=function(e){return b||(b=a.Grammar.fromCompiled(o.default)),f(e,b)},s.parseIntervalLiteral=function(e){if(e.startsWith("P"))return $||($=a.Grammar.fromCompiled(c.default)),(0,p.buildInterval)(e,f(e,$));{y||(y=a.Grammar.fromCompiled(i.default));const s=e.toLowerCase();return(0,p.buildInterval)(e,f(s,y))}},s.parseGeometricLiteral=function(e,s){return _||(_=a.Grammar.fromCompiled(l.default)),f(e,_,s)}},function(e,s){e.exports=t(7606)},function(e,s,t){"use strict";function r(e){return e[0]}Object.defineProperty(s,"__esModule",{value:!0});const a=t(1),n=t(1);function o(e){return l(e,void 0)}function l(e,s){const t=y(e);return s&&0!==s.length?(0,n.track)(e,{name:t,columns:s.map((e=>({name:y(e)})))}):(0,n.track)(e,{name:t})}function i(e){const s=y(e);return(0,n.track)(e,{value:s})}function c(e){return Array.isArray(e)&&1===e.length&&(e=c(e[0])),Array.isArray(e)&&!e.length?null:(0,n.unbox)(e)}const p=e=>s=>(0,n.track)(s,s[e]),m=e=>Array.isArray(e)?(0,n.track)(e[e.length-1],e[e.length-1]):e;function u(e){if(Array.isArray(e)){const s=[];for(const t of e)s.push(...u(t));return s}return e?[e]:[]}function b(e){var s;return null!==(s=null==(e=(0,n.unbox)(e))?void 0:e.value)&&void 0!==s?s:e}function _(e){return u((0,n.unbox)(e)).filter((e=>!!e)).map((e=>b(e))).filter((e=>"string"==typeof e)).map((e=>e.trim())).filter((e=>!!e))}function y(e,s){return _(e).join(s||"")}function $(e){const s={};for(const[t,r]of e)s[t]=r;return s}const d={sensitivity:"accent"},f=e=>(s,t,r)=>{const a=b(s[0]);return o=e,0===a.localeCompare(o,void 0,d)?(0,n.box)(s,e):r;var o},h=f,x=(...e)=>{const s=new Set(e);return(e,t,r)=>{const a="string"==typeof e[0]?e[0]:e[0].value;return s.has(a)?a:r}};function w(e,s){const t=new Set,r=s.map(n.unbox);for(const[s,a]of r){if(t.has(s))throw new Error("conflicting or redundant options");t.add(s),e[s]=(0,n.unbox)(a)}}const k={Lexer:a.lexerAny,ParserRules:[{name:"lparen",symbols:[a.lexerAny.has("lparen")?{type:"lparen"}:lparen]},{name:"rparen",symbols:[a.lexerAny.has("rparen")?{type:"rparen"}:rparen]},{name:"number$subexpression$1",symbols:["float"]},{name:"number$subexpression$1",symbols:["int"]},{name:"number",symbols:["number$subexpression$1"],postprocess:c},{name:"dot",symbols:[a.lexerAny.has("dot")?{type:"dot"}:dot],postprocess:r},{name:"float",symbols:[a.lexerAny.has("float")?{type:"float"}:float],postprocess:e=>(0,n.box)(e,parseFloat(c(e)))},{name:"int",symbols:[a.lexerAny.has("int")?{type:"int"}:int],postprocess:e=>(0,n.box)(e,parseInt(c(e),10))},{name:"comma",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma],postprocess:r},{name:"star",symbols:[a.lexerAny.has("star")?{type:"star"}:star],postprocess:e=>(0,n.box)(e,e[0].value)},{name:"string$subexpression$1",symbols:[a.lexerAny.has("string")?{type:"string"}:string]},{name:"string$subexpression$1",symbols:[a.lexerAny.has("eString")?{type:"eString"}:eString]},{name:"string",symbols:["string$subexpression$1"],postprocess:e=>(0,n.box)(e,c(e[0]).value)},{name:"ident",symbols:["word"],postprocess:p(0)},{name:"word",symbols:[a.lexerAny.has("kw_primary")?{type:"kw_primary"}:kw_primary],postprocess:e=>(0,n.box)(e,"primary")},{name:"word",symbols:[a.lexerAny.has("kw_unique")?{type:"kw_unique"}:kw_unique],postprocess:e=>(0,n.box)(e,"unique")},{name:"word",symbols:[a.lexerAny.has("quoted_word")?{type:"quoted_word"}:quoted_word],postprocess:e=>(0,n.box)(e,e[0].value,!0)},{name:"word",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:e=>(0,n.box)(e,e[0].value)},{name:"collist_paren",symbols:["lparen","collist","rparen"],postprocess:p(1)},{name:"collist$ebnf$1",symbols:[]},{name:"collist$ebnf$1$subexpression$1",symbols:["comma","ident"],postprocess:m},{name:"collist$ebnf$1",symbols:["collist$ebnf$1","collist$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"collist",symbols:["ident","collist$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"kw_between",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("between")},{name:"kw_conflict",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("conflict")},{name:"kw_nothing",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("nothing")},{name:"kw_begin",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("begin")},{name:"kw_if",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("if")},{name:"kw_exists",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("exists")},{name:"kw_key",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("key")},{name:"kw_index",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("index")},{name:"kw_extension",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("extension")},{name:"kw_schema",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("schema")},{name:"kw_nulls",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("nulls")},{name:"kw_first",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("first")},{name:"kw_last",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("last")},{name:"kw_start",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("start")},{name:"kw_restart",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("restart")},{name:"kw_filter",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("filter")},{name:"kw_commit",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("commit")},{name:"kw_tablespace",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("tablespace")},{name:"kw_transaction",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("transaction")},{name:"kw_work",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("work")},{name:"kw_read",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("read")},{name:"kw_write",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("write")},{name:"kw_isolation",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("isolation")},{name:"kw_level",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("level")},{name:"kw_serializable",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("serializable")},{name:"kw_rollback",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("rollback")},{name:"kw_insert",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("insert")},{name:"kw_value",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("value")},{name:"kw_values",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("values")},{name:"kw_update",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("update")},{name:"kw_column",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("column")},{name:"kw_set",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("set")},{name:"kw_version",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("version")},{name:"kw_alter",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("alter")},{name:"kw_rename",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("rename")},{name:"kw_sequence",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("sequence")},{name:"kw_temp",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("temp")},{name:"kw_temporary",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("temporary")},{name:"kw_add",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("add")},{name:"kw_owner",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("owner")},{name:"kw_owned",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("owned")},{name:"kw_including",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("including")},{name:"kw_excluding",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("excluding")},{name:"kw_none",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("none")},{name:"kw_drop",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("drop")},{name:"kw_operator",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("operator")},{name:"kw_minvalue",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("minvalue")},{name:"kw_maxvalue",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("maxvalue")},{name:"kw_data",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("data")},{name:"kw_type",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("type")},{name:"kw_trigger",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("trigger")},{name:"kw_delete",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("delete")},{name:"kw_cache",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("cache")},{name:"kw_cascade",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("cascade")},{name:"kw_no",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("no")},{name:"kw_timestamp",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("timestamp")},{name:"kw_cycle",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("cycle")},{name:"kw_function",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("function")},{name:"kw_returns",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("returns")},{name:"kw_language",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("language")},{name:"kw_out",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("out")},{name:"kw_inout",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("inout")},{name:"kw_variadic",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("variadic")},{name:"kw_action",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("action")},{name:"kw_restrict",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("restrict")},{name:"kw_truncate",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("truncate")},{name:"kw_increment",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("increment")},{name:"kw_by",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("by")},{name:"kw_row",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("row")},{name:"kw_rows",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("rows")},{name:"kw_next",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("next")},{name:"kw_match",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("match")},{name:"kw_replace",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("replace")},{name:"kw_recursive",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("recursive")},{name:"kw_view",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("view")},{name:"kw_cascaded",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("cascaded")},{name:"kw_unlogged",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("unlogged")},{name:"kw_global",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("global")},{name:"kw_option",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("option")},{name:"kw_materialized",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("materialized")},{name:"kw_partial",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("partial")},{name:"kw_partition",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("partition")},{name:"kw_simple",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("simple")},{name:"kw_generated",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("generated")},{name:"kw_always",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("always")},{name:"kw_identity",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("identity")},{name:"kw_name",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("name")},{name:"kw_enum",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("enum")},{name:"kw_show",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("show")},{name:"kw_ordinality",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("ordinality")},{name:"kw_overriding",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("overriding")},{name:"kw_over",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("over")},{name:"kw_system",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("system")},{name:"kw_comment",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("comment")},{name:"kw_time",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("time")},{name:"kw_at",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("at")},{name:"kw_zone",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("zone")},{name:"kw_interval",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("interval")},{name:"kw_hour",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("hour")},{name:"kw_minute",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("minute")},{name:"kw_local",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("local")},{name:"kw_prepare",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("prepare")},{name:"kw_deallocate",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("deallocate")},{name:"kw_raise",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("raise")},{name:"kw_continue",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("continue")},{name:"kw_share",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("share")},{name:"kw_refresh",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:f("refresh")},{name:"kw_ifnotexists",symbols:["kw_if",a.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not,"kw_exists"]},{name:"kw_ifexists",symbols:["kw_if","kw_exists"]},{name:"kw_withordinality",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"kw_ordinality"]},{name:"kw_not_null",symbols:[a.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not,a.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null]},{name:"kw_primary_key",symbols:[a.lexerAny.has("kw_primary")?{type:"kw_primary"}:kw_primary,"kw_key"]},{name:"data_type$ebnf$1$subexpression$1$macrocall$2",symbols:["int"]},{name:"data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1",symbols:[]},{name:"data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"data_type$ebnf$1$subexpression$1$macrocall$2"],postprocess:m},{name:"data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1",symbols:["data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1","data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"data_type$ebnf$1$subexpression$1$macrocall$1",symbols:["data_type$ebnf$1$subexpression$1$macrocall$2","data_type$ebnf$1$subexpression$1$macrocall$1$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"data_type$ebnf$1$subexpression$1",symbols:["lparen","data_type$ebnf$1$subexpression$1$macrocall$1","rparen"],postprocess:p(1)},{name:"data_type$ebnf$1",symbols:["data_type$ebnf$1$subexpression$1"],postprocess:r},{name:"data_type$ebnf$1",symbols:[],postprocess:()=>null},{name:"data_type$ebnf$2$subexpression$1",symbols:[a.lexerAny.has("kw_array")?{type:"kw_array"}:kw_array]},{name:"data_type$ebnf$2$subexpression$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket,a.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket]},{name:"data_type$ebnf$2$subexpression$1$ebnf$1",symbols:["data_type$ebnf$2$subexpression$1$ebnf$1$subexpression$1"]},{name:"data_type$ebnf$2$subexpression$1$ebnf$1$subexpression$2",symbols:[a.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket,a.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket]},{name:"data_type$ebnf$2$subexpression$1$ebnf$1",symbols:["data_type$ebnf$2$subexpression$1$ebnf$1","data_type$ebnf$2$subexpression$1$ebnf$1$subexpression$2"],postprocess:e=>e[0].concat([e[1]])},{name:"data_type$ebnf$2$subexpression$1",symbols:["data_type$ebnf$2$subexpression$1$ebnf$1"]},{name:"data_type$ebnf$2",symbols:["data_type$ebnf$2$subexpression$1"],postprocess:r},{name:"data_type$ebnf$2",symbols:[],postprocess:()=>null},{name:"data_type",symbols:["data_type_simple","data_type$ebnf$1","data_type$ebnf$2"],postprocess:e=>{let s,t=e[2];if(s={...c(e[0]),...Array.isArray(e[1])&&e[1].length?{config:e[1].map(c)}:{}},t){"kw_array"===t[0].type&&(t=[["array"]]);for(const e of t[0])s={kind:"array",arrayOf:s}}return(0,n.track)(e,s)}},{name:"data_type_list$ebnf$1",symbols:[]},{name:"data_type_list$ebnf$1$subexpression$1",symbols:["comma","data_type"],postprocess:m},{name:"data_type_list$ebnf$1",symbols:["data_type_list$ebnf$1","data_type_list$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"data_type_list",symbols:["data_type","data_type_list$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"data_type_simple",symbols:["data_type_text"],postprocess:e=>(0,n.track)(e,{name:y(e," ")})},{name:"data_type_simple",symbols:["data_type_numeric"],postprocess:e=>(0,n.track)(e,{name:y(e," ")})},{name:"data_type_simple",symbols:["data_type_date"]},{name:"data_type_simple",symbols:["qualified_name_mark_quotes"]},{name:"data_type_numeric$subexpression$1",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:h("double")},{name:"data_type_numeric",symbols:["data_type_numeric$subexpression$1",a.lexerAny.has("kw_precision")?{type:"kw_precision"}:kw_precision]},{name:"data_type_text$subexpression$1",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:x("character","bit")},{name:"data_type_text$subexpression$2",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:h("varying")},{name:"data_type_text",symbols:["data_type_text$subexpression$1","data_type_text$subexpression$2"]},{name:"data_type_date$subexpression$1",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:x("timestamp","time")},{name:"data_type_date$subexpression$2",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with]},{name:"data_type_date$subexpression$2",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:h("without")},{name:"data_type_date$subexpression$3",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:h("time")},{name:"data_type_date$subexpression$4",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:h("zone")},{name:"data_type_date",symbols:["data_type_date$subexpression$1","data_type_date$subexpression$2","data_type_date$subexpression$3","data_type_date$subexpression$4"],postprocess:e=>(0,n.track)(e,{name:y(e," ")})},{name:"data_type_date$subexpression$5",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:x("timestamp","time")},{name:"data_type_date$subexpression$6",symbols:["lparen","int","rparen"],postprocess:p(1)},{name:"data_type_date$subexpression$7",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with]},{name:"data_type_date$subexpression$7",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:h("without")},{name:"data_type_date$subexpression$8",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:h("time")},{name:"data_type_date$subexpression$9",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:h("zone")},{name:"data_type_date",symbols:["data_type_date$subexpression$5","data_type_date$subexpression$6","data_type_date$subexpression$7","data_type_date$subexpression$8","data_type_date$subexpression$9"],postprocess:e=>(0,n.track)(e,{name:`timestamp ${y(e[2])} time zone`,config:[(0,n.unbox)(e[1])]})},{name:"ident_aliased$subexpression$1",symbols:[a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"ident"],postprocess:m},{name:"ident_aliased",symbols:["ident_aliased$subexpression$1"]},{name:"ident_aliased",symbols:["ident"],postprocess:c},{name:"table_ref",symbols:["qualified_name"],postprocess:c},{name:"qcolumn$ebnf$1$subexpression$1",symbols:["dot","ident"],postprocess:m},{name:"qcolumn$ebnf$1",symbols:["qcolumn$ebnf$1$subexpression$1"],postprocess:r},{name:"qcolumn$ebnf$1",symbols:[],postprocess:()=>null},{name:"qcolumn",symbols:["ident","dot","ident","qcolumn$ebnf$1"],postprocess:e=>e[3]?(0,n.track)(e,{schema:(0,n.unbox)(e[0]),table:(0,n.unbox)(e[2]),column:(0,n.unbox)(e[3])}):(0,n.track)(e,{table:(0,n.unbox)(e[0]),column:(0,n.unbox)(e[2])})},{name:"table_ref_aliased$ebnf$1",symbols:["ident_aliased"],postprocess:r},{name:"table_ref_aliased$ebnf$1",symbols:[],postprocess:()=>null},{name:"table_ref_aliased",symbols:["table_ref","table_ref_aliased$ebnf$1"],postprocess:e=>{const s=c(e[1]);return(0,n.track)(e,{...c(e[0]),...s?{alias:s}:{}})}},{name:"qualified_name",symbols:["qname_ident"],postprocess:e=>(0,n.track)(e,{name:y(e)})},{name:"qualified_name",symbols:["ident","dot","ident_extended"],postprocess:e=>{const s=y(e[0]),t=y(e[2]);return(0,n.track)(e,{schema:s,name:t})}},{name:"qualified_name",symbols:[a.lexerAny.has("kw_current_schema")?{type:"kw_current_schema"}:kw_current_schema],postprocess:e=>(0,n.track)(e,{name:"current_schema"})},{name:"qualified_name_mark_quotes",symbols:["qname_ident"],postprocess:e=>(0,n.track)(e,{name:y(e),...(0,n.doubleQuoted)(e)})},{name:"qualified_name_mark_quotes",symbols:["ident","dot","ident_extended"],postprocess:e=>{const s=y(e[0]),t=y(e[2]);return(0,n.track)(e,{schema:s,name:t,...(0,n.doubleQuoted)(e[2])})}},{name:"qualified_name_mark_quotes",symbols:[a.lexerAny.has("kw_current_schema")?{type:"kw_current_schema"}:kw_current_schema],postprocess:e=>(0,n.track)(e,{name:"current_schema"})},{name:"qname_ident",symbols:["ident"]},{name:"qname_ident",symbols:[a.lexerAny.has("kw_precision")?{type:"kw_precision"}:kw_precision]},{name:"qname",symbols:["qualified_name"],postprocess:c},{name:"any_keyword",symbols:[a.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_analyse")?{type:"kw_analyse"}:kw_analyse]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_analyze")?{type:"kw_analyze"}:kw_analyze]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_and")?{type:"kw_and"}:kw_and]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_any")?{type:"kw_any"}:kw_any]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_array")?{type:"kw_array"}:kw_array]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_asc")?{type:"kw_asc"}:kw_asc]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_asymmetric")?{type:"kw_asymmetric"}:kw_asymmetric]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_authorization")?{type:"kw_authorization"}:kw_authorization]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_binary")?{type:"kw_binary"}:kw_binary]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_both")?{type:"kw_both"}:kw_both]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_case")?{type:"kw_case"}:kw_case]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_cast")?{type:"kw_cast"}:kw_cast]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_check")?{type:"kw_check"}:kw_check]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_collate")?{type:"kw_collate"}:kw_collate]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_collation")?{type:"kw_collation"}:kw_collation]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_concurrently")?{type:"kw_concurrently"}:kw_concurrently]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_cross")?{type:"kw_cross"}:kw_cross]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_current_catalog")?{type:"kw_current_catalog"}:kw_current_catalog]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_current_date")?{type:"kw_current_date"}:kw_current_date]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_current_role")?{type:"kw_current_role"}:kw_current_role]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_current_schema")?{type:"kw_current_schema"}:kw_current_schema]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_current_time")?{type:"kw_current_time"}:kw_current_time]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_current_timestamp")?{type:"kw_current_timestamp"}:kw_current_timestamp]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_current_user")?{type:"kw_current_user"}:kw_current_user]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_deferrable")?{type:"kw_deferrable"}:kw_deferrable]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_desc")?{type:"kw_desc"}:kw_desc]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_distinct")?{type:"kw_distinct"}:kw_distinct]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_do")?{type:"kw_do"}:kw_do]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_else")?{type:"kw_else"}:kw_else]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_end")?{type:"kw_end"}:kw_end]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_except")?{type:"kw_except"}:kw_except]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_false")?{type:"kw_false"}:kw_false]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_fetch")?{type:"kw_fetch"}:kw_fetch]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_for")?{type:"kw_for"}:kw_for]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_foreign")?{type:"kw_foreign"}:kw_foreign]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_freeze")?{type:"kw_freeze"}:kw_freeze]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_full")?{type:"kw_full"}:kw_full]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_grant")?{type:"kw_grant"}:kw_grant]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_group")?{type:"kw_group"}:kw_group]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_having")?{type:"kw_having"}:kw_having]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_ilike")?{type:"kw_ilike"}:kw_ilike]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_in")?{type:"kw_in"}:kw_in]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_initially")?{type:"kw_initially"}:kw_initially]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_inner")?{type:"kw_inner"}:kw_inner]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_intersect")?{type:"kw_intersect"}:kw_intersect]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_into")?{type:"kw_into"}:kw_into]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_is")?{type:"kw_is"}:kw_is]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_isnull")?{type:"kw_isnull"}:kw_isnull]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_join")?{type:"kw_join"}:kw_join]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_lateral")?{type:"kw_lateral"}:kw_lateral]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_leading")?{type:"kw_leading"}:kw_leading]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_left")?{type:"kw_left"}:kw_left]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_like")?{type:"kw_like"}:kw_like]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_limit")?{type:"kw_limit"}:kw_limit]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_localtime")?{type:"kw_localtime"}:kw_localtime]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_localtimestamp")?{type:"kw_localtimestamp"}:kw_localtimestamp]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_natural")?{type:"kw_natural"}:kw_natural]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_notnull")?{type:"kw_notnull"}:kw_notnull]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_offset")?{type:"kw_offset"}:kw_offset]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_only")?{type:"kw_only"}:kw_only]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_or")?{type:"kw_or"}:kw_or]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_order")?{type:"kw_order"}:kw_order]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_outer")?{type:"kw_outer"}:kw_outer]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_overlaps")?{type:"kw_overlaps"}:kw_overlaps]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_placing")?{type:"kw_placing"}:kw_placing]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_primary")?{type:"kw_primary"}:kw_primary]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_references")?{type:"kw_references"}:kw_references]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_returning")?{type:"kw_returning"}:kw_returning]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_right")?{type:"kw_right"}:kw_right]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_select")?{type:"kw_select"}:kw_select]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_session_user")?{type:"kw_session_user"}:kw_session_user]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_similar")?{type:"kw_similar"}:kw_similar]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_some")?{type:"kw_some"}:kw_some]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_symmetric")?{type:"kw_symmetric"}:kw_symmetric]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_tablesample")?{type:"kw_tablesample"}:kw_tablesample]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_then")?{type:"kw_then"}:kw_then]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_trailing")?{type:"kw_trailing"}:kw_trailing]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_true")?{type:"kw_true"}:kw_true]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_union")?{type:"kw_union"}:kw_union]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_unique")?{type:"kw_unique"}:kw_unique]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_user")?{type:"kw_user"}:kw_user]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_using")?{type:"kw_using"}:kw_using]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_variadic")?{type:"kw_variadic"}:kw_variadic]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_verbose")?{type:"kw_verbose"}:kw_verbose]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_when")?{type:"kw_when"}:kw_when]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_where")?{type:"kw_where"}:kw_where]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_window")?{type:"kw_window"}:kw_window]},{name:"any_keyword",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with]},{name:"ident_extended",symbols:["ident"]},{name:"ident_extended",symbols:["any_keyword"]},{name:"select_statement$ebnf$1",symbols:["select_from"],postprocess:r},{name:"select_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$2",symbols:["select_where"],postprocess:r},{name:"select_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$3",symbols:["select_groupby"],postprocess:r},{name:"select_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$4",symbols:["select_order_by"],postprocess:r},{name:"select_statement$ebnf$4",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$5",symbols:["select_limit_offset"],postprocess:r},{name:"select_statement$ebnf$5",symbols:[],postprocess:()=>null},{name:"select_statement$ebnf$6",symbols:["select_for"],postprocess:r},{name:"select_statement$ebnf$6",symbols:[],postprocess:()=>null},{name:"select_statement",symbols:["select_what","select_statement$ebnf$1","select_statement$ebnf$2","select_statement$ebnf$3","select_statement$ebnf$4","select_statement$ebnf$5","select_statement$ebnf$6"],postprocess:e=>{let[s,t,r,a,o,l,i]=e;return t=c(t),a=a&&(1===a.length&&"list"===a[0].type?a[0].expressions:a),(0,n.track)(e,{...s,...t?{from:Array.isArray(t)?t:[t]}:{},...a?{groupBy:a}:{},...l?{limit:c(l)}:{},...o?{orderBy:o}:{},...r?{where:r}:{},...i?{for:i[1]}:{},type:"select"})}},{name:"select_from",symbols:[a.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"select_from_items"],postprocess:m},{name:"select_from_items$ebnf$1",symbols:[]},{name:"select_from_items$ebnf$1$subexpression$1",symbols:["comma","select_from_item"],postprocess:m},{name:"select_from_items$ebnf$1",symbols:["select_from_items$ebnf$1","select_from_items$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"select_from_items",symbols:["select_from_item","select_from_items$ebnf$1"],postprocess:([e,s])=>[...e,...u(s)||[]]},{name:"select_from_item",symbols:["select_from_subject"]},{name:"select_from_item",symbols:["select_from_item_joins"],postprocess:p(0)},{name:"select_from_item_joins$subexpression$1",symbols:["select_from_item"],postprocess:p(0)},{name:"select_from_item_joins",symbols:["select_from_item_joins$subexpression$1","select_table_join"],postprocess:u},{name:"select_from_item_joins",symbols:["lparen","select_from_item_joins","rparen"],postprocess:p(1)},{name:"select_from_subject",symbols:["stb_table"],postprocess:c},{name:"select_from_subject",symbols:["stb_statement"],postprocess:c},{name:"select_from_subject",symbols:["stb_call"],postprocess:c},{name:"stb_opts$ebnf$1",symbols:["collist_paren"],postprocess:r},{name:"stb_opts$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_opts",symbols:["ident_aliased","stb_opts$ebnf$1"],postprocess:e=>(0,n.track)(e,{alias:y(e[0]),...e[1]&&{columnNames:(0,n.unbox)(e[1]).map(o)}})},{name:"stb_table$ebnf$1",symbols:["stb_opts"],postprocess:r},{name:"stb_table$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_table",symbols:["table_ref","stb_table$ebnf$1"],postprocess:e=>(0,n.track)(e,{type:"table",name:(0,n.track)(e,{...e[0],...e[1]})})},{name:"stb_statement",symbols:["selection_paren","stb_opts"],postprocess:e=>(0,n.track)(e,{type:"statement",statement:c(e[0]),...e[1]})},{name:"select_values",symbols:["kw_values","insert_values"],postprocess:e=>(0,n.track)(e,{type:"values",values:e[1]})},{name:"stb_call$ebnf$1",symbols:["kw_withordinality"],postprocess:r},{name:"stb_call$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_call$ebnf$2",symbols:["stb_call_alias"],postprocess:r},{name:"stb_call$ebnf$2",symbols:[],postprocess:()=>null},{name:"stb_call",symbols:["expr_function_call","stb_call$ebnf$1","stb_call$ebnf$2"],postprocess:e=>{const s=e[1],t=e[2];return s||t?(0,n.track)(e,{...e[0],...s&&{withOrdinality:!0},alias:t?l(t[0],t[1]):void 0}):e[0]}},{name:"stb_call_alias$subexpression$1$ebnf$1",symbols:[a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as],postprocess:r},{name:"stb_call_alias$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_call_alias$subexpression$1",symbols:["stb_call_alias$subexpression$1$ebnf$1","ident"],postprocess:m},{name:"stb_call_alias$ebnf$1",symbols:["stb_call_alias_list"],postprocess:r},{name:"stb_call_alias$ebnf$1",symbols:[],postprocess:()=>null},{name:"stb_call_alias",symbols:["stb_call_alias$subexpression$1","stb_call_alias$ebnf$1"]},{name:"stb_call_alias_list",symbols:["lparen","stb_call_alias_list_raw","rparen"],postprocess:p(1)},{name:"stb_call_alias_list_raw$ebnf$1",symbols:[]},{name:"stb_call_alias_list_raw$ebnf$1$subexpression$1",symbols:["comma","ident"],postprocess:m},{name:"stb_call_alias_list_raw$ebnf$1",symbols:["stb_call_alias_list_raw$ebnf$1","stb_call_alias_list_raw$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"stb_call_alias_list_raw",symbols:["ident","stb_call_alias_list_raw$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"select_table_join$ebnf$1",symbols:["select_table_join_clause"],postprocess:r},{name:"select_table_join$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_table_join",symbols:["select_join_op",a.lexerAny.has("kw_join")?{type:"kw_join"}:kw_join,"select_from_subject","select_table_join$ebnf$1"],postprocess:e=>(0,n.track)(e,{...c(e[2]),join:{type:y(e[0]," "),...e[3]&&c(e[3])}})},{name:"select_table_join_clause",symbols:[a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"expr"],postprocess:e=>(0,n.track)(e,{on:m(e)})},{name:"select_table_join_clause$macrocall$2",symbols:["ident"]},{name:"select_table_join_clause$macrocall$1$ebnf$1",symbols:[]},{name:"select_table_join_clause$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"select_table_join_clause$macrocall$2"],postprocess:m},{name:"select_table_join_clause$macrocall$1$ebnf$1",symbols:["select_table_join_clause$macrocall$1$ebnf$1","select_table_join_clause$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"select_table_join_clause$macrocall$1",symbols:["select_table_join_clause$macrocall$2","select_table_join_clause$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"select_table_join_clause",symbols:[a.lexerAny.has("kw_using")?{type:"kw_using"}:kw_using,"lparen","select_table_join_clause$macrocall$1","rparen"],postprocess:e=>(0,n.track)(e,{using:e[2].map(o)})},{name:"select_join_op$subexpression$1$ebnf$1",symbols:[a.lexerAny.has("kw_inner")?{type:"kw_inner"}:kw_inner],postprocess:r},{name:"select_join_op$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_join_op$subexpression$1",symbols:["select_join_op$subexpression$1$ebnf$1"],postprocess:e=>(0,n.box)(e,"INNER JOIN")},{name:"select_join_op",symbols:["select_join_op$subexpression$1"]},{name:"select_join_op$subexpression$2",symbols:[a.lexerAny.has("kw_cross")?{type:"kw_cross"}:kw_cross],postprocess:e=>(0,n.box)(e,"CROSS JOIN")},{name:"select_join_op",symbols:["select_join_op$subexpression$2"]},{name:"select_join_op$subexpression$3$ebnf$1",symbols:[a.lexerAny.has("kw_outer")?{type:"kw_outer"}:kw_outer],postprocess:r},{name:"select_join_op$subexpression$3$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_join_op$subexpression$3",symbols:[a.lexerAny.has("kw_left")?{type:"kw_left"}:kw_left,"select_join_op$subexpression$3$ebnf$1"],postprocess:e=>(0,n.box)(e,"LEFT JOIN")},{name:"select_join_op",symbols:["select_join_op$subexpression$3"]},{name:"select_join_op$subexpression$4$ebnf$1",symbols:[a.lexerAny.has("kw_outer")?{type:"kw_outer"}:kw_outer],postprocess:r},{name:"select_join_op$subexpression$4$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_join_op$subexpression$4",symbols:[a.lexerAny.has("kw_right")?{type:"kw_right"}:kw_right,"select_join_op$subexpression$4$ebnf$1"],postprocess:e=>(0,n.box)(e,"RIGHT JOIN")},{name:"select_join_op",symbols:["select_join_op$subexpression$4"]},{name:"select_join_op$subexpression$5$ebnf$1",symbols:[a.lexerAny.has("kw_outer")?{type:"kw_outer"}:kw_outer],postprocess:r},{name:"select_join_op$subexpression$5$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_join_op$subexpression$5",symbols:[a.lexerAny.has("kw_full")?{type:"kw_full"}:kw_full,"select_join_op$subexpression$5$ebnf$1"],postprocess:e=>(0,n.box)(e,"FULL JOIN")},{name:"select_join_op",symbols:["select_join_op$subexpression$5"]},{name:"select_what$ebnf$1",symbols:["select_distinct"],postprocess:r},{name:"select_what$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_what$ebnf$2",symbols:["select_expr_list_aliased"],postprocess:r},{name:"select_what$ebnf$2",symbols:[],postprocess:()=>null},{name:"select_what",symbols:[a.lexerAny.has("kw_select")?{type:"kw_select"}:kw_select,"select_what$ebnf$1","select_what$ebnf$2"],postprocess:e=>(0,n.track)(e,{columns:e[2],...e[1]&&{distinct:(0,n.unbox)(e[1])}})},{name:"select_expr_list_aliased$ebnf$1",symbols:[]},{name:"select_expr_list_aliased$ebnf$1$subexpression$1",symbols:["comma","select_expr_list_item"],postprocess:m},{name:"select_expr_list_aliased$ebnf$1",symbols:["select_expr_list_aliased$ebnf$1","select_expr_list_aliased$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"select_expr_list_aliased",symbols:["select_expr_list_item","select_expr_list_aliased$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"select_expr_list_item$ebnf$1",symbols:["ident_aliased"],postprocess:r},{name:"select_expr_list_item$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_expr_list_item",symbols:["expr","select_expr_list_item$ebnf$1"],postprocess:e=>(0,n.track)(e,{expr:e[0],...e[1]?{alias:o(e[1])}:{}})},{name:"select_distinct",symbols:[a.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all],postprocess:e=>(0,n.box)(e,"all")},{name:"select_distinct$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"lparen","expr_list_raw","rparen"],postprocess:p(2)},{name:"select_distinct$ebnf$1",symbols:["select_distinct$ebnf$1$subexpression$1"],postprocess:r},{name:"select_distinct$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_distinct",symbols:[a.lexerAny.has("kw_distinct")?{type:"kw_distinct"}:kw_distinct,"select_distinct$ebnf$1"],postprocess:e=>(0,n.box)(e,e[1]||"distinct")},{name:"select_where",symbols:[a.lexerAny.has("kw_where")?{type:"kw_where"}:kw_where,"expr"],postprocess:m},{name:"select_groupby",symbols:[a.lexerAny.has("kw_group")?{type:"kw_group"}:kw_group,"kw_by","expr_list_raw"],postprocess:m},{name:"select_limit_offset$ebnf$1$subexpression$1",symbols:["select_offset"]},{name:"select_limit_offset$ebnf$1$subexpression$1",symbols:["select_limit"]},{name:"select_limit_offset$ebnf$1",symbols:["select_limit_offset$ebnf$1$subexpression$1"]},{name:"select_limit_offset$ebnf$1$subexpression$2",symbols:["select_offset"]},{name:"select_limit_offset$ebnf$1$subexpression$2",symbols:["select_limit"]},{name:"select_limit_offset$ebnf$1",symbols:["select_limit_offset$ebnf$1","select_limit_offset$ebnf$1$subexpression$2"],postprocess:e=>e[0].concat([e[1]])},{name:"select_limit_offset",symbols:["select_limit_offset$ebnf$1"],postprocess:(e,s)=>{const t=c(e);if(!Array.isArray(t))return(0,n.track)(e,t);if(2!=t.length)return s;const r=c(t[0]),a=c(t[1]);return r.offset&&a.offset||r.limit&&a.limit?s:(0,n.track)(e,{...r,...a})}},{name:"select_offset$ebnf$1$subexpression$1",symbols:["kw_row"]},{name:"select_offset$ebnf$1$subexpression$1",symbols:["kw_rows"]},{name:"select_offset$ebnf$1",symbols:["select_offset$ebnf$1$subexpression$1"],postprocess:r},{name:"select_offset$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_offset",symbols:[a.lexerAny.has("kw_offset")?{type:"kw_offset"}:kw_offset,"expr_nostar","select_offset$ebnf$1"],postprocess:e=>(0,n.track)(e,{offset:c(e[1])})},{name:"select_limit$subexpression$1",symbols:["select_limit_1"]},{name:"select_limit$subexpression$1",symbols:["select_limit_2"]},{name:"select_limit",symbols:["select_limit$subexpression$1"],postprocess:e=>(0,n.track)(e,{limit:c(e)})},{name:"select_limit_1",symbols:[a.lexerAny.has("kw_limit")?{type:"kw_limit"}:kw_limit,"expr_nostar"],postprocess:m},{name:"select_limit_2$ebnf$1$subexpression$1",symbols:["kw_first"]},{name:"select_limit_2$ebnf$1$subexpression$1",symbols:["kw_next"]},{name:"select_limit_2$ebnf$1",symbols:["select_limit_2$ebnf$1$subexpression$1"],postprocess:r},{name:"select_limit_2$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_limit_2$subexpression$1",symbols:["kw_row"]},{name:"select_limit_2$subexpression$1",symbols:["kw_rows"]},{name:"select_limit_2",symbols:[a.lexerAny.has("kw_fetch")?{type:"kw_fetch"}:kw_fetch,"select_limit_2$ebnf$1","expr_nostar","select_limit_2$subexpression$1",a.lexerAny.has("kw_only")?{type:"kw_only"}:kw_only],postprocess:p(2)},{name:"select_for$subexpression$1",symbols:["kw_update"],postprocess:e=>(0,n.track)(e,{type:"update"})},{name:"select_for$subexpression$1",symbols:["kw_no","kw_key","kw_update"],postprocess:e=>(0,n.track)(e,{type:"no key update"})},{name:"select_for$subexpression$1",symbols:["kw_share"],postprocess:e=>(0,n.track)(e,{type:"share"})},{name:"select_for$subexpression$1",symbols:["kw_key","kw_share"],postprocess:e=>(0,n.track)(e,{type:"key share"})},{name:"select_for",symbols:[a.lexerAny.has("kw_for")?{type:"kw_for"}:kw_for,"select_for$subexpression$1"]},{name:"select_order_by$subexpression$1",symbols:[a.lexerAny.has("kw_order")?{type:"kw_order"}:kw_order,"kw_by"]},{name:"select_order_by$ebnf$1",symbols:[]},{name:"select_order_by$ebnf$1$subexpression$1",symbols:["comma","select_order_by_expr"],postprocess:m},{name:"select_order_by$ebnf$1",symbols:["select_order_by$ebnf$1","select_order_by$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"select_order_by",symbols:["select_order_by$subexpression$1","select_order_by_expr","select_order_by$ebnf$1"],postprocess:([e,s,t])=>[s,...t||[]]},{name:"select_order_by_expr$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_asc")?{type:"kw_asc"}:kw_asc]},{name:"select_order_by_expr$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_desc")?{type:"kw_desc"}:kw_desc]},{name:"select_order_by_expr$ebnf$1",symbols:["select_order_by_expr$ebnf$1$subexpression$1"],postprocess:r},{name:"select_order_by_expr$ebnf$1",symbols:[],postprocess:()=>null},{name:"select_order_by_expr$ebnf$2$subexpression$1$subexpression$1",symbols:["kw_first"]},{name:"select_order_by_expr$ebnf$2$subexpression$1$subexpression$1",symbols:["kw_last"]},{name:"select_order_by_expr$ebnf$2$subexpression$1",symbols:["kw_nulls","select_order_by_expr$ebnf$2$subexpression$1$subexpression$1"],postprocess:m},{name:"select_order_by_expr$ebnf$2",symbols:["select_order_by_expr$ebnf$2$subexpression$1"],postprocess:r},{name:"select_order_by_expr$ebnf$2",symbols:[],postprocess:()=>null},{name:"select_order_by_expr",symbols:["expr","select_order_by_expr$ebnf$1","select_order_by_expr$ebnf$2"],postprocess:e=>(0,n.track)(e,{by:e[0],...e[1]&&{order:y(e[1]).toUpperCase()},...e[2]&&{nulls:y(e[2]).toUpperCase()}})},{name:"expr",symbols:["expr_nostar"],postprocess:c},{name:"expr",symbols:["expr_star"],postprocess:c},{name:"expr_nostar",symbols:["expr_paren"],postprocess:c},{name:"expr_nostar",symbols:["expr_or"],postprocess:c},{name:"expr_paren$subexpression$1",symbols:["expr_or_select"]},{name:"expr_paren$subexpression$1",symbols:["expr_list_many"]},{name:"expr_paren",symbols:["lparen","expr_paren$subexpression$1","rparen"],postprocess:p(1)},{name:"expr_or$macrocall$2$macrocall$2",symbols:[a.lexerAny.has("kw_or")?{type:"kw_or"}:kw_or]},{name:"expr_or$macrocall$2$macrocall$1",symbols:["expr_or$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_or$macrocall$2",symbols:["expr_or$macrocall$2$macrocall$1"]},{name:"expr_or$macrocall$3",symbols:["expr_or"]},{name:"expr_or$macrocall$4",symbols:["expr_and"]},{name:"expr_or$macrocall$1$subexpression$1",symbols:["expr_or$macrocall$3"]},{name:"expr_or$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_or$macrocall$1$subexpression$2",symbols:["expr_or$macrocall$4"]},{name:"expr_or$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_or$macrocall$1",symbols:["expr_or$macrocall$1$subexpression$1","expr_or$macrocall$2","expr_or$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_or$macrocall$1",symbols:["expr_or$macrocall$4"],postprocess:c},{name:"expr_or",symbols:["expr_or$macrocall$1"]},{name:"expr_and$macrocall$2$macrocall$2",symbols:[a.lexerAny.has("kw_and")?{type:"kw_and"}:kw_and]},{name:"expr_and$macrocall$2$macrocall$1",symbols:["expr_and$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_and$macrocall$2",symbols:["expr_and$macrocall$2$macrocall$1"]},{name:"expr_and$macrocall$3",symbols:["expr_and"]},{name:"expr_and$macrocall$4",symbols:["expr_not"]},{name:"expr_and$macrocall$1$subexpression$1",symbols:["expr_and$macrocall$3"]},{name:"expr_and$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_and$macrocall$1$subexpression$2",symbols:["expr_and$macrocall$4"]},{name:"expr_and$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_and$macrocall$1",symbols:["expr_and$macrocall$1$subexpression$1","expr_and$macrocall$2","expr_and$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_and$macrocall$1",symbols:["expr_and$macrocall$4"],postprocess:c},{name:"expr_and",symbols:["expr_and$macrocall$1"]},{name:"expr_not$macrocall$2$macrocall$2",symbols:[a.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not]},{name:"expr_not$macrocall$2$macrocall$1",symbols:["expr_not$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_not$macrocall$2",symbols:["expr_not$macrocall$2$macrocall$1"]},{name:"expr_not$macrocall$3",symbols:["expr_not"]},{name:"expr_not$macrocall$4",symbols:["expr_eq"]},{name:"expr_not$macrocall$1$subexpression$1",symbols:["expr_not$macrocall$3"]},{name:"expr_not$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_not$macrocall$1",symbols:["expr_not$macrocall$2","expr_not$macrocall$1$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"unary",...c(e[0]),operand:c(e[1])})},{name:"expr_not$macrocall$1",symbols:["expr_not$macrocall$4"],postprocess:c},{name:"expr_not",symbols:["expr_not$macrocall$1"]},{name:"expr_eq$macrocall$2$macrocall$2$subexpression$1",symbols:[a.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq]},{name:"expr_eq$macrocall$2$macrocall$2$subexpression$1",symbols:[a.lexerAny.has("op_neq")?{type:"op_neq"}:op_neq]},{name:"expr_eq$macrocall$2$macrocall$2",symbols:["expr_eq$macrocall$2$macrocall$2$subexpression$1"]},{name:"expr_eq$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_eq$macrocall$2$macrocall$2"]},{name:"expr_eq$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_eq$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_eq$macrocall$2$macrocall$1",symbols:["expr_eq$macrocall$2$macrocall$1$macrocall$1"],postprocess:c},{name:"expr_eq$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_eq$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(y(e[4]," ")||"<error>").toUpperCase(),opSchema:y(e[2])})},{name:"expr_eq$macrocall$2",symbols:["expr_eq$macrocall$2$macrocall$1"]},{name:"expr_eq$macrocall$3",symbols:["expr_eq"]},{name:"expr_eq$macrocall$4",symbols:["expr_is"]},{name:"expr_eq$macrocall$1$subexpression$1",symbols:["expr_eq$macrocall$3"]},{name:"expr_eq$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_eq$macrocall$1$subexpression$2",symbols:["expr_eq$macrocall$4"]},{name:"expr_eq$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_eq$macrocall$1",symbols:["expr_eq$macrocall$1$subexpression$1","expr_eq$macrocall$2","expr_eq$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_eq$macrocall$1",symbols:["expr_eq$macrocall$4"],postprocess:c},{name:"expr_eq",symbols:["expr_eq$macrocall$1"]},{name:"expr_star",symbols:["star"],postprocess:e=>(0,n.track)(e,{type:"ref",name:"*"})},{name:"expr_is$subexpression$1",symbols:["expr_is"]},{name:"expr_is$subexpression$1",symbols:["expr_paren"]},{name:"expr_is$subexpression$2",symbols:[a.lexerAny.has("kw_isnull")?{type:"kw_isnull"}:kw_isnull]},{name:"expr_is$subexpression$2",symbols:[a.lexerAny.has("kw_is")?{type:"kw_is"}:kw_is,a.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null]},{name:"expr_is",symbols:["expr_is$subexpression$1","expr_is$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"unary",op:"IS NULL",operand:c(e[0])})},{name:"expr_is$subexpression$3",symbols:["expr_is"]},{name:"expr_is$subexpression$3",symbols:["expr_paren"]},{name:"expr_is$subexpression$4",symbols:[a.lexerAny.has("kw_notnull")?{type:"kw_notnull"}:kw_notnull]},{name:"expr_is$subexpression$4",symbols:[a.lexerAny.has("kw_is")?{type:"kw_is"}:kw_is,"kw_not_null"]},{name:"expr_is",symbols:["expr_is$subexpression$3","expr_is$subexpression$4"],postprocess:e=>(0,n.track)(e,{type:"unary",op:"IS NOT NULL",operand:c(e[0])})},{name:"expr_is$subexpression$5",symbols:["expr_is"]},{name:"expr_is$subexpression$5",symbols:["expr_paren"]},{name:"expr_is$ebnf$1",symbols:[a.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:r},{name:"expr_is$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_is$subexpression$6",symbols:[a.lexerAny.has("kw_true")?{type:"kw_true"}:kw_true]},{name:"expr_is$subexpression$6",symbols:[a.lexerAny.has("kw_false")?{type:"kw_false"}:kw_false]},{name:"expr_is",symbols:["expr_is$subexpression$5",a.lexerAny.has("kw_is")?{type:"kw_is"}:kw_is,"expr_is$ebnf$1","expr_is$subexpression$6"],postprocess:e=>(0,n.track)(e,{type:"unary",op:"IS "+_([e[2],e[3]]).join(" ").toUpperCase(),operand:c(e[0])})},{name:"expr_is",symbols:["expr_compare"],postprocess:c},{name:"expr_compare$macrocall$2$macrocall$2",symbols:[a.lexerAny.has("op_compare")?{type:"op_compare"}:op_compare]},{name:"expr_compare$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_compare$macrocall$2$macrocall$2"]},{name:"expr_compare$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_compare$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_compare$macrocall$2$macrocall$1",symbols:["expr_compare$macrocall$2$macrocall$1$macrocall$1"],postprocess:c},{name:"expr_compare$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_compare$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(y(e[4]," ")||"<error>").toUpperCase(),opSchema:y(e[2])})},{name:"expr_compare$macrocall$2",symbols:["expr_compare$macrocall$2$macrocall$1"]},{name:"expr_compare$macrocall$3",symbols:["expr_compare"]},{name:"expr_compare$macrocall$4",symbols:["expr_range"]},{name:"expr_compare$macrocall$1$subexpression$1",symbols:["expr_compare$macrocall$3"]},{name:"expr_compare$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_compare$macrocall$1$subexpression$2",symbols:["expr_compare$macrocall$4"]},{name:"expr_compare$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_compare$macrocall$1",symbols:["expr_compare$macrocall$1$subexpression$1","expr_compare$macrocall$2","expr_compare$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_compare$macrocall$1",symbols:["expr_compare$macrocall$4"],postprocess:c},{name:"expr_compare",symbols:["expr_compare$macrocall$1"]},{name:"expr_range$macrocall$2",symbols:["ops_between"]},{name:"expr_range$macrocall$3",symbols:[a.lexerAny.has("kw_and")?{type:"kw_and"}:kw_and]},{name:"expr_range$macrocall$4",symbols:["expr_range"]},{name:"expr_range$macrocall$5",symbols:["expr_others"]},{name:"expr_range$macrocall$1$subexpression$1",symbols:["expr_range$macrocall$4"]},{name:"expr_range$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_range$macrocall$1$subexpression$2",symbols:["expr_range$macrocall$4"]},{name:"expr_range$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_range$macrocall$1$subexpression$3",symbols:["expr_range$macrocall$5"]},{name:"expr_range$macrocall$1$subexpression$3",symbols:["expr_paren"]},{name:"expr_range$macrocall$1",symbols:["expr_range$macrocall$1$subexpression$1","expr_range$macrocall$2","expr_range$macrocall$1$subexpression$2","expr_range$macrocall$3","expr_range$macrocall$1$subexpression$3"],postprocess:e=>(0,n.track)(e,{type:"ternary",value:c(e[0]),lo:c(e[2]),hi:c(e[4]),op:(_(e[1]).join(" ")||"<error>").toUpperCase()})},{name:"expr_range$macrocall$1",symbols:["expr_range$macrocall$5"],postprocess:c},{name:"expr_range",symbols:["expr_range$macrocall$1"]},{name:"expr_others$macrocall$2$macrocall$2",symbols:[a.lexerAny.has("ops_others")?{type:"ops_others"}:ops_others]},{name:"expr_others$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_others$macrocall$2$macrocall$2"]},{name:"expr_others$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_others$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_others$macrocall$2$macrocall$1",symbols:["expr_others$macrocall$2$macrocall$1$macrocall$1"],postprocess:c},{name:"expr_others$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_others$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(y(e[4]," ")||"<error>").toUpperCase(),opSchema:y(e[2])})},{name:"expr_others$macrocall$2",symbols:["expr_others$macrocall$2$macrocall$1"]},{name:"expr_others$macrocall$3",symbols:["expr_others"]},{name:"expr_others$macrocall$4",symbols:["expr_like"]},{name:"expr_others$macrocall$1$subexpression$1",symbols:["expr_others$macrocall$3"]},{name:"expr_others$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_others$macrocall$1$subexpression$2",symbols:["expr_others$macrocall$4"]},{name:"expr_others$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_others$macrocall$1",symbols:["expr_others$macrocall$1$subexpression$1","expr_others$macrocall$2","expr_others$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_others$macrocall$1",symbols:["expr_others$macrocall$4"],postprocess:c},{name:"expr_others",symbols:["expr_others$macrocall$1"]},{name:"expr_like$macrocall$2$macrocall$2",symbols:["ops_like"]},{name:"expr_like$macrocall$2$macrocall$1",symbols:["expr_like$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_like$macrocall$2",symbols:["expr_like$macrocall$2$macrocall$1"]},{name:"expr_like$macrocall$3",symbols:["expr_like"]},{name:"expr_like$macrocall$4",symbols:["expr_in"]},{name:"expr_like$macrocall$1$subexpression$1",symbols:["expr_like$macrocall$3"]},{name:"expr_like$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_like$macrocall$1$subexpression$2",symbols:["expr_like$macrocall$4"]},{name:"expr_like$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_like$macrocall$1",symbols:["expr_like$macrocall$1$subexpression$1","expr_like$macrocall$2","expr_like$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_like$macrocall$1",symbols:["expr_like$macrocall$4"],postprocess:c},{name:"expr_like",symbols:["expr_like$macrocall$1"]},{name:"expr_in$macrocall$2$macrocall$2",symbols:["ops_in"]},{name:"expr_in$macrocall$2$macrocall$1",symbols:["expr_in$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_in$macrocall$2",symbols:["expr_in$macrocall$2$macrocall$1"]},{name:"expr_in$macrocall$3",symbols:["expr_in"]},{name:"expr_in$macrocall$4",symbols:["expr_add"]},{name:"expr_in$macrocall$1$subexpression$1",symbols:["expr_in$macrocall$3"]},{name:"expr_in$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_in$macrocall$1$subexpression$2",symbols:["expr_in$macrocall$4"]},{name:"expr_in$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_in$macrocall$1",symbols:["expr_in$macrocall$1$subexpression$1","expr_in$macrocall$2","expr_in$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_in$macrocall$1",symbols:["expr_in$macrocall$4"],postprocess:c},{name:"expr_in",symbols:["expr_in$macrocall$1"]},{name:"expr_add$macrocall$2$macrocall$2$subexpression$1",symbols:[a.lexerAny.has("op_plus")?{type:"op_plus"}:op_plus]},{name:"expr_add$macrocall$2$macrocall$2$subexpression$1",symbols:[a.lexerAny.has("op_minus")?{type:"op_minus"}:op_minus]},{name:"expr_add$macrocall$2$macrocall$2$subexpression$1",symbols:[a.lexerAny.has("op_additive")?{type:"op_additive"}:op_additive]},{name:"expr_add$macrocall$2$macrocall$2",symbols:["expr_add$macrocall$2$macrocall$2$subexpression$1"]},{name:"expr_add$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_add$macrocall$2$macrocall$2"]},{name:"expr_add$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_add$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_add$macrocall$2$macrocall$1",symbols:["expr_add$macrocall$2$macrocall$1$macrocall$1"],postprocess:c},{name:"expr_add$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_add$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(y(e[4]," ")||"<error>").toUpperCase(),opSchema:y(e[2])})},{name:"expr_add$macrocall$2",symbols:["expr_add$macrocall$2$macrocall$1"]},{name:"expr_add$macrocall$3",symbols:["expr_add"]},{name:"expr_add$macrocall$4",symbols:["expr_mult"]},{name:"expr_add$macrocall$1$subexpression$1",symbols:["expr_add$macrocall$3"]},{name:"expr_add$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_add$macrocall$1$subexpression$2",symbols:["expr_add$macrocall$4"]},{name:"expr_add$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_add$macrocall$1",symbols:["expr_add$macrocall$1$subexpression$1","expr_add$macrocall$2","expr_add$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_add$macrocall$1",symbols:["expr_add$macrocall$4"],postprocess:c},{name:"expr_add",symbols:["expr_add$macrocall$1"]},{name:"expr_mult$macrocall$2$macrocall$2$subexpression$1",symbols:[a.lexerAny.has("star")?{type:"star"}:star]},{name:"expr_mult$macrocall$2$macrocall$2$subexpression$1",symbols:[a.lexerAny.has("op_div")?{type:"op_div"}:op_div]},{name:"expr_mult$macrocall$2$macrocall$2$subexpression$1",symbols:[a.lexerAny.has("op_mod")?{type:"op_mod"}:op_mod]},{name:"expr_mult$macrocall$2$macrocall$2",symbols:["expr_mult$macrocall$2$macrocall$2$subexpression$1"]},{name:"expr_mult$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_mult$macrocall$2$macrocall$2"]},{name:"expr_mult$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_mult$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_mult$macrocall$2$macrocall$1",symbols:["expr_mult$macrocall$2$macrocall$1$macrocall$1"],postprocess:c},{name:"expr_mult$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_mult$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(y(e[4]," ")||"<error>").toUpperCase(),opSchema:y(e[2])})},{name:"expr_mult$macrocall$2",symbols:["expr_mult$macrocall$2$macrocall$1"]},{name:"expr_mult$macrocall$3",symbols:["expr_mult"]},{name:"expr_mult$macrocall$4",symbols:["expr_exp"]},{name:"expr_mult$macrocall$1$subexpression$1",symbols:["expr_mult$macrocall$3"]},{name:"expr_mult$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_mult$macrocall$1$subexpression$2",symbols:["expr_mult$macrocall$4"]},{name:"expr_mult$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_mult$macrocall$1",symbols:["expr_mult$macrocall$1$subexpression$1","expr_mult$macrocall$2","expr_mult$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_mult$macrocall$1",symbols:["expr_mult$macrocall$4"],postprocess:c},{name:"expr_mult",symbols:["expr_mult$macrocall$1"]},{name:"expr_exp$macrocall$2$macrocall$2",symbols:[a.lexerAny.has("op_exp")?{type:"op_exp"}:op_exp]},{name:"expr_exp$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_exp$macrocall$2$macrocall$2"]},{name:"expr_exp$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_exp$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_exp$macrocall$2$macrocall$1",symbols:["expr_exp$macrocall$2$macrocall$1$macrocall$1"],postprocess:c},{name:"expr_exp$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_exp$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(y(e[4]," ")||"<error>").toUpperCase(),opSchema:y(e[2])})},{name:"expr_exp$macrocall$2",symbols:["expr_exp$macrocall$2$macrocall$1"]},{name:"expr_exp$macrocall$3",symbols:["expr_exp"]},{name:"expr_exp$macrocall$4",symbols:["expr_unary_add"]},{name:"expr_exp$macrocall$1$subexpression$1",symbols:["expr_exp$macrocall$3"]},{name:"expr_exp$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_exp$macrocall$1$subexpression$2",symbols:["expr_exp$macrocall$4"]},{name:"expr_exp$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_exp$macrocall$1",symbols:["expr_exp$macrocall$1$subexpression$1","expr_exp$macrocall$2","expr_exp$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_exp$macrocall$1",symbols:["expr_exp$macrocall$4"],postprocess:c},{name:"expr_exp",symbols:["expr_exp$macrocall$1"]},{name:"expr_unary_add$macrocall$2$macrocall$2$subexpression$1",symbols:[a.lexerAny.has("op_plus")?{type:"op_plus"}:op_plus]},{name:"expr_unary_add$macrocall$2$macrocall$2$subexpression$1",symbols:[a.lexerAny.has("op_minus")?{type:"op_minus"}:op_minus]},{name:"expr_unary_add$macrocall$2$macrocall$2",symbols:["expr_unary_add$macrocall$2$macrocall$2$subexpression$1"]},{name:"expr_unary_add$macrocall$2$macrocall$1$macrocall$2",symbols:["expr_unary_add$macrocall$2$macrocall$2"]},{name:"expr_unary_add$macrocall$2$macrocall$1$macrocall$1",symbols:["expr_unary_add$macrocall$2$macrocall$1$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_unary_add$macrocall$2$macrocall$1",symbols:["expr_unary_add$macrocall$2$macrocall$1$macrocall$1"],postprocess:c},{name:"expr_unary_add$macrocall$2$macrocall$1",symbols:["kw_operator","lparen","ident","dot","expr_unary_add$macrocall$2$macrocall$2","rparen"],postprocess:e=>(0,n.track)(e,{op:(y(e[4]," ")||"<error>").toUpperCase(),opSchema:y(e[2])})},{name:"expr_unary_add$macrocall$2",symbols:["expr_unary_add$macrocall$2$macrocall$1"]},{name:"expr_unary_add$macrocall$3",symbols:["expr_unary_add"]},{name:"expr_unary_add$macrocall$4",symbols:["expr_various_constructs"]},{name:"expr_unary_add$macrocall$1$subexpression$1",symbols:["expr_unary_add$macrocall$3"]},{name:"expr_unary_add$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_unary_add$macrocall$1",symbols:["expr_unary_add$macrocall$2","expr_unary_add$macrocall$1$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"unary",...c(e[0]),operand:c(e[1])})},{name:"expr_unary_add$macrocall$1",symbols:["expr_unary_add$macrocall$4"],postprocess:c},{name:"expr_unary_add",symbols:["expr_unary_add$macrocall$1"]},{name:"expr_various_constructs$macrocall$2$macrocall$2",symbols:["various_binaries"]},{name:"expr_various_constructs$macrocall$2$macrocall$1",symbols:["expr_various_constructs$macrocall$2$macrocall$2"],postprocess:e=>(0,n.track)(e,{op:(y(e," ")||"<error>").toUpperCase()})},{name:"expr_various_constructs$macrocall$2",symbols:["expr_various_constructs$macrocall$2$macrocall$1"]},{name:"expr_various_constructs$macrocall$3",symbols:["expr_various_constructs"]},{name:"expr_various_constructs$macrocall$4",symbols:["expr_array_index"]},{name:"expr_various_constructs$macrocall$1$subexpression$1",symbols:["expr_various_constructs$macrocall$3"]},{name:"expr_various_constructs$macrocall$1$subexpression$1",symbols:["expr_paren"]},{name:"expr_various_constructs$macrocall$1$subexpression$2",symbols:["expr_various_constructs$macrocall$4"]},{name:"expr_various_constructs$macrocall$1$subexpression$2",symbols:["expr_paren"]},{name:"expr_various_constructs$macrocall$1",symbols:["expr_various_constructs$macrocall$1$subexpression$1","expr_various_constructs$macrocall$2","expr_various_constructs$macrocall$1$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"binary",left:c(e[0]),right:c(e[2]),...c(e[1])})},{name:"expr_various_constructs$macrocall$1",symbols:["expr_various_constructs$macrocall$4"],postprocess:c},{name:"expr_various_constructs",symbols:["expr_various_constructs$macrocall$1"]},{name:"expr_array_index$subexpression$1",symbols:["expr_array_index"]},{name:"expr_array_index$subexpression$1",symbols:["expr_paren"]},{name:"expr_array_index",symbols:["expr_array_index$subexpression$1",a.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket,"expr_nostar",a.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket],postprocess:e=>(0,n.track)(e,{type:"arrayIndex",array:c(e[0]),index:c(e[2])})},{name:"expr_array_index",symbols:["expr_member"],postprocess:c},{name:"expr_member$subexpression$1",symbols:["expr_member"]},{name:"expr_member$subexpression$1",symbols:["expr_paren"]},{name:"expr_member$subexpression$2",symbols:["string"]},{name:"expr_member$subexpression$2",symbols:["int"]},{name:"expr_member",symbols:["expr_member$subexpression$1","ops_member","expr_member$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"member",operand:c(e[0]),op:e[1],member:c(e[2])})},{name:"expr_member$subexpression$3",symbols:["expr_member"]},{name:"expr_member$subexpression$3",symbols:["expr_paren"]},{name:"expr_member",symbols:["expr_member$subexpression$3",a.lexerAny.has("op_cast")?{type:"op_cast"}:op_cast,"data_type"],postprocess:e=>(0,n.track)(e,{type:"cast",operand:c(e[0]),to:e[2]})},{name:"expr_member",symbols:[a.lexerAny.has("kw_cast")?{type:"kw_cast"}:kw_cast,"lparen","expr_nostar",a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"data_type","rparen"],postprocess:e=>(0,n.track)(e,{type:"cast",operand:c(e[2]),to:e[4]})},{name:"expr_member",symbols:["data_type","string"],postprocess:e=>(0,n.track)(e,{type:"cast",operand:(0,n.track)(e[1],{type:"string",value:(0,n.unbox)(e[1])}),to:(0,n.unbox)(e[0])})},{name:"expr_member",symbols:["expr_dot"],postprocess:c},{name:"expr_dot$subexpression$1",symbols:["word"]},{name:"expr_dot$subexpression$1",symbols:["star"]},{name:"expr_dot",symbols:["qname",a.lexerAny.has("dot")?{type:"dot"}:dot,"expr_dot$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"ref",table:c(e[0]),name:y(e[2])})},{name:"expr_dot",symbols:["expr_final"],postprocess:c},{name:"expr_final",symbols:["expr_basic"]},{name:"expr_final",symbols:["expr_primary"]},{name:"expr_basic",symbols:["expr_special_calls"]},{name:"expr_basic",symbols:["expr_call"]},{name:"expr_basic",symbols:["expr_array"]},{name:"expr_basic",symbols:["expr_case"]},{name:"expr_basic",symbols:["expr_extract"]},{name:"expr_basic",symbols:["word"],postprocess:e=>(0,n.track)(e,{type:"ref",name:c(e[0])})},{name:"expr_array$ebnf$1",symbols:["expr_subarray_items"],postprocess:r},{name:"expr_array$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_array",symbols:[a.lexerAny.has("kw_array")?{type:"kw_array"}:kw_array,a.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket,"expr_array$ebnf$1",a.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket],postprocess:e=>(0,n.track)(e,{type:"array",expressions:e[2]||[]})},{name:"expr_array",symbols:[a.lexerAny.has("kw_array")?{type:"kw_array"}:kw_array,"lparen","selection","rparen"],postprocess:e=>(0,n.track)(e,{type:"array select",select:c(e[2])})},{name:"expr_subarray$ebnf$1",symbols:["expr_subarray_items"],postprocess:r},{name:"expr_subarray$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_subarray",symbols:[a.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket,"expr_subarray$ebnf$1",a.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket],postprocess:p(1)},{name:"expr_subarray_items$macrocall$2",symbols:["expr_list_item"]},{name:"expr_subarray_items$macrocall$1$ebnf$1",symbols:[]},{name:"expr_subarray_items$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"expr_subarray_items$macrocall$2"],postprocess:m},{name:"expr_subarray_items$macrocall$1$ebnf$1",symbols:["expr_subarray_items$macrocall$1$ebnf$1","expr_subarray_items$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"expr_subarray_items$macrocall$1",symbols:["expr_subarray_items$macrocall$2","expr_subarray_items$macrocall$1$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"expr_subarray_items",symbols:["expr_subarray_items$macrocall$1"],postprocess:e=>e[0].map(c)},{name:"expr_subarray_items$macrocall$4",symbols:["expr_subarray"]},{name:"expr_subarray_items$macrocall$3$ebnf$1",symbols:[]},{name:"expr_subarray_items$macrocall$3$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"expr_subarray_items$macrocall$4"],postprocess:m},{name:"expr_subarray_items$macrocall$3$ebnf$1",symbols:["expr_subarray_items$macrocall$3$ebnf$1","expr_subarray_items$macrocall$3$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"expr_subarray_items$macrocall$3",symbols:["expr_subarray_items$macrocall$4","expr_subarray_items$macrocall$3$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"expr_subarray_items",symbols:["expr_subarray_items$macrocall$3"],postprocess:e=>e[0].map((e=>(0,n.track)(e,{type:"array",expressions:e[0].map(c)})))},{name:"expr_function_call$ebnf$1",symbols:["expr_list_raw"],postprocess:r},{name:"expr_function_call$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_function_call",symbols:["expr_fn_name","lparen","expr_function_call$ebnf$1","rparen"],postprocess:e=>(0,n.track)(e,{type:"call",function:c(e[0]),args:e[2]||[]})},{name:"expr_call$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all]},{name:"expr_call$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_distinct")?{type:"kw_distinct"}:kw_distinct]},{name:"expr_call$ebnf$1",symbols:["expr_call$ebnf$1$subexpression$1"],postprocess:r},{name:"expr_call$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_call$ebnf$2",symbols:["expr_list_raw"],postprocess:r},{name:"expr_call$ebnf$2",symbols:[],postprocess:()=>null},{name:"expr_call$ebnf$3",symbols:["select_order_by"],postprocess:r},{name:"expr_call$ebnf$3",symbols:[],postprocess:()=>null},{name:"expr_call$ebnf$4$subexpression$1",symbols:["kw_filter","lparen",a.lexerAny.has("kw_where")?{type:"kw_where"}:kw_where,"expr","rparen"],postprocess:p(3)},{name:"expr_call$ebnf$4",symbols:["expr_call$ebnf$4$subexpression$1"],postprocess:r},{name:"expr_call$ebnf$4",symbols:[],postprocess:()=>null},{name:"expr_call$ebnf$5",symbols:["expr_call_over"],postprocess:r},{name:"expr_call$ebnf$5",symbols:[],postprocess:()=>null},{name:"expr_call",symbols:["expr_fn_name","lparen","expr_call$ebnf$1","expr_call$ebnf$2","expr_call$ebnf$3","rparen","expr_call$ebnf$4","expr_call$ebnf$5"],postprocess:e=>(0,n.track)(e,{type:"call",function:c(e[0]),...e[2]&&{distinct:y(e[2])},args:e[3]||[],...e[4]&&{orderBy:e[4]},...e[6]&&{filter:c(e[6])},...e[7]&&{over:c(e[7])}})},{name:"expr_call_over$ebnf$1$subexpression$1",symbols:["kw_partition","kw_by","expr_list_raw"],postprocess:m},{name:"expr_call_over$ebnf$1",symbols:["expr_call_over$ebnf$1$subexpression$1"],postprocess:r},{name:"expr_call_over$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_call_over$ebnf$2",symbols:["select_order_by"],postprocess:r},{name:"expr_call_over$ebnf$2",symbols:[],postprocess:()=>null},{name:"expr_call_over",symbols:["kw_over","lparen","expr_call_over$ebnf$1","expr_call_over$ebnf$2","rparen"],postprocess:e=>(0,n.track)(e,{...e[2]&&{partitionBy:e[2]},...e[3]&&{orderBy:e[3]}})},{name:"expr_extract$subexpression$1",symbols:["word"],postprocess:h("extract")},{name:"expr_extract",symbols:["expr_extract$subexpression$1","lparen","word",a.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"expr","rparen"],postprocess:e=>(0,n.track)(e,{type:"extract",field:o(e[2]),from:e[4]})},{name:"expr_primary",symbols:["float"],postprocess:e=>(0,n.track)(e,{type:"numeric",value:(0,n.unbox)(e[0])})},{name:"expr_primary",symbols:["int"],postprocess:e=>(0,n.track)(e,{type:"integer",value:(0,n.unbox)(e[0])})},{name:"expr_primary",symbols:["string"],postprocess:e=>(0,n.track)(e,{type:"string",value:(0,n.unbox)(e[0])})},{name:"expr_primary",symbols:[a.lexerAny.has("kw_true")?{type:"kw_true"}:kw_true],postprocess:e=>(0,n.track)(e,{type:"boolean",value:!0})},{name:"expr_primary",symbols:[a.lexerAny.has("kw_false")?{type:"kw_false"}:kw_false],postprocess:e=>(0,n.track)(e,{type:"boolean",value:!1})},{name:"expr_primary",symbols:[a.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null],postprocess:e=>(0,n.track)(e,{type:"null"})},{name:"expr_primary",symbols:["value_keyword"],postprocess:e=>(0,n.track)(e,{type:"keyword",keyword:y(e)})},{name:"expr_primary",symbols:[a.lexerAny.has("qparam")?{type:"qparam"}:qparam],postprocess:e=>(0,n.track)(e,{type:"parameter",name:y(e[0])})},{name:"expr_primary",symbols:[a.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default],postprocess:e=>(0,n.track)(e,{type:"default"})},{name:"ops_like",symbols:["ops_like_keywors"]},{name:"ops_like",symbols:["ops_like_operators"]},{name:"ops_like_keywors$ebnf$1",symbols:[a.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:r},{name:"ops_like_keywors$ebnf$1",symbols:[],postprocess:()=>null},{name:"ops_like_keywors$subexpression$1",symbols:[a.lexerAny.has("kw_like")?{type:"kw_like"}:kw_like]},{name:"ops_like_keywors$subexpression$1",symbols:[a.lexerAny.has("kw_ilike")?{type:"kw_ilike"}:kw_ilike]},{name:"ops_like_keywors",symbols:["ops_like_keywors$ebnf$1","ops_like_keywors$subexpression$1"]},{name:"ops_like_operators$subexpression$1",symbols:[a.lexerAny.has("op_like")?{type:"op_like"}:op_like],postprocess:()=>"LIKE"},{name:"ops_like_operators",symbols:["ops_like_operators$subexpression$1"]},{name:"ops_like_operators$subexpression$2",symbols:[a.lexerAny.has("op_ilike")?{type:"op_ilike"}:op_ilike],postprocess:()=>"ILIKE"},{name:"ops_like_operators",symbols:["ops_like_operators$subexpression$2"]},{name:"ops_like_operators$subexpression$3",symbols:[a.lexerAny.has("op_not_like")?{type:"op_not_like"}:op_not_like],postprocess:()=>"NOT LIKE"},{name:"ops_like_operators",symbols:["ops_like_operators$subexpression$3"]},{name:"ops_like_operators$subexpression$4",symbols:[a.lexerAny.has("op_not_ilike")?{type:"op_not_ilike"}:op_not_ilike],postprocess:()=>"NOT ILIKE"},{name:"ops_like_operators",symbols:["ops_like_operators$subexpression$4"]},{name:"ops_in$ebnf$1",symbols:[a.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:r},{name:"ops_in$ebnf$1",symbols:[],postprocess:()=>null},{name:"ops_in",symbols:["ops_in$ebnf$1",a.lexerAny.has("kw_in")?{type:"kw_in"}:kw_in]},{name:"ops_between$ebnf$1",symbols:[a.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:r},{name:"ops_between$ebnf$1",symbols:[],postprocess:()=>null},{name:"ops_between",symbols:["ops_between$ebnf$1","kw_between"]},{name:"ops_member$subexpression$1",symbols:[a.lexerAny.has("op_member")?{type:"op_member"}:op_member]},{name:"ops_member$subexpression$1",symbols:[a.lexerAny.has("op_membertext")?{type:"op_membertext"}:op_membertext]},{name:"ops_member",symbols:["ops_member$subexpression$1"],postprocess:e=>{var s;return null===(s=c(e))||void 0===s?void 0:s.value}},{name:"expr_list_item",symbols:["expr_or_select"],postprocess:c},{name:"expr_list_item",symbols:["expr_star"],postprocess:c},{name:"expr_list_raw$macrocall$2",symbols:["expr_list_item"]},{name:"expr_list_raw$macrocall$1$ebnf$1",symbols:[]},{name:"expr_list_raw$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"expr_list_raw$macrocall$2"],postprocess:m},{name:"expr_list_raw$macrocall$1$ebnf$1",symbols:["expr_list_raw$macrocall$1$ebnf$1","expr_list_raw$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"expr_list_raw$macrocall$1",symbols:["expr_list_raw$macrocall$2","expr_list_raw$macrocall$1$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"expr_list_raw",symbols:["expr_list_raw$macrocall$1"],postprocess:([e])=>e.map(c)},{name:"expr_list_raw_many$macrocall$2",symbols:["expr_list_item"]},{name:"expr_list_raw_many$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"expr_list_raw_many$macrocall$2"],postprocess:m},{name:"expr_list_raw_many$macrocall$1$ebnf$1",symbols:["expr_list_raw_many$macrocall$1$ebnf$1$subexpression$1"]},{name:"expr_list_raw_many$macrocall$1$ebnf$1$subexpression$2",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"expr_list_raw_many$macrocall$2"],postprocess:m},{name:"expr_list_raw_many$macrocall$1$ebnf$1",symbols:["expr_list_raw_many$macrocall$1$ebnf$1","expr_list_raw_many$macrocall$1$ebnf$1$subexpression$2"],postprocess:e=>e[0].concat([e[1]])},{name:"expr_list_raw_many$macrocall$1",symbols:["expr_list_raw_many$macrocall$2","expr_list_raw_many$macrocall$1$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"expr_list_raw_many",symbols:["expr_list_raw_many$macrocall$1"],postprocess:([e])=>e.map(c)},{name:"expr_or_select",symbols:["expr_nostar"],postprocess:c},{name:"expr_or_select",symbols:["selection"],postprocess:c},{name:"expr_list_many",symbols:["expr_list_raw_many"],postprocess:e=>(0,n.track)(e,{type:"list",expressions:e[0]})},{name:"expr_case$ebnf$1",symbols:["expr_nostar"],postprocess:r},{name:"expr_case$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_case$ebnf$2",symbols:[]},{name:"expr_case$ebnf$2",symbols:["expr_case$ebnf$2","expr_case_whens"],postprocess:e=>e[0].concat([e[1]])},{name:"expr_case$ebnf$3",symbols:["expr_case_else"],postprocess:r},{name:"expr_case$ebnf$3",symbols:[],postprocess:()=>null},{name:"expr_case",symbols:[a.lexerAny.has("kw_case")?{type:"kw_case"}:kw_case,"expr_case$ebnf$1","expr_case$ebnf$2","expr_case$ebnf$3",a.lexerAny.has("kw_end")?{type:"kw_end"}:kw_end],postprocess:e=>(0,n.track)(e,{type:"case",value:e[1],whens:e[2],else:e[3]})},{name:"expr_case_whens",symbols:[a.lexerAny.has("kw_when")?{type:"kw_when"}:kw_when,"expr_nostar",a.lexerAny.has("kw_then")?{type:"kw_then"}:kw_then,"expr_nostar"],postprocess:e=>(0,n.track)(e,{when:e[1],value:e[3]})},{name:"expr_case_else",symbols:[a.lexerAny.has("kw_else")?{type:"kw_else"}:kw_else,"expr_nostar"],postprocess:m},{name:"expr_fn_name$subexpression$1$ebnf$1$subexpression$1",symbols:["word",a.lexerAny.has("dot")?{type:"dot"}:dot]},{name:"expr_fn_name$subexpression$1$ebnf$1",symbols:["expr_fn_name$subexpression$1$ebnf$1$subexpression$1"],postprocess:r},{name:"expr_fn_name$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"expr_fn_name$subexpression$1",symbols:["expr_fn_name$subexpression$1$ebnf$1","word_or_keyword"],postprocess:e=>(0,n.track)(e,{name:(0,n.unbox)(c(e[1])),...e[0]&&{schema:y(e[0][0])}})},{name:"expr_fn_name",symbols:["expr_fn_name$subexpression$1"]},{name:"expr_fn_name$subexpression$2$subexpression$1",symbols:[a.lexerAny.has("kw_any")?{type:"kw_any"}:kw_any]},{name:"expr_fn_name$subexpression$2$subexpression$1",symbols:[a.lexerAny.has("kw_some")?{type:"kw_some"}:kw_some]},{name:"expr_fn_name$subexpression$2$subexpression$1",symbols:[a.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all]},{name:"expr_fn_name$subexpression$2",symbols:["expr_fn_name$subexpression$2$subexpression$1"],postprocess:e=>(0,n.track)(e,{name:y(c(e))})},{name:"expr_fn_name",symbols:["expr_fn_name$subexpression$2"]},{name:"word_or_keyword",symbols:["word"]},{name:"word_or_keyword",symbols:["value_keyword"],postprocess:e=>(0,n.box)(e,y(e))},{name:"value_keyword",symbols:[a.lexerAny.has("kw_current_catalog")?{type:"kw_current_catalog"}:kw_current_catalog]},{name:"value_keyword",symbols:[a.lexerAny.has("kw_current_date")?{type:"kw_current_date"}:kw_current_date]},{name:"value_keyword",symbols:[a.lexerAny.has("kw_current_role")?{type:"kw_current_role"}:kw_current_role]},{name:"value_keyword",symbols:[a.lexerAny.has("kw_current_schema")?{type:"kw_current_schema"}:kw_current_schema]},{name:"value_keyword",symbols:[a.lexerAny.has("kw_current_timestamp")?{type:"kw_current_timestamp"}:kw_current_timestamp]},{name:"value_keyword",symbols:[a.lexerAny.has("kw_current_time")?{type:"kw_current_time"}:kw_current_time]},{name:"value_keyword",symbols:[a.lexerAny.has("kw_localtimestamp")?{type:"kw_localtimestamp"}:kw_localtimestamp]},{name:"value_keyword",symbols:[a.lexerAny.has("kw_localtime")?{type:"kw_localtime"}:kw_localtime]},{name:"value_keyword",symbols:[a.lexerAny.has("kw_session_user")?{type:"kw_session_user"}:kw_session_user]},{name:"value_keyword",symbols:[a.lexerAny.has("kw_user")?{type:"kw_user"}:kw_user]},{name:"value_keyword",symbols:[a.lexerAny.has("kw_current_user")?{type:"kw_current_user"}:kw_current_user]},{name:"expr_special_calls",symbols:["spe_overlay"]},{name:"expr_special_calls",symbols:["spe_substring"]},{name:"spe_overlay$subexpression$1",symbols:["word"],postprocess:h("overlay")},{name:"spe_overlay$subexpression$2",symbols:[a.lexerAny.has("lparen")?{type:"lparen"}:lparen,"expr_nostar"]},{name:"spe_overlay$subexpression$3",symbols:[a.lexerAny.has("kw_placing")?{type:"kw_placing"}:kw_placing,"expr_nostar"]},{name:"spe_overlay$subexpression$4",symbols:[a.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"expr_nostar"]},{name:"spe_overlay$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_for")?{type:"kw_for"}:kw_for,"expr_nostar"]},{name:"spe_overlay$ebnf$1",symbols:["spe_overlay$ebnf$1$subexpression$1"],postprocess:r},{name:"spe_overlay$ebnf$1",symbols:[],postprocess:()=>null},{name:"spe_overlay",symbols:["spe_overlay$subexpression$1","spe_overlay$subexpression$2","spe_overlay$subexpression$3","spe_overlay$subexpression$4","spe_overlay$ebnf$1",a.lexerAny.has("rparen")?{type:"rparen"}:rparen],postprocess:e=>(0,n.track)(e,{type:"overlay",value:e[1][1],placing:e[2][1],from:e[3][1],...e[4]&&{for:e[4][1]}})},{name:"spe_substring$subexpression$1",symbols:["word"],postprocess:h("substring")},{name:"spe_substring$subexpression$2",symbols:[a.lexerAny.has("lparen")?{type:"lparen"}:lparen,"expr_nostar"]},{name:"spe_substring$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"expr_nostar"]},{name:"spe_substring$ebnf$1",symbols:["spe_substring$ebnf$1$subexpression$1"],postprocess:r},{name:"spe_substring$ebnf$1",symbols:[],postprocess:()=>null},{name:"spe_substring$ebnf$2$subexpression$1",symbols:[a.lexerAny.has("kw_for")?{type:"kw_for"}:kw_for,"expr_nostar"]},{name:"spe_substring$ebnf$2",symbols:["spe_substring$ebnf$2$subexpression$1"],postprocess:r},{name:"spe_substring$ebnf$2",symbols:[],postprocess:()=>null},{name:"spe_substring",symbols:["spe_substring$subexpression$1","spe_substring$subexpression$2","spe_substring$ebnf$1","spe_substring$ebnf$2",a.lexerAny.has("rparen")?{type:"rparen"}:rparen],postprocess:e=>(0,n.track)(e,{type:"substring",value:e[1][1],...e[2]&&{from:e[2][1]},...e[3]&&{for:e[3][1]}})},{name:"various_binaries",symbols:["kw_at","kw_time","kw_zone"],postprocess:()=>"AT TIME ZONE"},{name:"createtable_statement$ebnf$1",symbols:["createtable_modifiers"],postprocess:r},{name:"createtable_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"createtable_statement$ebnf$2",symbols:["kw_ifnotexists"],postprocess:r},{name:"createtable_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"createtable_statement$ebnf$3",symbols:["createtable_opts"],postprocess:r},{name:"createtable_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"createtable_statement",symbols:[a.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"createtable_statement$ebnf$1",a.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table,"createtable_statement$ebnf$2","qname","lparen","createtable_declarationlist","rparen","createtable_statement$ebnf$3"],postprocess:e=>{const s=e[6].filter((e=>"kind"in e)),t=e[6].filter((e=>!("kind"in e)));return(0,n.track)(e,{type:"create table",...e[3]?{ifNotExists:!0}:{},name:e[4],columns:s,...c(e[1]),...t.length?{constraints:t}:{},...m(e)})}},{name:"createtable_modifiers",symbols:["kw_unlogged"],postprocess:e=>e[0]?{unlogged:!0}:{}},{name:"createtable_modifiers",symbols:["m_locglob"]},{name:"createtable_modifiers",symbols:["m_tmp"]},{name:"createtable_modifiers",symbols:["m_locglob","m_tmp"],postprocess:([e,s])=>({...e,...s})},{name:"m_locglob$subexpression$1",symbols:["kw_local"]},{name:"m_locglob$subexpression$1",symbols:["kw_global"]},{name:"m_locglob",symbols:["m_locglob$subexpression$1"],postprocess:e=>({locality:y(e)})},{name:"m_tmp$subexpression$1",symbols:["kw_temp"]},{name:"m_tmp$subexpression$1",symbols:["kw_temporary"]},{name:"m_tmp",symbols:["m_tmp$subexpression$1"],postprocess:e=>({temporary:!0})},{name:"createtable_declarationlist$ebnf$1",symbols:[]},{name:"createtable_declarationlist$ebnf$1$subexpression$1",symbols:["comma","createtable_declaration"],postprocess:m},{name:"createtable_declarationlist$ebnf$1",symbols:["createtable_declarationlist$ebnf$1","createtable_declarationlist$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_declarationlist",symbols:["createtable_declaration","createtable_declarationlist$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"createtable_declaration$subexpression$1",symbols:["createtable_constraint"]},{name:"createtable_declaration$subexpression$1",symbols:["createtable_column"]},{name:"createtable_declaration$subexpression$1",symbols:["createtable_like"]},{name:"createtable_declaration",symbols:["createtable_declaration$subexpression$1"],postprocess:c},{name:"createtable_constraint$macrocall$2",symbols:["createtable_constraint_def"]},{name:"createtable_constraint$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint,"word"]},{name:"createtable_constraint$macrocall$1$ebnf$1",symbols:["createtable_constraint$macrocall$1$ebnf$1$subexpression$1"],postprocess:r},{name:"createtable_constraint$macrocall$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"createtable_constraint$macrocall$1",symbols:["createtable_constraint$macrocall$1$ebnf$1","createtable_constraint$macrocall$2"],postprocess:e=>{const s=e[0]&&o(e[0][1]);return s?(0,n.track)(e,{constraintName:s,...c(e[1])}):(0,n.track)(e,c(e[1]))}},{name:"createtable_constraint",symbols:["createtable_constraint$macrocall$1"],postprocess:c},{name:"createtable_constraint_def",symbols:["createtable_constraint_def_unique"]},{name:"createtable_constraint_def",symbols:["createtable_constraint_def_check"]},{name:"createtable_constraint_def",symbols:["createtable_constraint_foreignkey"]},{name:"createtable_constraint_def_unique$subexpression$1",symbols:[a.lexerAny.has("kw_unique")?{type:"kw_unique"}:kw_unique]},{name:"createtable_constraint_def_unique$subexpression$1",symbols:["kw_primary_key"]},{name:"createtable_constraint_def_unique",symbols:["createtable_constraint_def_unique$subexpression$1","lparen","createtable_collist","rparen"],postprocess:e=>(0,n.track)(e,{type:y(e[0]," "),columns:e[2].map(o)})},{name:"createtable_constraint_def_check",symbols:[a.lexerAny.has("kw_check")?{type:"kw_check"}:kw_check,"expr_paren"],postprocess:e=>(0,n.track)(e,{type:"check",expr:c(e[1])})},{name:"createtable_constraint_foreignkey",symbols:[a.lexerAny.has("kw_foreign")?{type:"kw_foreign"}:kw_foreign,"kw_key","collist_paren","createtable_references"],postprocess:e=>(0,n.track)(e,{type:"foreign key",localColumns:e[2].map(o),...e[3]})},{name:"createtable_references$ebnf$1",symbols:[]},{name:"createtable_references$ebnf$1",symbols:["createtable_references$ebnf$1","createtable_constraint_foreignkey_onsometing"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_references",symbols:[a.lexerAny.has("kw_references")?{type:"kw_references"}:kw_references,"table_ref","collist_paren","createtable_references$ebnf$1"],postprocess:e=>(0,n.track)(e,{foreignTable:c(e[1]),foreignColumns:e[2].map(o),...e[3].reduce(((e,s)=>({...e,...s})),{})})},{name:"createtable_constraint_foreignkey_onsometing",symbols:[a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"kw_delete","createtable_constraint_on_action"],postprocess:e=>(0,n.track)(e,{onDelete:m(e)})},{name:"createtable_constraint_foreignkey_onsometing",symbols:[a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"kw_update","createtable_constraint_on_action"],postprocess:e=>(0,n.track)(e,{onUpdate:m(e)})},{name:"createtable_constraint_foreignkey_onsometing$subexpression$1",symbols:[a.lexerAny.has("kw_full")?{type:"kw_full"}:kw_full]},{name:"createtable_constraint_foreignkey_onsometing$subexpression$1",symbols:["kw_partial"]},{name:"createtable_constraint_foreignkey_onsometing$subexpression$1",symbols:["kw_simple"]},{name:"createtable_constraint_foreignkey_onsometing",symbols:["kw_match","createtable_constraint_foreignkey_onsometing$subexpression$1"],postprocess:e=>(0,n.track)(e,{match:y(m(e))})},{name:"createtable_constraint_on_action$subexpression$1",symbols:["kw_cascade"]},{name:"createtable_constraint_on_action$subexpression$1$subexpression$1",symbols:["kw_no","kw_action"]},{name:"createtable_constraint_on_action$subexpression$1",symbols:["createtable_constraint_on_action$subexpression$1$subexpression$1"]},{name:"createtable_constraint_on_action$subexpression$1",symbols:["kw_restrict"]},{name:"createtable_constraint_on_action$subexpression$1$subexpression$2",symbols:[a.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null]},{name:"createtable_constraint_on_action$subexpression$1$subexpression$2",symbols:[a.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default]},{name:"createtable_constraint_on_action$subexpression$1",symbols:["kw_set","createtable_constraint_on_action$subexpression$1$subexpression$2"]},{name:"createtable_constraint_on_action",symbols:["createtable_constraint_on_action$subexpression$1"],postprocess:e=>y(e," ")},{name:"createtable_collist$ebnf$1",symbols:[]},{name:"createtable_collist$ebnf$1$subexpression$1",symbols:["comma","ident"],postprocess:m},{name:"createtable_collist$ebnf$1",symbols:["createtable_collist$ebnf$1","createtable_collist$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_collist",symbols:["ident","createtable_collist$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"createtable_column$ebnf$1",symbols:["createtable_collate"],postprocess:r},{name:"createtable_column$ebnf$1",symbols:[],postprocess:()=>null},{name:"createtable_column$ebnf$2",symbols:[]},{name:"createtable_column$ebnf$2",symbols:["createtable_column$ebnf$2","createtable_column_constraint"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_column",symbols:["word","data_type","createtable_column$ebnf$1","createtable_column$ebnf$2"],postprocess:e=>(0,n.track)(e,{kind:"column",name:o(e[0]),dataType:e[1],...e[2]?{collate:e[2][1]}:{},...e[3]&&e[3].length?{constraints:e[3]}:{}})},{name:"createtable_like$ebnf$1",symbols:[]},{name:"createtable_like$ebnf$1",symbols:["createtable_like$ebnf$1","createtable_like_opt"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_like",symbols:[a.lexerAny.has("kw_like")?{type:"kw_like"}:kw_like,"qname","createtable_like$ebnf$1"],postprocess:e=>(0,n.track)(e,{kind:"like table",like:e[1],options:e[2]})},{name:"createtable_like_opt$subexpression$1",symbols:["kw_including"]},{name:"createtable_like_opt$subexpression$1",symbols:["kw_excluding"]},{name:"createtable_like_opt",symbols:["createtable_like_opt$subexpression$1","createtable_like_opt_val"],postprocess:e=>(0,n.track)(e,{verb:y(e[0]),option:y(e[1])})},{name:"createtable_like_opt_val",symbols:["word"],postprocess:x("defaults","constraints","indexes","storage","comments")},{name:"createtable_like_opt_val",symbols:[a.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all]},{name:"createtable_column_constraint$macrocall$2",symbols:["createtable_column_constraint_def"]},{name:"createtable_column_constraint$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint,"word"]},{name:"createtable_column_constraint$macrocall$1$ebnf$1",symbols:["createtable_column_constraint$macrocall$1$ebnf$1$subexpression$1"],postprocess:r},{name:"createtable_column_constraint$macrocall$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"createtable_column_constraint$macrocall$1",symbols:["createtable_column_constraint$macrocall$1$ebnf$1","createtable_column_constraint$macrocall$2"],postprocess:e=>{const s=e[0]&&o(e[0][1]);return s?(0,n.track)(e,{constraintName:s,...c(e[1])}):(0,n.track)(e,c(e[1]))}},{name:"createtable_column_constraint",symbols:["createtable_column_constraint$macrocall$1"],postprocess:c},{name:"createtable_column_constraint_def",symbols:[a.lexerAny.has("kw_unique")?{type:"kw_unique"}:kw_unique],postprocess:e=>(0,n.track)(e,{type:"unique"})},{name:"createtable_column_constraint_def",symbols:["kw_primary_key"],postprocess:e=>(0,n.track)(e,{type:"primary key"})},{name:"createtable_column_constraint_def",symbols:["kw_not_null"],postprocess:e=>(0,n.track)(e,{type:"not null"})},{name:"createtable_column_constraint_def",symbols:[a.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null],postprocess:e=>(0,n.track)(e,{type:"null"})},{name:"createtable_column_constraint_def",symbols:[a.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default,"expr"],postprocess:e=>(0,n.track)(e,{type:"default",default:c(e[1])})},{name:"createtable_column_constraint_def",symbols:[a.lexerAny.has("kw_check")?{type:"kw_check"}:kw_check,"expr_paren"],postprocess:e=>(0,n.track)(e,{type:"check",expr:c(e[1])})},{name:"createtable_column_constraint_def",symbols:["createtable_references"],postprocess:e=>(0,n.track)(e,{type:"reference",...c(e)})},{name:"createtable_column_constraint_def",symbols:["altercol_generated"]},{name:"createtable_collate",symbols:[a.lexerAny.has("kw_collate")?{type:"kw_collate"}:kw_collate,"qualified_name"]},{name:"createtable_opts$subexpression$1",symbols:["word"],postprocess:h("inherits")},{name:"createtable_opts$macrocall$2",symbols:["qname"]},{name:"createtable_opts$macrocall$1$ebnf$1",symbols:[]},{name:"createtable_opts$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"createtable_opts$macrocall$2"],postprocess:m},{name:"createtable_opts$macrocall$1$ebnf$1",symbols:["createtable_opts$macrocall$1$ebnf$1","createtable_opts$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createtable_opts$macrocall$1",symbols:["createtable_opts$macrocall$2","createtable_opts$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"createtable_opts",symbols:["createtable_opts$subexpression$1","lparen","createtable_opts$macrocall$1","rparen"],postprocess:e=>(0,n.track)(e,{inherits:e[2]})},{name:"createindex_statement$ebnf$1",symbols:[a.lexerAny.has("kw_unique")?{type:"kw_unique"}:kw_unique],postprocess:r},{name:"createindex_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$2",symbols:["kw_ifnotexists"],postprocess:r},{name:"createindex_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$3",symbols:["word"],postprocess:r},{name:"createindex_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$4$subexpression$1",symbols:[a.lexerAny.has("kw_using")?{type:"kw_using"}:kw_using,"ident"],postprocess:m},{name:"createindex_statement$ebnf$4",symbols:["createindex_statement$ebnf$4$subexpression$1"],postprocess:r},{name:"createindex_statement$ebnf$4",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$5",symbols:["createindex_with"],postprocess:r},{name:"createindex_statement$ebnf$5",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$6",symbols:["createindex_tblspace"],postprocess:r},{name:"createindex_statement$ebnf$6",symbols:[],postprocess:()=>null},{name:"createindex_statement$ebnf$7",symbols:["createindex_predicate"],postprocess:r},{name:"createindex_statement$ebnf$7",symbols:[],postprocess:()=>null},{name:"createindex_statement",symbols:[a.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"createindex_statement$ebnf$1","kw_index","createindex_statement$ebnf$2","createindex_statement$ebnf$3",a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"table_ref","createindex_statement$ebnf$4","lparen","createindex_expressions","rparen","createindex_statement$ebnf$5","createindex_statement$ebnf$6","createindex_statement$ebnf$7"],postprocess:e=>(0,n.track)(e,{type:"create index",...e[1]&&{unique:!0},...e[3]&&{ifNotExists:!0},...e[4]&&{indexName:o(e[4])},table:e[6],...e[7]&&{using:o(e[7])},expressions:e[9],...e[11]&&{with:e[11]},...e[12]&&{tablespace:c(e[12])},...e[13]&&{where:c(e[13])}})},{name:"createindex_expressions$ebnf$1",symbols:[]},{name:"createindex_expressions$ebnf$1$subexpression$1",symbols:["comma","createindex_expression"],postprocess:m},{name:"createindex_expressions$ebnf$1",symbols:["createindex_expressions$ebnf$1","createindex_expressions$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createindex_expressions",symbols:["createindex_expression","createindex_expressions$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"createindex_expression$subexpression$1",symbols:["expr_basic"]},{name:"createindex_expression$subexpression$1",symbols:["expr_paren"]},{name:"createindex_expression$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_collate")?{type:"kw_collate"}:kw_collate,"qualified_name"],postprocess:m},{name:"createindex_expression$ebnf$1",symbols:["createindex_expression$ebnf$1$subexpression$1"],postprocess:r},{name:"createindex_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"createindex_expression$ebnf$2",symbols:["qualified_name"],postprocess:r},{name:"createindex_expression$ebnf$2",symbols:[],postprocess:()=>null},{name:"createindex_expression$ebnf$3$subexpression$1",symbols:[a.lexerAny.has("kw_asc")?{type:"kw_asc"}:kw_asc]},{name:"createindex_expression$ebnf$3$subexpression$1",symbols:[a.lexerAny.has("kw_desc")?{type:"kw_desc"}:kw_desc]},{name:"createindex_expression$ebnf$3",symbols:["createindex_expression$ebnf$3$subexpression$1"],postprocess:r},{name:"createindex_expression$ebnf$3",symbols:[],postprocess:()=>null},{name:"createindex_expression$ebnf$4$subexpression$1$subexpression$1",symbols:["kw_first"]},{name:"createindex_expression$ebnf$4$subexpression$1$subexpression$1",symbols:["kw_last"]},{name:"createindex_expression$ebnf$4$subexpression$1",symbols:["kw_nulls","createindex_expression$ebnf$4$subexpression$1$subexpression$1"],postprocess:m},{name:"createindex_expression$ebnf$4",symbols:["createindex_expression$ebnf$4$subexpression$1"],postprocess:r},{name:"createindex_expression$ebnf$4",symbols:[],postprocess:()=>null},{name:"createindex_expression",symbols:["createindex_expression$subexpression$1","createindex_expression$ebnf$1","createindex_expression$ebnf$2","createindex_expression$ebnf$3","createindex_expression$ebnf$4"],postprocess:e=>(0,n.track)(e,{expression:c(e[0]),...e[1]&&{collate:c(e[1])},...e[2]&&{opclass:c(e[2])},...e[3]&&{order:c(e[3]).value},...e[4]&&{nulls:c(e[4])}})},{name:"createindex_predicate",symbols:[a.lexerAny.has("kw_where")?{type:"kw_where"}:kw_where,"expr"],postprocess:m},{name:"createindex_with$macrocall$2",symbols:["createindex_with_item"]},{name:"createindex_with$macrocall$1$ebnf$1",symbols:[]},{name:"createindex_with$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"createindex_with$macrocall$2"],postprocess:m},{name:"createindex_with$macrocall$1$ebnf$1",symbols:["createindex_with$macrocall$1$ebnf$1","createindex_with$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createindex_with$macrocall$1",symbols:["createindex_with$macrocall$2","createindex_with$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"createindex_with",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"lparen","createindex_with$macrocall$1","rparen"],postprocess:p(2)},{name:"createindex_with_item$subexpression$1",symbols:["string"]},{name:"createindex_with_item$subexpression$1",symbols:["int"]},{name:"createindex_with_item",symbols:["ident",a.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"createindex_with_item$subexpression$1"],postprocess:e=>(0,n.track)(e,{parameter:y(e[0]),value:c(e[2]).toString()})},{name:"createindex_tblspace",symbols:["kw_tablespace","ident"],postprocess:m},{name:"createextension_statement$ebnf$1",symbols:["kw_ifnotexists"],postprocess:r},{name:"createextension_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"createextension_statement$ebnf$2",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with],postprocess:r},{name:"createextension_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"createextension_statement$ebnf$3$subexpression$1",symbols:["kw_schema","word"],postprocess:m},{name:"createextension_statement$ebnf$3",symbols:["createextension_statement$ebnf$3$subexpression$1"],postprocess:r},{name:"createextension_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"createextension_statement$ebnf$4$subexpression$1",symbols:["kw_version","string"],postprocess:m},{name:"createextension_statement$ebnf$4",symbols:["createextension_statement$ebnf$4$subexpression$1"],postprocess:r},{name:"createextension_statement$ebnf$4",symbols:[],postprocess:()=>null},{name:"createextension_statement$ebnf$5$subexpression$1",symbols:[a.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"string"],postprocess:m},{name:"createextension_statement$ebnf$5",symbols:["createextension_statement$ebnf$5$subexpression$1"],postprocess:r},{name:"createextension_statement$ebnf$5",symbols:[],postprocess:()=>null},{name:"createextension_statement",symbols:[a.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"kw_extension","createextension_statement$ebnf$1","word","createextension_statement$ebnf$2","createextension_statement$ebnf$3","createextension_statement$ebnf$4","createextension_statement$ebnf$5"],postprocess:e=>(0,n.track)(e,{type:"create extension",...e[2]?{ifNotExists:!0}:{},extension:o(e[3]),...e[5]?{schema:o(e[5])}:{},...e[6]?{version:i(e[6])}:{},...e[7]?{from:i(e[7])}:{}})},{name:"simplestatements_all",symbols:["simplestatements_start_transaction"]},{name:"simplestatements_all",symbols:["simplestatements_commit"]},{name:"simplestatements_all",symbols:["simplestatements_rollback"]},{name:"simplestatements_all",symbols:["simplestatements_tablespace"]},{name:"simplestatements_all",symbols:["simplestatements_set"]},{name:"simplestatements_all",symbols:["simplestatements_show"]},{name:"simplestatements_all",symbols:["simplestatements_begin"]},{name:"simplestatements_start_transaction$subexpression$1",symbols:["kw_start","kw_transaction"]},{name:"simplestatements_start_transaction",symbols:["simplestatements_start_transaction$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"start transaction"})},{name:"simplestatements_commit",symbols:["kw_commit"],postprocess:e=>(0,n.track)(e,{type:"commit"})},{name:"simplestatements_rollback",symbols:["kw_rollback"],postprocess:e=>(0,n.track)(e,{type:"rollback"})},{name:"simplestatements_tablespace",symbols:["kw_tablespace","word"],postprocess:e=>(0,n.track)(e,{type:"tablespace",tablespace:o(e[1])})},{name:"simplestatements_set$subexpression$1",symbols:["simplestatements_set_simple"]},{name:"simplestatements_set$subexpression$1",symbols:["simplestatements_set_timezone"]},{name:"simplestatements_set",symbols:["kw_set","simplestatements_set$subexpression$1"],postprocess:m},{name:"simplestatements_set_timezone",symbols:["kw_time","kw_zone","simplestatements_set_timezone_val"],postprocess:e=>(0,n.track)(e,{type:"set timezone",to:e[2]})},{name:"simplestatements_set_timezone_val$subexpression$1",symbols:["string"]},{name:"simplestatements_set_timezone_val$subexpression$1",symbols:["int"]},{name:"simplestatements_set_timezone_val",symbols:["simplestatements_set_timezone_val$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"value",value:c(e[0])})},{name:"simplestatements_set_timezone_val",symbols:["kw_local"],postprocess:e=>(0,n.track)(e,{type:"local"})},{name:"simplestatements_set_timezone_val",symbols:[a.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default],postprocess:e=>(0,n.track)(e,{type:"default"})},{name:"simplestatements_set_timezone_val",symbols:["kw_interval","string","kw_hour",a.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"kw_minute"],postprocess:e=>(0,n.track)(e,{type:"interval",value:(0,n.unbox)(e[1])})},{name:"simplestatements_set_simple$subexpression$1",symbols:[a.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq]},{name:"simplestatements_set_simple$subexpression$1",symbols:[a.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to]},{name:"simplestatements_set_simple",symbols:["ident","simplestatements_set_simple$subexpression$1","simplestatements_set_val"],postprocess:e=>(0,n.track)(e,{type:"set",variable:o(e[0]),set:(0,n.unbox)(e[2])})},{name:"simplestatements_set_val",symbols:["simplestatements_set_val_raw"],postprocess:c},{name:"simplestatements_set_val",symbols:[a.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default],postprocess:e=>(0,n.track)(e,{type:"default"})},{name:"simplestatements_set_val$ebnf$1$subexpression$1",symbols:["comma","simplestatements_set_val_raw"]},{name:"simplestatements_set_val$ebnf$1",symbols:["simplestatements_set_val$ebnf$1$subexpression$1"]},{name:"simplestatements_set_val$ebnf$1$subexpression$2",symbols:["comma","simplestatements_set_val_raw"]},{name:"simplestatements_set_val$ebnf$1",symbols:["simplestatements_set_val$ebnf$1","simplestatements_set_val$ebnf$1$subexpression$2"],postprocess:e=>e[0].concat([e[1]])},{name:"simplestatements_set_val",symbols:["simplestatements_set_val_raw","simplestatements_set_val$ebnf$1"],postprocess:e=>(0,n.track)(e,{type:"list",values:[e[0],...e[1]||[]]})},{name:"simplestatements_set_val_raw$subexpression$1",symbols:["string"]},{name:"simplestatements_set_val_raw$subexpression$1",symbols:["int"]},{name:"simplestatements_set_val_raw",symbols:["simplestatements_set_val_raw$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"value",value:c(e)})},{name:"simplestatements_set_val_raw$subexpression$2",symbols:[a.lexerAny.has("word")?{type:"word"}:word]},{name:"simplestatements_set_val_raw$subexpression$2",symbols:[a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on]},{name:"simplestatements_set_val_raw$subexpression$2",symbols:[a.lexerAny.has("kw_true")?{type:"kw_true"}:kw_true]},{name:"simplestatements_set_val_raw$subexpression$2",symbols:[a.lexerAny.has("kw_false")?{type:"kw_false"}:kw_false]},{name:"simplestatements_set_val_raw",symbols:["simplestatements_set_val_raw$subexpression$2"],postprocess:e=>(0,n.track)(e,{type:"identifier",name:c(e).value})},{name:"simplestatements_set_val_raw",symbols:[a.lexerAny.has("quoted_word")?{type:"quoted_word"}:quoted_word],postprocess:e=>(0,n.track)(e,{type:"identifier",doubleQuoted:!0,name:c(e).value})},{name:"simplestatements_show",symbols:["kw_show","ident"],postprocess:e=>(0,n.track)(e,{type:"show",variable:o(e[1])})},{name:"create_schema$subexpression$1",symbols:[a.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"kw_schema"]},{name:"create_schema$ebnf$1",symbols:["kw_ifnotexists"],postprocess:r},{name:"create_schema$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_schema",symbols:["create_schema$subexpression$1","create_schema$ebnf$1","ident"],postprocess:e=>(0,n.track)(e,{type:"create schema",name:o(e[2]),...e[1]?{ifNotExists:!0}:{}})},{name:"raise_statement$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:x("debug","log","info","notice","warning","exception")},{name:"raise_statement$ebnf$1",symbols:["raise_statement$ebnf$1$subexpression$1"],postprocess:r},{name:"raise_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"raise_statement$ebnf$2$subexpression$1",symbols:["comma","expr_list_raw"],postprocess:m},{name:"raise_statement$ebnf$2",symbols:["raise_statement$ebnf$2$subexpression$1"],postprocess:r},{name:"raise_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"raise_statement$ebnf$3",symbols:["raise_using"],postprocess:r},{name:"raise_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"raise_statement",symbols:["kw_raise","raise_statement$ebnf$1","string","raise_statement$ebnf$2","raise_statement$ebnf$3"],postprocess:e=>(0,n.track)(e,{type:"raise",format:y(e[2]),...e[1]&&{level:y(e[1])},...e[3]&&e[3].length&&{formatExprs:e[3]},...e[4]&&e[4].length&&{using:e[4]}})},{name:"raise_using$macrocall$2",symbols:["raise_using_one"]},{name:"raise_using$macrocall$1$ebnf$1",symbols:[]},{name:"raise_using$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"raise_using$macrocall$2"],postprocess:m},{name:"raise_using$macrocall$1$ebnf$1",symbols:["raise_using$macrocall$1$ebnf$1","raise_using$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"raise_using$macrocall$1",symbols:["raise_using$macrocall$2","raise_using$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"raise_using",symbols:[a.lexerAny.has("kw_using")?{type:"kw_using"}:kw_using,"raise_using$macrocall$1"],postprocess:m},{name:"raise_using_one",symbols:["raise_using_what",a.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"expr"],postprocess:e=>(0,n.track)(e,{type:y(e[0]),value:e[2]})},{name:"raise_using_what",symbols:[a.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table]},{name:"raise_using_what",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:x("message","detail","hint","errcode","column","constraint","datatype","schema")},{name:"comment_statement",symbols:["kw_comment",a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"comment_what",a.lexerAny.has("kw_is")?{type:"kw_is"}:kw_is,"string"],postprocess:e=>(0,n.track)(e,{type:"comment",comment:(0,n.unbox)(m(e)),on:c(e[2])})},{name:"comment_what",symbols:["comment_what_col"]},{name:"comment_what",symbols:["comment_what_nm"]},{name:"comment_what_nm$subexpression$1",symbols:[a.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table]},{name:"comment_what_nm$subexpression$1",symbols:["kw_materialized","kw_view"]},{name:"comment_what_nm$subexpression$1",symbols:[a.lexerAny.has("word")?{type:"word"}:word],postprocess:x("database","index","trigger","type","view")},{name:"comment_what_nm",symbols:["comment_what_nm$subexpression$1","qualified_name"],postprocess:e=>(0,n.track)(e,{type:y(e[0]),name:e[1]})},{name:"comment_what_col",symbols:["kw_column","qcolumn"],postprocess:e=>(0,n.track)(e,{type:"column",column:m(e)})},{name:"simplestatements_begin$ebnf$1$subexpression$1",symbols:["kw_transaction"]},{name:"simplestatements_begin$ebnf$1$subexpression$1",symbols:["kw_work"]},{name:"simplestatements_begin$ebnf$1",symbols:["simplestatements_begin$ebnf$1$subexpression$1"],postprocess:r},{name:"simplestatements_begin$ebnf$1",symbols:[],postprocess:()=>null},{name:"simplestatements_begin$ebnf$2",symbols:[]},{name:"simplestatements_begin$ebnf$2$subexpression$1",symbols:["simplestatements_begin_isol"]},{name:"simplestatements_begin$ebnf$2$subexpression$1",symbols:["simplestatements_begin_writ"]},{name:"simplestatements_begin$ebnf$2$subexpression$1",symbols:["simplestatements_begin_def"]},{name:"simplestatements_begin$ebnf$2",symbols:["simplestatements_begin$ebnf$2","simplestatements_begin$ebnf$2$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"simplestatements_begin",symbols:["kw_begin","simplestatements_begin$ebnf$1","simplestatements_begin$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"begin",...e[2].reduce(((e,s)=>({...c(e),...c(s)})),{})})},{name:"simplestatements_begin_isol$subexpression$1",symbols:["kw_isolation","kw_level"]},{name:"simplestatements_begin_isol$subexpression$2",symbols:["kw_serializable"]},{name:"simplestatements_begin_isol$subexpression$2$subexpression$1",symbols:["word"],postprocess:h("repeatable")},{name:"simplestatements_begin_isol$subexpression$2",symbols:["simplestatements_begin_isol$subexpression$2$subexpression$1","kw_read"]},{name:"simplestatements_begin_isol$subexpression$2$subexpression$2",symbols:["word"],postprocess:h("committed")},{name:"simplestatements_begin_isol$subexpression$2",symbols:["kw_read","simplestatements_begin_isol$subexpression$2$subexpression$2"]},{name:"simplestatements_begin_isol$subexpression$2$subexpression$3",symbols:["word"],postprocess:h("uncommitted")},{name:"simplestatements_begin_isol$subexpression$2",symbols:["kw_read","simplestatements_begin_isol$subexpression$2$subexpression$3"]},{name:"simplestatements_begin_isol",symbols:["simplestatements_begin_isol$subexpression$1","simplestatements_begin_isol$subexpression$2"],postprocess:e=>(0,n.track)(e,{isolationLevel:y(e[1]," ")})},{name:"simplestatements_begin_writ$subexpression$1",symbols:["kw_read","kw_write"]},{name:"simplestatements_begin_writ$subexpression$1",symbols:["kw_read",a.lexerAny.has("kw_only")?{type:"kw_only"}:kw_only]},{name:"simplestatements_begin_writ",symbols:["simplestatements_begin_writ$subexpression$1"],postprocess:e=>(0,n.track)(e,{writeable:y(e," ")})},{name:"simplestatements_begin_def$ebnf$1",symbols:[a.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:r},{name:"simplestatements_begin_def$ebnf$1",symbols:[],postprocess:()=>null},{name:"simplestatements_begin_def",symbols:["simplestatements_begin_def$ebnf$1",a.lexerAny.has("kw_deferrable")?{type:"kw_deferrable"}:kw_deferrable],postprocess:e=>(0,n.track)(e,{deferrable:!e[0]})},{name:"insert_statement$subexpression$1",symbols:["kw_insert",a.lexerAny.has("kw_into")?{type:"kw_into"}:kw_into]},{name:"insert_statement$ebnf$1",symbols:["collist_paren"],postprocess:r},{name:"insert_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"insert_statement$ebnf$2$subexpression$1$subexpression$1",symbols:["kw_system"]},{name:"insert_statement$ebnf$2$subexpression$1$subexpression$1",symbols:[a.lexerAny.has("kw_user")?{type:"kw_user"}:kw_user]},{name:"insert_statement$ebnf$2$subexpression$1",symbols:["kw_overriding","insert_statement$ebnf$2$subexpression$1$subexpression$1","kw_value"],postprocess:p(1)},{name:"insert_statement$ebnf$2",symbols:["insert_statement$ebnf$2$subexpression$1"],postprocess:r},{name:"insert_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"insert_statement$ebnf$3$subexpression$1",symbols:["selection"]},{name:"insert_statement$ebnf$3$subexpression$1",symbols:["selection_paren"]},{name:"insert_statement$ebnf$3",symbols:["insert_statement$ebnf$3$subexpression$1"],postprocess:r},{name:"insert_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"insert_statement$ebnf$4$subexpression$1",symbols:[a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,"kw_conflict","insert_on_conflict"],postprocess:m},{name:"insert_statement$ebnf$4",symbols:["insert_statement$ebnf$4$subexpression$1"],postprocess:r},{name:"insert_statement$ebnf$4",symbols:[],postprocess:()=>null},{name:"insert_statement$ebnf$5$subexpression$1",symbols:[a.lexerAny.has("kw_returning")?{type:"kw_returning"}:kw_returning,"select_expr_list_aliased"],postprocess:m},{name:"insert_statement$ebnf$5",symbols:["insert_statement$ebnf$5$subexpression$1"],postprocess:r},{name:"insert_statement$ebnf$5",symbols:[],postprocess:()=>null},{name:"insert_statement",symbols:["insert_statement$subexpression$1","table_ref_aliased","insert_statement$ebnf$1","insert_statement$ebnf$2","insert_statement$ebnf$3","insert_statement$ebnf$4","insert_statement$ebnf$5"],postprocess:e=>{const s=e[2]&&e[2].map(o),t=y(e[3]),r=c(e[4]),a=e[5],l=e[6];return(0,n.track)(e,{type:"insert",into:c(e[1]),insert:r,...t&&{overriding:t},...s&&{columns:s},...l&&{returning:l},...a&&{onConflict:a}})}},{name:"insert_values$ebnf$1",symbols:[]},{name:"insert_values$ebnf$1$subexpression$1",symbols:["comma","insert_value"],postprocess:m},{name:"insert_values$ebnf$1",symbols:["insert_values$ebnf$1","insert_values$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"insert_values",symbols:["insert_value","insert_values$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"insert_value",symbols:["lparen","insert_expr_list_raw","rparen"],postprocess:p(1)},{name:"insert_expr_list_raw$ebnf$1",symbols:[]},{name:"insert_expr_list_raw$ebnf$1$subexpression$1",symbols:["comma","expr_or_select"],postprocess:m},{name:"insert_expr_list_raw$ebnf$1",symbols:["insert_expr_list_raw$ebnf$1","insert_expr_list_raw$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"insert_expr_list_raw",symbols:["expr_or_select","insert_expr_list_raw$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"insert_on_conflict$ebnf$1",symbols:["insert_on_conflict_what"],postprocess:r},{name:"insert_on_conflict$ebnf$1",symbols:[],postprocess:()=>null},{name:"insert_on_conflict",symbols:["insert_on_conflict$ebnf$1","insert_on_conflict_do"],postprocess:e=>(0,n.track)(e,{...e[0]?{on:c(e[0])}:{},...e[1]})},{name:"insert_on_conflict_what",symbols:["lparen","expr_list_raw","rparen"],postprocess:e=>(0,n.track)(e,{type:"on expr",exprs:e[1]})},{name:"insert_on_conflict_what",symbols:[a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,a.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint,"qname"],postprocess:e=>(0,n.track)(e,{type:"on constraint",constraint:m(e)})},{name:"insert_on_conflict_do",symbols:[a.lexerAny.has("kw_do")?{type:"kw_do"}:kw_do,"kw_nothing"],postprocess:e=>({do:"do nothing"})},{name:"insert_on_conflict_do$subexpression$1",symbols:[a.lexerAny.has("kw_do")?{type:"kw_do"}:kw_do,"kw_update","kw_set"]},{name:"insert_on_conflict_do$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_where")?{type:"kw_where"}:kw_where,"expr"],postprocess:m},{name:"insert_on_conflict_do$ebnf$1",symbols:["insert_on_conflict_do$ebnf$1$subexpression$1"],postprocess:r},{name:"insert_on_conflict_do$ebnf$1",symbols:[],postprocess:()=>null},{name:"insert_on_conflict_do",symbols:["insert_on_conflict_do$subexpression$1","update_set_list","insert_on_conflict_do$ebnf$1"],postprocess:e=>({do:{sets:e[1]},...e[2]&&{where:e[2]}})},{name:"update_statement$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from,"select_from_subject"],postprocess:m},{name:"update_statement$ebnf$1",symbols:["update_statement$ebnf$1$subexpression$1"],postprocess:r},{name:"update_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"update_statement$ebnf$2",symbols:["select_where"],postprocess:r},{name:"update_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"update_statement$ebnf$3$subexpression$1",symbols:[a.lexerAny.has("kw_returning")?{type:"kw_returning"}:kw_returning,"select_expr_list_aliased"],postprocess:m},{name:"update_statement$ebnf$3",symbols:["update_statement$ebnf$3$subexpression$1"],postprocess:r},{name:"update_statement$ebnf$3",symbols:[],postprocess:()=>null},{name:"update_statement",symbols:["kw_update","table_ref_aliased","kw_set","update_set_list","update_statement$ebnf$1","update_statement$ebnf$2","update_statement$ebnf$3"],postprocess:e=>{const s=c(e[4]),t=c(e[5]),r=e[6];return(0,n.track)(e,{type:"update",table:c(e[1]),sets:e[3],...t?{where:t}:{},...s?{from:s}:{},...r?{returning:r}:{}})}},{name:"update_set_list$ebnf$1",symbols:[]},{name:"update_set_list$ebnf$1$subexpression$1",symbols:["comma","update_set"],postprocess:m},{name:"update_set_list$ebnf$1",symbols:["update_set_list$ebnf$1","update_set_list$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"update_set_list",symbols:["update_set","update_set_list$ebnf$1"],postprocess:([e,s])=>{const t=[];for(const r of[e,...s||[]]){const e=c(r);Array.isArray(e)?t.push(...e):t.push(e)}return t}},{name:"update_set",symbols:["update_set_one"]},{name:"update_set",symbols:["update_set_multiple"]},{name:"update_set_one",symbols:["ident",a.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"expr"],postprocess:e=>(0,n.box)(e,{column:o(e[0]),value:c(e[2])})},{name:"update_set_multiple$subexpression$1",symbols:["lparen","expr_list_raw","rparen"],postprocess:p(1)},{name:"update_set_multiple",symbols:["collist_paren",a.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"update_set_multiple$subexpression$1"],postprocess:e=>{const s=e[0],t=e[2];if(s.length!==t.length)throw new Error("number of columns does not match number of values");return(0,n.box)(e,s.map(((e,s)=>({column:o(e),value:c(t[s])}))))}},{name:"altertable_statement$ebnf$1",symbols:["kw_ifexists"],postprocess:r},{name:"altertable_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_statement$ebnf$2",symbols:[a.lexerAny.has("kw_only")?{type:"kw_only"}:kw_only],postprocess:r},{name:"altertable_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"altertable_statement",symbols:["kw_alter",a.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table,"altertable_statement$ebnf$1","altertable_statement$ebnf$2","table_ref","altertable_actions"],postprocess:e=>(0,n.track)(e,{type:"alter table",...e[2]?{ifExists:!0}:{},...e[3]?{only:!0}:{},table:c(e[4]),changes:(0,n.unbox)(e[5]).map(c)})},{name:"altertable_actions$ebnf$1",symbols:[]},{name:"altertable_actions$ebnf$1$subexpression$1",symbols:["comma","altertable_action"],postprocess:m},{name:"altertable_actions$ebnf$1",symbols:["altertable_actions$ebnf$1","altertable_actions$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"altertable_actions",symbols:["altertable_action","altertable_actions$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"altertable_action",symbols:["altertable_rename_table"]},{name:"altertable_action",symbols:["altertable_rename_column"]},{name:"altertable_action",symbols:["altertable_rename_constraint"]},{name:"altertable_action",symbols:["altertable_add_column"]},{name:"altertable_action",symbols:["altertable_drop_column"]},{name:"altertable_action",symbols:["altertable_alter_column"]},{name:"altertable_action",symbols:["altertable_add_constraint"]},{name:"altertable_action",symbols:["altertable_drop_constraint"]},{name:"altertable_action",symbols:["altertable_owner"]},{name:"altertable_rename_table",symbols:["kw_rename",a.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"word"],postprocess:e=>(0,n.track)(e,{type:"rename",to:o(m(e))})},{name:"altertable_rename_column$ebnf$1",symbols:["kw_column"],postprocess:r},{name:"altertable_rename_column$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_rename_column",symbols:["kw_rename","altertable_rename_column$ebnf$1","ident",a.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"ident"],postprocess:e=>(0,n.track)(e,{type:"rename column",column:o(e[2]),to:o(m(e))})},{name:"altertable_rename_constraint",symbols:["kw_rename",a.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint,"ident",a.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"ident"],postprocess:e=>(0,n.track)(e,{type:"rename constraint",constraint:o(e[2]),to:o(m(e))})},{name:"altertable_add_column$ebnf$1",symbols:["kw_column"],postprocess:r},{name:"altertable_add_column$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_add_column$ebnf$2",symbols:["kw_ifnotexists"],postprocess:r},{name:"altertable_add_column$ebnf$2",symbols:[],postprocess:()=>null},{name:"altertable_add_column",symbols:["kw_add","altertable_add_column$ebnf$1","altertable_add_column$ebnf$2","createtable_column"],postprocess:e=>(0,n.track)(e,{type:"add column",...e[2]?{ifNotExists:!0}:{},column:c(e[3])})},{name:"altertable_drop_column$ebnf$1",symbols:["kw_column"],postprocess:r},{name:"altertable_drop_column$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_drop_column$ebnf$2",symbols:["kw_ifexists"],postprocess:r},{name:"altertable_drop_column$ebnf$2",symbols:[],postprocess:()=>null},{name:"altertable_drop_column$ebnf$3$subexpression$1",symbols:["kw_restrict"]},{name:"altertable_drop_column$ebnf$3$subexpression$1",symbols:["kw_cascade"]},{name:"altertable_drop_column$ebnf$3",symbols:["altertable_drop_column$ebnf$3$subexpression$1"],postprocess:r},{name:"altertable_drop_column$ebnf$3",symbols:[],postprocess:()=>null},{name:"altertable_drop_column",symbols:["kw_drop","altertable_drop_column$ebnf$1","altertable_drop_column$ebnf$2","ident","altertable_drop_column$ebnf$3"],postprocess:e=>(0,n.track)(e,{type:"drop column",...e[2]?{ifExists:!0}:{},column:o(e[3]),...e[4]?{behaviour:y(e[4]," ")}:{}})},{name:"altertable_alter_column$ebnf$1",symbols:["kw_column"],postprocess:r},{name:"altertable_alter_column$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_alter_column",symbols:["kw_alter","altertable_alter_column$ebnf$1","ident","altercol"],postprocess:e=>(0,n.track)(e,{type:"alter column",column:o(e[2]),alter:c(e[3])})},{name:"altercol$ebnf$1$subexpression$1",symbols:["kw_set","kw_data"]},{name:"altercol$ebnf$1",symbols:["altercol$ebnf$1$subexpression$1"],postprocess:r},{name:"altercol$ebnf$1",symbols:[],postprocess:()=>null},{name:"altercol",symbols:["altercol$ebnf$1","kw_type","data_type"],postprocess:e=>(0,n.track)(e,{type:"set type",dataType:c(m(e))})},{name:"altercol",symbols:["kw_set",a.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default,"expr"],postprocess:e=>(0,n.track)(e,{type:"set default",default:c(m(e))})},{name:"altercol",symbols:["kw_drop",a.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default],postprocess:e=>(0,n.track)(e,{type:"drop default"})},{name:"altercol$subexpression$1",symbols:["kw_set"]},{name:"altercol$subexpression$1",symbols:["kw_drop"]},{name:"altercol",symbols:["altercol$subexpression$1","kw_not_null"],postprocess:e=>(0,n.track)(e,{type:y(e," ")})},{name:"altercol",symbols:["altercol_generated_add"],postprocess:c},{name:"altertable_add_constraint",symbols:["kw_add","createtable_constraint"],postprocess:e=>(0,n.track)(e,{type:"add constraint",constraint:c(m(e))})},{name:"altertable_drop_constraint$ebnf$1",symbols:["kw_ifexists"],postprocess:r},{name:"altertable_drop_constraint$ebnf$1",symbols:[],postprocess:()=>null},{name:"altertable_drop_constraint$ebnf$2$subexpression$1",symbols:["kw_restrict"]},{name:"altertable_drop_constraint$ebnf$2$subexpression$1",symbols:["kw_cascade"]},{name:"altertable_drop_constraint$ebnf$2",symbols:["altertable_drop_constraint$ebnf$2$subexpression$1"],postprocess:r},{name:"altertable_drop_constraint$ebnf$2",symbols:[],postprocess:()=>null},{name:"altertable_drop_constraint",symbols:["kw_drop",a.lexerAny.has("kw_constraint")?{type:"kw_constraint"}:kw_constraint,"altertable_drop_constraint$ebnf$1","ident","altertable_drop_constraint$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"drop constraint",...e[2]?{ifExists:!0}:{},constraint:o(e[3]),...e[4]?{behaviour:y(e[4]," ")}:{}})},{name:"altertable_owner",symbols:["kw_owner",a.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"ident"],postprocess:e=>(0,n.track)(e,{type:"owner",to:o(m(e))})},{name:"altercol_generated_add",symbols:["kw_add","altercol_generated"],postprocess:m},{name:"altercol_generated$ebnf$1$subexpression$1",symbols:["kw_always"]},{name:"altercol_generated$ebnf$1$subexpression$1",symbols:["kw_by",a.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default]},{name:"altercol_generated$ebnf$1",symbols:["altercol_generated$ebnf$1$subexpression$1"],postprocess:r},{name:"altercol_generated$ebnf$1",symbols:[],postprocess:()=>null},{name:"altercol_generated$subexpression$1",symbols:[a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"kw_identity"]},{name:"altercol_generated$ebnf$2$subexpression$1",symbols:["lparen","altercol_generated_seq","rparen"],postprocess:p(1)},{name:"altercol_generated$ebnf$2",symbols:["altercol_generated$ebnf$2$subexpression$1"],postprocess:r},{name:"altercol_generated$ebnf$2",symbols:[],postprocess:()=>null},{name:"altercol_generated",symbols:["kw_generated","altercol_generated$ebnf$1","altercol_generated$subexpression$1","altercol_generated$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"add generated",...e[1]&&{always:y(e[1]," ")},...e[3]&&{sequence:c(e[3])}})},{name:"altercol_generated_seq$ebnf$1$subexpression$1",symbols:["kw_sequence","kw_name","qualified_name"]},{name:"altercol_generated_seq$ebnf$1",symbols:["altercol_generated_seq$ebnf$1$subexpression$1"],postprocess:r},{name:"altercol_generated_seq$ebnf$1",symbols:[],postprocess:()=>null},{name:"altercol_generated_seq$ebnf$2",symbols:[]},{name:"altercol_generated_seq$ebnf$2",symbols:["altercol_generated_seq$ebnf$2","create_sequence_option"],postprocess:e=>e[0].concat([e[1]])},{name:"altercol_generated_seq",symbols:["altercol_generated_seq$ebnf$1","altercol_generated_seq$ebnf$2"],postprocess:e=>{const s={...e[0]&&{name:c(m(e[0]))}};return w(s,e[1]),(0,n.track)(e,s)}},{name:"alterindex_statement$ebnf$1",symbols:["kw_ifexists"],postprocess:r},{name:"alterindex_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"alterindex_statement",symbols:["kw_alter","kw_index","alterindex_statement$ebnf$1","table_ref","alterindex_action"],postprocess:e=>(0,n.track)(e,{type:"alter index",...e[2]?{ifExists:!0}:{},index:c(e[3]),change:c(e[4])})},{name:"alterindex_action",symbols:["alterindex_rename"]},{name:"alterindex_action",symbols:["alterindex_set_tablespace"]},{name:"alterindex_rename",symbols:["kw_rename",a.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"word"],postprocess:e=>(0,n.track)(e,{type:"rename",to:o(m(e))})},{name:"alterindex_set_tablespace",symbols:["kw_set","kw_tablespace","word"],postprocess:e=>(0,n.track)(e,{type:"set tablespace",tablespace:o(m(e))})},{name:"delete_statement",symbols:["delete_delete"]},{name:"delete_statement",symbols:["delete_truncate"]},{name:"delete_delete$subexpression$1",symbols:["kw_delete",a.lexerAny.has("kw_from")?{type:"kw_from"}:kw_from]},{name:"delete_delete$ebnf$1",symbols:["select_where"],postprocess:r},{name:"delete_delete$ebnf$1",symbols:[],postprocess:()=>null},{name:"delete_delete$ebnf$2$subexpression$1",symbols:[a.lexerAny.has("kw_returning")?{type:"kw_returning"}:kw_returning,"select_expr_list_aliased"],postprocess:m},{name:"delete_delete$ebnf$2",symbols:["delete_delete$ebnf$2$subexpression$1"],postprocess:r},{name:"delete_delete$ebnf$2",symbols:[],postprocess:()=>null},{name:"delete_delete",symbols:["delete_delete$subexpression$1","table_ref_aliased","delete_delete$ebnf$1","delete_delete$ebnf$2"],postprocess:e=>{const s=e[2],t=e[3];return(0,n.track)(e,{type:"delete",from:c(e[1]),...s?{where:s}:{},...t?{returning:t}:{}})}},{name:"delete_truncate$subexpression$1$ebnf$1",symbols:[a.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table],postprocess:r},{name:"delete_truncate$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"delete_truncate$subexpression$1",symbols:["kw_truncate","delete_truncate$subexpression$1$ebnf$1"]},{name:"delete_truncate$macrocall$2",symbols:["table_ref"]},{name:"delete_truncate$macrocall$1$ebnf$1",symbols:[]},{name:"delete_truncate$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"delete_truncate$macrocall$2"],postprocess:m},{name:"delete_truncate$macrocall$1$ebnf$1",symbols:["delete_truncate$macrocall$1$ebnf$1","delete_truncate$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"delete_truncate$macrocall$1",symbols:["delete_truncate$macrocall$2","delete_truncate$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"delete_truncate$ebnf$1$subexpression$1$subexpression$1",symbols:["kw_restart"]},{name:"delete_truncate$ebnf$1$subexpression$1$subexpression$1",symbols:["kw_continue"]},{name:"delete_truncate$ebnf$1$subexpression$1",symbols:["delete_truncate$ebnf$1$subexpression$1$subexpression$1","kw_identity"]},{name:"delete_truncate$ebnf$1",symbols:["delete_truncate$ebnf$1$subexpression$1"],postprocess:r},{name:"delete_truncate$ebnf$1",symbols:[],postprocess:()=>null},{name:"delete_truncate$ebnf$2$subexpression$1",symbols:["kw_restrict"]},{name:"delete_truncate$ebnf$2$subexpression$1",symbols:["kw_cascade"]},{name:"delete_truncate$ebnf$2",symbols:["delete_truncate$ebnf$2$subexpression$1"],postprocess:r},{name:"delete_truncate$ebnf$2",symbols:[],postprocess:()=>null},{name:"delete_truncate",symbols:["delete_truncate$subexpression$1","delete_truncate$macrocall$1","delete_truncate$ebnf$1","delete_truncate$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"truncate table",tables:e[1],...e[2]&&{identity:y(e[2][0])},...e[3]&&{cascade:y(e[3])}})},{name:"create_sequence_statement$ebnf$1$subexpression$1",symbols:["kw_temp"]},{name:"create_sequence_statement$ebnf$1$subexpression$1",symbols:["kw_temporary"]},{name:"create_sequence_statement$ebnf$1",symbols:["create_sequence_statement$ebnf$1$subexpression$1"],postprocess:r},{name:"create_sequence_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_sequence_statement$ebnf$2",symbols:["kw_ifnotexists"],postprocess:r},{name:"create_sequence_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"create_sequence_statement$ebnf$3",symbols:[]},{name:"create_sequence_statement$ebnf$3",symbols:["create_sequence_statement$ebnf$3","create_sequence_option"],postprocess:e=>e[0].concat([e[1]])},{name:"create_sequence_statement",symbols:[a.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"create_sequence_statement$ebnf$1","kw_sequence","create_sequence_statement$ebnf$2","qualified_name","create_sequence_statement$ebnf$3"],postprocess:e=>{const s={type:"create sequence",...e[1]&&{temp:!0},...e[3]&&{ifNotExists:!0},name:c(e[4]),options:{}};return w(s.options,e[5]),(0,n.track)(e,s)}},{name:"create_sequence_option",symbols:[a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"data_type"],postprocess:e=>(0,n.box)(e,["as",e[1]])},{name:"create_sequence_option$ebnf$1",symbols:["kw_by"],postprocess:r},{name:"create_sequence_option$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_sequence_option",symbols:["kw_increment","create_sequence_option$ebnf$1","int"],postprocess:e=>(0,n.box)(e,["incrementBy",e[2]])},{name:"create_sequence_option",symbols:["create_sequence_minvalue"],postprocess:e=>(0,n.box)(e,["minValue",e[0]])},{name:"create_sequence_option",symbols:["create_sequence_maxvalue"],postprocess:e=>(0,n.box)(e,["maxValue",e[0]])},{name:"create_sequence_option$ebnf$2",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with],postprocess:r},{name:"create_sequence_option$ebnf$2",symbols:[],postprocess:()=>null},{name:"create_sequence_option",symbols:["kw_start","create_sequence_option$ebnf$2","int"],postprocess:e=>(0,n.box)(e,["startWith",e[2]])},{name:"create_sequence_option",symbols:["kw_cache","int"],postprocess:e=>(0,n.box)(e,["cache",e[1]])},{name:"create_sequence_option$ebnf$3",symbols:["kw_no"],postprocess:r},{name:"create_sequence_option$ebnf$3",symbols:[],postprocess:()=>null},{name:"create_sequence_option",symbols:["create_sequence_option$ebnf$3","kw_cycle"],postprocess:e=>(0,n.box)(e,["cycle",y(e," ")])},{name:"create_sequence_option",symbols:["create_sequence_owned_by"],postprocess:e=>(0,n.box)(e,["ownedBy",c(e)])},{name:"create_sequence_minvalue",symbols:["kw_minvalue","int"],postprocess:m},{name:"create_sequence_minvalue",symbols:["kw_no","kw_minvalue"],postprocess:e=>(0,n.box)(e,"no minvalue")},{name:"create_sequence_maxvalue",symbols:["kw_maxvalue","int"],postprocess:m},{name:"create_sequence_maxvalue",symbols:["kw_no","kw_maxvalue"],postprocess:e=>(0,n.box)(e,"no maxvalue")},{name:"create_sequence_owned_by$subexpression$1",symbols:["kw_none"]},{name:"create_sequence_owned_by$subexpression$1",symbols:["qcolumn"]},{name:"create_sequence_owned_by",symbols:["kw_owned","kw_by","create_sequence_owned_by$subexpression$1"],postprocess:e=>(0,n.box)(e,c(m(e)))},{name:"alter_sequence_statement$ebnf$1",symbols:["kw_ifexists"],postprocess:r},{name:"alter_sequence_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"alter_sequence_statement",symbols:["kw_alter","kw_sequence","alter_sequence_statement$ebnf$1","qualified_name","alter_sequence_statement_body"],postprocess:e=>{const s={type:"alter sequence",...e[2]&&{ifExists:!0},name:c(e[3]),change:e[4]};return(0,n.track)(e,s)}},{name:"alter_sequence_statement_body$ebnf$1",symbols:["alter_sequence_option"]},{name:"alter_sequence_statement_body$ebnf$1",symbols:["alter_sequence_statement_body$ebnf$1","alter_sequence_option"],postprocess:e=>e[0].concat([e[1]])},{name:"alter_sequence_statement_body",symbols:["alter_sequence_statement_body$ebnf$1"],postprocess:e=>{const s={type:"set options"};return w(s,e[0]),(0,n.track)(e,s)}},{name:"alter_sequence_statement_body$subexpression$1",symbols:["ident"]},{name:"alter_sequence_statement_body$subexpression$1",symbols:[a.lexerAny.has("kw_session_user")?{type:"kw_session_user"}:kw_session_user]},{name:"alter_sequence_statement_body$subexpression$1",symbols:[a.lexerAny.has("kw_current_user")?{type:"kw_current_user"}:kw_current_user]},{name:"alter_sequence_statement_body",symbols:["kw_owner",a.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"alter_sequence_statement_body$subexpression$1"],postprocess:e=>(0,n.track)(e,{type:"owner to",owner:o(m(e))})},{name:"alter_sequence_statement_body",symbols:["kw_rename",a.lexerAny.has("kw_to")?{type:"kw_to"}:kw_to,"ident"],postprocess:e=>(0,n.track)(e,{type:"rename",newName:o(m(e))})},{name:"alter_sequence_statement_body",symbols:["kw_set","kw_schema","ident"],postprocess:e=>(0,n.track)(e,{type:"set schema",newSchema:o(m(e))})},{name:"alter_sequence_option",symbols:["create_sequence_option"],postprocess:c},{name:"alter_sequence_option$ebnf$1$subexpression$1$ebnf$1",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with],postprocess:r},{name:"alter_sequence_option$ebnf$1$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"alter_sequence_option$ebnf$1$subexpression$1",symbols:["alter_sequence_option$ebnf$1$subexpression$1$ebnf$1","int"],postprocess:m},{name:"alter_sequence_option$ebnf$1",symbols:["alter_sequence_option$ebnf$1$subexpression$1"],postprocess:r},{name:"alter_sequence_option$ebnf$1",symbols:[],postprocess:()=>null},{name:"alter_sequence_option",symbols:["kw_restart","alter_sequence_option$ebnf$1"],postprocess:e=>(0,n.box)(e,["restart","number"!=typeof(0,n.unbox)(e[1])||(0,n.unbox)(e[1])])},{name:"drop_statement$ebnf$1",symbols:["kw_ifexists"],postprocess:r},{name:"drop_statement$ebnf$1",symbols:[],postprocess:()=>null},{name:"drop_statement$macrocall$2",symbols:["qualified_name"]},{name:"drop_statement$macrocall$1$ebnf$1",symbols:[]},{name:"drop_statement$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"drop_statement$macrocall$2"],postprocess:m},{name:"drop_statement$macrocall$1$ebnf$1",symbols:["drop_statement$macrocall$1$ebnf$1","drop_statement$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"drop_statement$macrocall$1",symbols:["drop_statement$macrocall$2","drop_statement$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"drop_statement$ebnf$2$subexpression$1",symbols:["kw_cascade"]},{name:"drop_statement$ebnf$2$subexpression$1",symbols:["kw_restrict"]},{name:"drop_statement$ebnf$2",symbols:["drop_statement$ebnf$2$subexpression$1"],postprocess:r},{name:"drop_statement$ebnf$2",symbols:[],postprocess:()=>null},{name:"drop_statement",symbols:["kw_drop","drop_what","drop_statement$ebnf$1","drop_statement$macrocall$1","drop_statement$ebnf$2"],postprocess:(e,s)=>{const t=c(e[1]);return(0,n.track)(e,{...t,...e[2]&&{ifExists:!0},names:e[3],...e[4]&&{cascade:y(e[4])}})}},{name:"drop_what",symbols:[a.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table],postprocess:e=>(0,n.track)(e,{type:"drop table"})},{name:"drop_what",symbols:["kw_sequence"],postprocess:e=>(0,n.track)(e,{type:"drop sequence"})},{name:"drop_what",symbols:["kw_type"],postprocess:e=>(0,n.track)(e,{type:"drop type"})},{name:"drop_what",symbols:["kw_trigger"],postprocess:e=>(0,n.track)(e,{type:"drop trigger"})},{name:"drop_what$ebnf$1",symbols:[a.lexerAny.has("kw_concurrently")?{type:"kw_concurrently"}:kw_concurrently],postprocess:r},{name:"drop_what$ebnf$1",symbols:[],postprocess:()=>null},{name:"drop_what",symbols:["kw_index","drop_what$ebnf$1"],postprocess:e=>(0,n.track)(e,{type:"drop index",...e[1]&&{concurrently:!0}})},{name:"with_statement",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"with_statement_bindings","with_statement_statement"],postprocess:e=>(0,n.track)(e,{type:"with",bind:e[1],in:c(e[2])})},{name:"with_recursive_statement$subexpression$1",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"kw_recursive"]},{name:"with_recursive_statement",symbols:["with_recursive_statement$subexpression$1","ident","collist_paren",a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"lparen","union_statement","rparen","with_statement_statement"],postprocess:e=>(0,n.track)(e,{type:"with recursive",alias:o(e[1]),columnNames:e[2].map(o),bind:e[5],in:c(e[7])})},{name:"with_statement_bindings$ebnf$1",symbols:[]},{name:"with_statement_bindings$ebnf$1$subexpression$1",symbols:["comma","with_statement_binding"],postprocess:m},{name:"with_statement_bindings$ebnf$1",symbols:["with_statement_bindings$ebnf$1","with_statement_bindings$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"with_statement_bindings",symbols:["with_statement_binding","with_statement_bindings$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"with_statement_binding",symbols:["word",a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"lparen","with_statement_statement","rparen"],postprocess:e=>(0,n.track)(e,{alias:o(e[0]),statement:c(e[3])})},{name:"with_statement_statement",symbols:["selection"]},{name:"with_statement_statement",symbols:["insert_statement"]},{name:"with_statement_statement",symbols:["update_statement"]},{name:"with_statement_statement",symbols:["delete_statement"]},{name:"createtype_statement$subexpression$1",symbols:["createtype_enum"]},{name:"createtype_statement$subexpression$1",symbols:["createtype_composite"]},{name:"createtype_statement",symbols:[a.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"kw_type","qualified_name","createtype_statement$subexpression$1"],postprocess:e=>(0,n.track)(e,{name:e[2],...c(e[3])})},{name:"createtype_enum$macrocall$2",symbols:["enum_value"]},{name:"createtype_enum$macrocall$1$ebnf$1",symbols:[]},{name:"createtype_enum$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"createtype_enum$macrocall$2"],postprocess:m},{name:"createtype_enum$macrocall$1$ebnf$1",symbols:["createtype_enum$macrocall$1$ebnf$1","createtype_enum$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createtype_enum$macrocall$1",symbols:["createtype_enum$macrocall$2","createtype_enum$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"createtype_enum",symbols:[a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"kw_enum","lparen","createtype_enum$macrocall$1","rparen"],postprocess:e=>(0,n.track)(e,{type:"create enum",values:e[3]})},{name:"enum_value",symbols:["string"],postprocess:e=>(0,n.track)(e,{value:y(e)})},{name:"createtype_composite$macrocall$2",symbols:["createtype_composite_attr"]},{name:"createtype_composite$macrocall$1$ebnf$1",symbols:[]},{name:"createtype_composite$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"createtype_composite$macrocall$2"],postprocess:m},{name:"createtype_composite$macrocall$1$ebnf$1",symbols:["createtype_composite$macrocall$1$ebnf$1","createtype_composite$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"createtype_composite$macrocall$1",symbols:["createtype_composite$macrocall$2","createtype_composite$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"createtype_composite",symbols:[a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"lparen","createtype_composite$macrocall$1","rparen"],postprocess:e=>(0,n.track)(e,{type:"create composite type",attributes:e[2]})},{name:"createtype_composite_attr$ebnf$1",symbols:["createtable_collate"],postprocess:r},{name:"createtype_composite_attr$ebnf$1",symbols:[],postprocess:()=>null},{name:"createtype_composite_attr",symbols:["word","data_type","createtype_composite_attr$ebnf$1"],postprocess:e=>(0,n.track)(e,{name:o(e[0]),dataType:e[1],...e[2]?{collate:e[2][1]}:{}})},{name:"union_left",symbols:["select_statement"]},{name:"union_left",symbols:["select_values"]},{name:"union_left",symbols:["selection_paren"]},{name:"union_right",symbols:["selection"]},{name:"union_right",symbols:["selection_paren"]},{name:"union_statement$subexpression$1$ebnf$1",symbols:[a.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all],postprocess:r},{name:"union_statement$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"union_statement$subexpression$1",symbols:[a.lexerAny.has("kw_union")?{type:"kw_union"}:kw_union,"union_statement$subexpression$1$ebnf$1"]},{name:"union_statement",symbols:["union_left","union_statement$subexpression$1","union_right"],postprocess:e=>(0,n.track)(e,{type:y(e[1]," "),left:c(e[0]),right:c(e[2])})},{name:"prepare$ebnf$1$subexpression$1",symbols:["lparen","data_type_list","rparen"],postprocess:p(1)},{name:"prepare$ebnf$1",symbols:["prepare$ebnf$1$subexpression$1"],postprocess:r},{name:"prepare$ebnf$1",symbols:[],postprocess:()=>null},{name:"prepare",symbols:["kw_prepare","ident","prepare$ebnf$1",a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"statement_noprep"],postprocess:e=>(0,n.track)(e,{type:"prepare",name:o(e[1]),...e[2]&&{args:e[2]},statement:c(m(e))})},{name:"deallocate$ebnf$1",symbols:["kw_prepare"],postprocess:r},{name:"deallocate$ebnf$1",symbols:[],postprocess:()=>null},{name:"deallocate",symbols:["kw_deallocate","deallocate$ebnf$1","deallocate_target"],postprocess:e=>(0,n.track)(e,{type:"deallocate",target:e[2]})},{name:"deallocate_target",symbols:["deallocate_all"],postprocess:c},{name:"deallocate_target",symbols:["deallocate_name"],postprocess:c},{name:"deallocate_name",symbols:["ident"],postprocess:e=>(0,n.track)(e,o(e[0]))},{name:"deallocate_all",symbols:[a.lexerAny.has("kw_all")?{type:"kw_all"}:kw_all],postprocess:e=>(0,n.track)(e,{option:"all"})},{name:"create_view_statements",symbols:["create_view"]},{name:"create_view_statements",symbols:["create_materialized_view"]},{name:"create_view$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_or")?{type:"kw_or"}:kw_or,"kw_replace"]},{name:"create_view$ebnf$1",symbols:["create_view$ebnf$1$subexpression$1"],postprocess:r},{name:"create_view$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_view$ebnf$2$subexpression$1",symbols:["kw_temp"]},{name:"create_view$ebnf$2$subexpression$1",symbols:["kw_temporary"]},{name:"create_view$ebnf$2",symbols:["create_view$ebnf$2$subexpression$1"],postprocess:r},{name:"create_view$ebnf$2",symbols:[],postprocess:()=>null},{name:"create_view$ebnf$3",symbols:["kw_recursive"],postprocess:r},{name:"create_view$ebnf$3",symbols:[],postprocess:()=>null},{name:"create_view$ebnf$4$subexpression$1$macrocall$2",symbols:["ident"]},{name:"create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1",symbols:[]},{name:"create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"create_view$ebnf$4$subexpression$1$macrocall$2"],postprocess:m},{name:"create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1",symbols:["create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1","create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"create_view$ebnf$4$subexpression$1$macrocall$1",symbols:["create_view$ebnf$4$subexpression$1$macrocall$2","create_view$ebnf$4$subexpression$1$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"create_view$ebnf$4$subexpression$1",symbols:["lparen","create_view$ebnf$4$subexpression$1$macrocall$1","rparen"],postprocess:p(1)},{name:"create_view$ebnf$4",symbols:["create_view$ebnf$4$subexpression$1"],postprocess:r},{name:"create_view$ebnf$4",symbols:[],postprocess:()=>null},{name:"create_view$ebnf$5",symbols:["create_view_opts"],postprocess:r},{name:"create_view$ebnf$5",symbols:[],postprocess:()=>null},{name:"create_view$ebnf$6$subexpression$1$subexpression$1",symbols:["kw_local"]},{name:"create_view$ebnf$6$subexpression$1$subexpression$1",symbols:["kw_cascaded"]},{name:"create_view$ebnf$6$subexpression$1",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"create_view$ebnf$6$subexpression$1$subexpression$1",a.lexerAny.has("kw_check")?{type:"kw_check"}:kw_check,"kw_option"],postprocess:p(1)},{name:"create_view$ebnf$6",symbols:["create_view$ebnf$6$subexpression$1"],postprocess:r},{name:"create_view$ebnf$6",symbols:[],postprocess:()=>null},{name:"create_view",symbols:[a.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"create_view$ebnf$1","create_view$ebnf$2","create_view$ebnf$3","kw_view","qualified_name","create_view$ebnf$4","create_view$ebnf$5",a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"selection","create_view$ebnf$6"],postprocess:e=>(0,n.track)(e,{type:"create view",...e[1]&&{orReplace:!0},...e[2]&&{temp:!0},...e[3]&&{recursive:!0},name:e[5],...e[6]&&{columnNames:e[6].map(o)},...e[7]&&{parameters:$(e[7])},query:e[9],...e[10]&&{checkOption:y(e[10])}})},{name:"create_view_opt",symbols:["ident",a.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"ident"],postprocess:([e,s,t])=>[y(e),y(t)]},{name:"create_view_opts$macrocall$2",symbols:["create_view_opt"]},{name:"create_view_opts$macrocall$1$ebnf$1",symbols:[]},{name:"create_view_opts$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"create_view_opts$macrocall$2"],postprocess:m},{name:"create_view_opts$macrocall$1$ebnf$1",symbols:["create_view_opts$macrocall$1$ebnf$1","create_view_opts$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"create_view_opts$macrocall$1",symbols:["create_view_opts$macrocall$2","create_view_opts$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"create_view_opts",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"create_view_opts$macrocall$1"],postprocess:m},{name:"create_materialized_view$ebnf$1",symbols:["kw_ifnotexists"],postprocess:r},{name:"create_materialized_view$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_materialized_view$ebnf$2$subexpression$1$macrocall$2",symbols:["ident"]},{name:"create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1",symbols:[]},{name:"create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"create_materialized_view$ebnf$2$subexpression$1$macrocall$2"],postprocess:m},{name:"create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1",symbols:["create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1","create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"create_materialized_view$ebnf$2$subexpression$1$macrocall$1",symbols:["create_materialized_view$ebnf$2$subexpression$1$macrocall$2","create_materialized_view$ebnf$2$subexpression$1$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"create_materialized_view$ebnf$2$subexpression$1",symbols:["lparen","create_materialized_view$ebnf$2$subexpression$1$macrocall$1","rparen"],postprocess:p(1)},{name:"create_materialized_view$ebnf$2",symbols:["create_materialized_view$ebnf$2$subexpression$1"],postprocess:r},{name:"create_materialized_view$ebnf$2",symbols:[],postprocess:()=>null},{name:"create_materialized_view$ebnf$3",symbols:["create_view_opts"],postprocess:r},{name:"create_materialized_view$ebnf$3",symbols:[],postprocess:()=>null},{name:"create_materialized_view$ebnf$4$subexpression$1",symbols:["kw_tablespace","ident"],postprocess:m},{name:"create_materialized_view$ebnf$4",symbols:["create_materialized_view$ebnf$4$subexpression$1"],postprocess:r},{name:"create_materialized_view$ebnf$4",symbols:[],postprocess:()=>null},{name:"create_materialized_view$ebnf$5$subexpression$1$ebnf$1",symbols:["kw_no"],postprocess:r},{name:"create_materialized_view$ebnf$5$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_materialized_view$ebnf$5$subexpression$1",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"create_materialized_view$ebnf$5$subexpression$1$ebnf$1","kw_data"]},{name:"create_materialized_view$ebnf$5",symbols:["create_materialized_view$ebnf$5$subexpression$1"],postprocess:r},{name:"create_materialized_view$ebnf$5",symbols:[],postprocess:()=>null},{name:"create_materialized_view",symbols:[a.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"kw_materialized","kw_view","create_materialized_view$ebnf$1","qualified_name","create_materialized_view$ebnf$2","create_materialized_view$ebnf$3","create_materialized_view$ebnf$4",a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"selection","create_materialized_view$ebnf$5"],postprocess:e=>(0,n.track)(e,{type:"create materialized view",...e[3]&&{ifNotExists:!0},name:e[4],...e[5]&&{columnNames:e[6].map(o)},...e[6]&&{parameters:$(e[6])},...e[7]&&{tablespace:o(e[7])},query:e[9],...e[10]&&{withData:"no"!==y(e[10][1])}})},{name:"refresh_view_statements$ebnf$1",symbols:[a.lexerAny.has("kw_concurrently")?{type:"kw_concurrently"}:kw_concurrently],postprocess:r},{name:"refresh_view_statements$ebnf$1",symbols:[],postprocess:()=>null},{name:"refresh_view_statements$ebnf$2$subexpression$1$ebnf$1",symbols:["kw_no"],postprocess:r},{name:"refresh_view_statements$ebnf$2$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"refresh_view_statements$ebnf$2$subexpression$1",symbols:[a.lexerAny.has("kw_with")?{type:"kw_with"}:kw_with,"refresh_view_statements$ebnf$2$subexpression$1$ebnf$1","kw_data"]},{name:"refresh_view_statements$ebnf$2",symbols:["refresh_view_statements$ebnf$2$subexpression$1"],postprocess:r},{name:"refresh_view_statements$ebnf$2",symbols:[],postprocess:()=>null},{name:"refresh_view_statements",symbols:["kw_refresh","kw_materialized","kw_view","refresh_view_statements$ebnf$1","qname","refresh_view_statements$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"refresh materialized view",...e[3]?{concurrently:!0}:{},name:e[4],...e[5]?{withData:"no"!==y(e[5][1])}:{}})},{name:"functions_statements",symbols:["create_func"]},{name:"functions_statements",symbols:["do_stm"]},{name:"functions_statements",symbols:["drop_func"]},{name:"create_func$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("kw_or")?{type:"kw_or"}:kw_or,"kw_replace"]},{name:"create_func$ebnf$1",symbols:["create_func$ebnf$1$subexpression$1"],postprocess:r},{name:"create_func$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_func$subexpression$1$ebnf$1$macrocall$2",symbols:["func_argdef"]},{name:"create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1",symbols:[]},{name:"create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"create_func$subexpression$1$ebnf$1$macrocall$2"],postprocess:m},{name:"create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1",symbols:["create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1","create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"create_func$subexpression$1$ebnf$1$macrocall$1",symbols:["create_func$subexpression$1$ebnf$1$macrocall$2","create_func$subexpression$1$ebnf$1$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"create_func$subexpression$1$ebnf$1",symbols:["create_func$subexpression$1$ebnf$1$macrocall$1"],postprocess:r},{name:"create_func$subexpression$1$ebnf$1",symbols:[],postprocess:()=>null},{name:"create_func$subexpression$1",symbols:["lparen","create_func$subexpression$1$ebnf$1","rparen"],postprocess:p(1)},{name:"create_func$ebnf$2",symbols:["func_spec"]},{name:"create_func$ebnf$2",symbols:["create_func$ebnf$2","func_spec"],postprocess:e=>e[0].concat([e[1]])},{name:"create_func",symbols:[a.lexerAny.has("kw_create")?{type:"kw_create"}:kw_create,"create_func$ebnf$1","kw_function","qname","create_func$subexpression$1","create_func$ebnf$2"],postprocess:(e,s)=>{var t;const r={};for(const s of e[5]){for(const e in s)if("_"!==e[0]&&e in r)throw new Error("conflicting or redundant options "+e);Object.assign(r,s)}return(0,n.track)(e,{type:"create function",...e[1]&&{orReplace:!0},name:e[3],arguments:null!==(t=e[4])&&void 0!==t?t:[],...r})}},{name:"func_argdef$ebnf$1",symbols:["func_argopts"],postprocess:r},{name:"func_argdef$ebnf$1",symbols:[],postprocess:()=>null},{name:"func_argdef$ebnf$2",symbols:["func_argdefault"],postprocess:r},{name:"func_argdef$ebnf$2",symbols:[],postprocess:()=>null},{name:"func_argdef",symbols:["func_argdef$ebnf$1","data_type","func_argdef$ebnf$2"],postprocess:e=>(0,n.track)(e,{default:e[2],type:e[1],...e[0]})},{name:"func_argdefault",symbols:[a.lexerAny.has("kw_default")?{type:"kw_default"}:kw_default,"expr"],postprocess:e=>e[1]},{name:"func_argdefault",symbols:[a.lexerAny.has("op_eq")?{type:"op_eq"}:op_eq,"expr"],postprocess:e=>e[1]},{name:"func_argopts$ebnf$1",symbols:["word"],postprocess:r},{name:"func_argopts$ebnf$1",symbols:[],postprocess:()=>null},{name:"func_argopts",symbols:["func_argmod","func_argopts$ebnf$1"],postprocess:e=>(0,n.track)(e,{mode:y(e[0]),...e[1]&&{name:o(e[1])}})},{name:"func_argopts",symbols:["word"],postprocess:(e,s)=>{const t=o(e);return"out"===t||"inout"===t||"variadic"===t?s:(0,n.track)(e,{name:t})}},{name:"func_argmod",symbols:[a.lexerAny.has("kw_in")?{type:"kw_in"}:kw_in]},{name:"func_argmod",symbols:["kw_out"]},{name:"func_argmod",symbols:["kw_inout"]},{name:"func_argmod",symbols:["kw_variadic"]},{name:"func_spec",symbols:["kw_language","word"],postprocess:e=>(0,n.track)(e,{language:o(m(e))})},{name:"func_spec",symbols:["func_purity"],postprocess:e=>(0,n.track)(e,{purity:y(e)})},{name:"func_spec$subexpression$1",symbols:[a.lexerAny.has("codeblock")?{type:"codeblock"}:codeblock]},{name:"func_spec$subexpression$1",symbols:["string"]},{name:"func_spec",symbols:[a.lexerAny.has("kw_as")?{type:"kw_as"}:kw_as,"func_spec$subexpression$1"],postprocess:e=>({code:y(m(e))})},{name:"func_spec$ebnf$1",symbols:[a.lexerAny.has("kw_not")?{type:"kw_not"}:kw_not],postprocess:r},{name:"func_spec$ebnf$1",symbols:[],postprocess:()=>null},{name:"func_spec$subexpression$2",symbols:["word"],postprocess:h("leakproof")},{name:"func_spec",symbols:["func_spec$ebnf$1","func_spec$subexpression$2"],postprocess:e=>(0,n.track)(e,{leakproof:!e[0]})},{name:"func_spec",symbols:["func_returns"],postprocess:e=>(0,n.track)(e,{returns:c(e)})},{name:"func_spec$subexpression$3",symbols:["word"],postprocess:h("called")},{name:"func_spec",symbols:["func_spec$subexpression$3","oninp"],postprocess:()=>({onNullInput:"call"})},{name:"func_spec$subexpression$4",symbols:["word"],postprocess:h("returns")},{name:"func_spec",symbols:["func_spec$subexpression$4",a.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null,"oninp"],postprocess:()=>({onNullInput:"null"})},{name:"func_spec$subexpression$5",symbols:["word"],postprocess:h("strict")},{name:"func_spec",symbols:["func_spec$subexpression$5"],postprocess:()=>({onNullInput:"strict"})},{name:"func_purity",symbols:["word"],postprocess:h("immutable")},{name:"func_purity",symbols:["word"],postprocess:h("stable")},{name:"func_purity",symbols:["word"],postprocess:h("volatile")},{name:"oninp$subexpression$1",symbols:["word"],postprocess:h("input")},{name:"oninp",symbols:[a.lexerAny.has("kw_on")?{type:"kw_on"}:kw_on,a.lexerAny.has("kw_null")?{type:"kw_null"}:kw_null,"oninp$subexpression$1"]},{name:"func_returns",symbols:["kw_returns","data_type"],postprocess:m},{name:"func_returns$macrocall$2",symbols:["func_ret_table_col"]},{name:"func_returns$macrocall$1$ebnf$1",symbols:[]},{name:"func_returns$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"func_returns$macrocall$2"],postprocess:m},{name:"func_returns$macrocall$1$ebnf$1",symbols:["func_returns$macrocall$1$ebnf$1","func_returns$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"func_returns$macrocall$1",symbols:["func_returns$macrocall$2","func_returns$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"func_returns",symbols:["kw_returns",a.lexerAny.has("kw_table")?{type:"kw_table"}:kw_table,"lparen","func_returns$macrocall$1","rparen"],postprocess:e=>(0,n.track)(e,{kind:"table",columns:e[3]})},{name:"func_ret_table_col",symbols:["word","data_type"],postprocess:e=>(0,n.track)(e,{name:o(e[0]),type:e[1]})},{name:"do_stm$ebnf$1$subexpression$1",symbols:["kw_language","word"],postprocess:m},{name:"do_stm$ebnf$1",symbols:["do_stm$ebnf$1$subexpression$1"],postprocess:r},{name:"do_stm$ebnf$1",symbols:[],postprocess:()=>null},{name:"do_stm",symbols:[a.lexerAny.has("kw_do")?{type:"kw_do"}:kw_do,"do_stm$ebnf$1",a.lexerAny.has("codeblock")?{type:"codeblock"}:codeblock],postprocess:e=>(0,n.track)(e,{type:"do",...e[1]&&{language:o(e[1])},code:e[2].value})},{name:"drop_func$ebnf$1$subexpression$1",symbols:["kw_if","kw_exists"]},{name:"drop_func$ebnf$1",symbols:["drop_func$ebnf$1$subexpression$1"],postprocess:r},{name:"drop_func$ebnf$1",symbols:[],postprocess:()=>null},{name:"drop_func$ebnf$2",symbols:["drop_func_overload"],postprocess:r},{name:"drop_func$ebnf$2",symbols:[],postprocess:()=>null},{name:"drop_func",symbols:["kw_drop","kw_function","drop_func$ebnf$1","qname","drop_func$ebnf$2"],postprocess:e=>(0,n.track)(e,{type:"drop function",...e[2]&&{ifExists:!0},name:e[3],...e[4]&&{arguments:e[4]}})},{name:"drop_func_overload$macrocall$2",symbols:["drop_func_overload_col"]},{name:"drop_func_overload$macrocall$1$ebnf$1",symbols:[]},{name:"drop_func_overload$macrocall$1$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("comma")?{type:"comma"}:comma,"drop_func_overload$macrocall$2"],postprocess:m},{name:"drop_func_overload$macrocall$1$ebnf$1",symbols:["drop_func_overload$macrocall$1$ebnf$1","drop_func_overload$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"drop_func_overload$macrocall$1",symbols:["drop_func_overload$macrocall$2","drop_func_overload$macrocall$1$ebnf$1"],postprocess:([e,s])=>[c(e),...s.map(c)||[]]},{name:"drop_func_overload",symbols:["lparen","drop_func_overload$macrocall$1","rparen"],postprocess:p(1)},{name:"drop_func_overload_col$ebnf$1",symbols:["word"],postprocess:r},{name:"drop_func_overload_col$ebnf$1",symbols:[],postprocess:()=>null},{name:"drop_func_overload_col",symbols:["drop_func_overload_col$ebnf$1","qname"],postprocess:e=>(0,n.track)(e,{type:e[1],...e[0]&&{name:o(e[0])}})},{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement_separator"],postprocess:e=>e[0].concat([e[1]])},{name:"main$ebnf$2",symbols:[]},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:["statement_separator"]},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:["main$ebnf$2$subexpression$1$ebnf$1","statement_separator"],postprocess:e=>e[0].concat([e[1]])},{name:"main$ebnf$2$subexpression$1",symbols:["main$ebnf$2$subexpression$1$ebnf$1","statement"]},{name:"main$ebnf$2",symbols:["main$ebnf$2","main$ebnf$2$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"main$ebnf$3",symbols:[]},{name:"main$ebnf$3",symbols:["main$ebnf$3","statement_separator"],postprocess:e=>e[0].concat([e[1]])},{name:"main",symbols:["main$ebnf$1","statement","main$ebnf$2","main$ebnf$3"],postprocess:([e,s,t])=>{const r=t,a=[c(s),...r.map((e=>c(e[1])))];return 1===a.length?a[0]:a}},{name:"statement_separator",symbols:[a.lexerAny.has("semicolon")?{type:"semicolon"}:semicolon]},{name:"statement",symbols:["statement_noprep"]},{name:"statement",symbols:["prepare"]},{name:"statement",symbols:["deallocate"]},{name:"statement_noprep",symbols:["selection"]},{name:"statement_noprep",symbols:["createtable_statement"]},{name:"statement_noprep",symbols:["createextension_statement"]},{name:"statement_noprep",symbols:["createindex_statement"]},{name:"statement_noprep",symbols:["simplestatements_all"]},{name:"statement_noprep",symbols:["insert_statement"]},{name:"statement_noprep",symbols:["update_statement"]},{name:"statement_noprep",symbols:["altertable_statement"]},{name:"statement_noprep",symbols:["alterindex_statement"]},{name:"statement_noprep",symbols:["delete_statement"]},{name:"statement_noprep",symbols:["create_sequence_statement"]},{name:"statement_noprep",symbols:["alter_sequence_statement"]},{name:"statement_noprep",symbols:["drop_statement"]},{name:"statement_noprep",symbols:["createtype_statement"]},{name:"statement_noprep",symbols:["create_view_statements"]},{name:"statement_noprep",symbols:["refresh_view_statements"]},{name:"statement_noprep",symbols:["create_schema"]},{name:"statement_noprep",symbols:["raise_statement"]},{name:"statement_noprep",symbols:["comment_statement"]},{name:"statement_noprep",symbols:["functions_statements"]},{name:"selection",symbols:["select_statement"],postprocess:c},{name:"selection",symbols:["select_values"],postprocess:c},{name:"selection",symbols:["with_statement"],postprocess:c},{name:"selection",symbols:["with_recursive_statement"],postprocess:c},{name:"selection",symbols:["union_statement"],postprocess:c},{name:"selection_paren",symbols:["lparen","selection","rparen"],postprocess:p(1)}],ParserStart:"main"};s.default=k},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(12),a={Lexer:r.lexerAny,ParserRules:[{name:"main$ebnf$1",symbols:["elements"],postprocess:function(e){return e[0]}},{name:"main$ebnf$1",symbols:[],postprocess:()=>null},{name:"main",symbols:[r.lexerAny.has("start_list")?{type:"start_list"}:start_list,"main$ebnf$1",r.lexerAny.has("end_list")?{type:"end_list"}:end_list],postprocess:e=>e[1]||[]},{name:"elements$ebnf$1",symbols:[]},{name:"elements$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"elt"],postprocess:e=>e&&e[e.length-1]},{name:"elements$ebnf$1",symbols:["elements$ebnf$1","elements$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"elements",symbols:["elt","elements$ebnf$1"],postprocess:([e,s])=>[e,...s||[]]},{name:"elt",symbols:[r.lexerAny.has("value")?{type:"value"}:value],postprocess:e=>e[0].value},{name:"elt",symbols:["main"],postprocess:e=>e[0]}],ParserStart:"main"};s.default=a},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.lexerAny=s.lexer=void 0;const r=t(0);var a;s.lexer=(0,r.compile)({valueString:{match:/"(?:\\["\\]|[^\n"\\])*"/,value:e=>JSON.parse(e),type:e=>"value"},valueRaw:{match:/[^\s,\{\}"](?:[^,\{\}"]*[^\s,\{\}"])?/,type:()=>"value"},comma:",",space:{match:/[\s\t\n\v\f\r]+/,lineBreaks:!0},start_list:"{",end_list:"}"}),s.lexer.next=(a=s.lexer.next,()=>{let e;for(;(e=a.call(s.lexer))&&"space"===e.type;);return e}),s.lexerAny=s.lexer},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(14),a=e=>s=>s[e],n=e=>e&&e[e.length-1];function o(e){return Array.isArray(e)&&1===e.length&&(e=o(e[0])),Array.isArray(e)&&!e.length?null:e}const l={Lexer:r.lexerAny,ParserRules:[{name:"number$subexpression$1",symbols:["float"]},{name:"number$subexpression$1",symbols:["int"]},{name:"number",symbols:["number$subexpression$1"],postprocess:o},{name:"float",symbols:[r.lexerAny.has("float")?{type:"float"}:float],postprocess:e=>parseFloat(o(e))},{name:"int",symbols:[r.lexerAny.has("int")?{type:"int"}:int],postprocess:e=>parseInt(o(e),10)},{name:"comma",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma],postprocess:function(e){return e[0]}},{name:"point$macrocall$2",symbols:["point_content"]},{name:"point$macrocall$1$subexpression$1",symbols:["point$macrocall$2"]},{name:"point$macrocall$1$subexpression$1",symbols:[r.lexerAny.has("lparen")?{type:"lparen"}:lparen,"point$macrocall$2",r.lexerAny.has("rparen")?{type:"rparen"}:rparen],postprocess:a(1)},{name:"point$macrocall$1",symbols:["point$macrocall$1$subexpression$1"],postprocess:o},{name:"point",symbols:["point$macrocall$1"],postprocess:o},{name:"point_content",symbols:["number","comma","number"],postprocess:e=>({x:e[0],y:e[2]})},{name:"line",symbols:[r.lexerAny.has("lcurl")?{type:"lcurl"}:lcurl,"number","comma","number","comma","number",r.lexerAny.has("rcurl")?{type:"rcurl"}:rcurl],postprocess:e=>({a:e[1],b:e[3],c:e[5]})},{name:"box",symbols:["closed_path"],postprocess:([e],s)=>2!==e.length?s:e},{name:"lseg",symbols:["path"],postprocess:([e],s)=>2!==e.path.length?s:e.path},{name:"path",symbols:["open_path"],postprocess:([e])=>({closed:!1,path:e})},{name:"path",symbols:["closed_path"],postprocess:([e])=>({closed:!0,path:e})},{name:"open_path$macrocall$2",symbols:[r.lexerAny.has("lbracket")?{type:"lbracket"}:lbracket]},{name:"open_path$macrocall$3",symbols:[r.lexerAny.has("rbracket")?{type:"rbracket"}:rbracket]},{name:"open_path$macrocall$1$macrocall$2",symbols:["point"]},{name:"open_path$macrocall$1$macrocall$1$ebnf$1",symbols:[]},{name:"open_path$macrocall$1$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"open_path$macrocall$1$macrocall$2"],postprocess:n},{name:"open_path$macrocall$1$macrocall$1$ebnf$1",symbols:["open_path$macrocall$1$macrocall$1$ebnf$1","open_path$macrocall$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"open_path$macrocall$1$macrocall$1",symbols:["open_path$macrocall$1$macrocall$2","open_path$macrocall$1$macrocall$1$ebnf$1"],postprocess:([e,s])=>[o(e),...s.map(o)||[]]},{name:"open_path$macrocall$1",symbols:["open_path$macrocall$2","open_path$macrocall$1$macrocall$1","open_path$macrocall$3"],postprocess:a(1)},{name:"open_path",symbols:["open_path$macrocall$1"],postprocess:n},{name:"closed_path$subexpression$1$macrocall$2",symbols:[r.lexerAny.has("lparen")?{type:"lparen"}:lparen]},{name:"closed_path$subexpression$1$macrocall$3",symbols:[r.lexerAny.has("rparen")?{type:"rparen"}:rparen]},{name:"closed_path$subexpression$1$macrocall$1$macrocall$2",symbols:["point"]},{name:"closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1",symbols:[]},{name:"closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"closed_path$subexpression$1$macrocall$1$macrocall$2"],postprocess:n},{name:"closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1",symbols:["closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1","closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"closed_path$subexpression$1$macrocall$1$macrocall$1",symbols:["closed_path$subexpression$1$macrocall$1$macrocall$2","closed_path$subexpression$1$macrocall$1$macrocall$1$ebnf$1"],postprocess:([e,s])=>[o(e),...s.map(o)||[]]},{name:"closed_path$subexpression$1$macrocall$1",symbols:["closed_path$subexpression$1$macrocall$2","closed_path$subexpression$1$macrocall$1$macrocall$1","closed_path$subexpression$1$macrocall$3"],postprocess:a(1)},{name:"closed_path$subexpression$1",symbols:["closed_path$subexpression$1$macrocall$1"],postprocess:n},{name:"closed_path$subexpression$1$macrocall$5",symbols:["point"]},{name:"closed_path$subexpression$1$macrocall$4$ebnf$1",symbols:[]},{name:"closed_path$subexpression$1$macrocall$4$ebnf$1$subexpression$1",symbols:[r.lexerAny.has("comma")?{type:"comma"}:comma,"closed_path$subexpression$1$macrocall$5"],postprocess:n},{name:"closed_path$subexpression$1$macrocall$4$ebnf$1",symbols:["closed_path$subexpression$1$macrocall$4$ebnf$1","closed_path$subexpression$1$macrocall$4$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"closed_path$subexpression$1$macrocall$4",symbols:["closed_path$subexpression$1$macrocall$5","closed_path$subexpression$1$macrocall$4$ebnf$1"],postprocess:([e,s])=>[o(e),...s.map(o)||[]]},{name:"closed_path$subexpression$1",symbols:["closed_path$subexpression$1$macrocall$4"],postprocess:n},{name:"closed_path",symbols:["closed_path$subexpression$1"],postprocess:a(0)},{name:"polygon",symbols:["closed_path"],postprocess:a(0)},{name:"circle_body",symbols:["point","comma","number"],postprocess:e=>({c:e[0],r:e[2]})},{name:"circle$subexpression$1$macrocall$2",symbols:[r.lexerAny.has("lcomp")?{type:"lcomp"}:lcomp]},{name:"circle$subexpression$1$macrocall$3",symbols:[r.lexerAny.has("rcomp")?{type:"rcomp"}:rcomp]},{name:"circle$subexpression$1$macrocall$1",symbols:["circle$subexpression$1$macrocall$2","circle_body","circle$subexpression$1$macrocall$3"],postprocess:a(1)},{name:"circle$subexpression$1",symbols:["circle$subexpression$1$macrocall$1"]},{name:"circle$subexpression$1$macrocall$5",symbols:[r.lexerAny.has("lparen")?{type:"lparen"}:lparen]},{name:"circle$subexpression$1$macrocall$6",symbols:[r.lexerAny.has("rparen")?{type:"rparen"}:rparen]},{name:"circle$subexpression$1$macrocall$4",symbols:["circle$subexpression$1$macrocall$5","circle_body","circle$subexpression$1$macrocall$6"],postprocess:a(1)},{name:"circle$subexpression$1",symbols:["circle$subexpression$1$macrocall$4"]},{name:"circle$subexpression$1",symbols:["circle_body"]},{name:"circle",symbols:["circle$subexpression$1"],postprocess:o}],ParserStart:"number"};s.default=l},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.lexerAny=s.lexer=void 0;const r=t(0);var a;s.lexer=(0,r.compile)({comma:",",space:{match:/[\s\t\n\v\f\r]+/,lineBreaks:!0},int:/\-?\d+(?![\.\d])/,float:/\-?(?:(?:\d*\.\d+)|(?:\d+\.\d*))/,lcurl:"{",rcurl:"}",lparen:"(",rparen:")",lbracket:"[",rbracket:"]",lcomp:"<",rcomp:">"}),s.lexer.next=(a=s.lexer.next,()=>{let e;for(;(e=a.call(s.lexer))&&"space"===e.type;);return e}),s.lexerAny=s.lexer},function(e,s,t){"use strict";function r(e){return e[0]}Object.defineProperty(s,"__esModule",{value:!0});const a=t(16),n={Lexer:a.lexerAny,ParserRules:[{name:"main$ebnf$1",symbols:["elt"]},{name:"main$ebnf$1",symbols:["main$ebnf$1","elt"],postprocess:e=>e[0].concat([e[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([e])=>{const s=new Set;for(const t of e){const e="number"==typeof t[1]?t[0]:"time";if(s.has(e))return"invalid";s.add(e)}return e}},{name:"elt",symbols:["time"]},{name:"elt",symbols:["num","unit"],postprocess:([[e],s])=>[s=s[0].type,e]},{name:"unit",symbols:[a.lexerAny.has("years")?{type:"years"}:years]},{name:"unit",symbols:[a.lexerAny.has("months")?{type:"months"}:months]},{name:"unit",symbols:[a.lexerAny.has("days")?{type:"days"}:days]},{name:"unit",symbols:[a.lexerAny.has("hours")?{type:"hours"}:hours]},{name:"unit",symbols:[a.lexerAny.has("minutes")?{type:"minutes"}:minutes]},{name:"unit",symbols:[a.lexerAny.has("seconds")?{type:"seconds"}:seconds]},{name:"unit",symbols:[a.lexerAny.has("milliseconds")?{type:"milliseconds"}:milliseconds]},{name:"num",symbols:["int"]},{name:"num",symbols:["float"]},{name:"uint",symbols:[a.lexerAny.has("int")?{type:"int"}:int],postprocess:([e])=>parseInt(e,10)},{name:"int$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("neg")?{type:"neg"}:neg]},{name:"int$ebnf$1",symbols:["int$ebnf$1$subexpression$1"],postprocess:r},{name:"int$ebnf$1",symbols:[],postprocess:()=>null},{name:"int",symbols:["int$ebnf$1",a.lexerAny.has("int")?{type:"int"}:int],postprocess:([e,s])=>parseInt(s,10)*(e?-1:1)},{name:"float$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("neg")?{type:"neg"}:neg]},{name:"float$ebnf$1",symbols:["float$ebnf$1$subexpression$1"],postprocess:r},{name:"float$ebnf$1",symbols:[],postprocess:()=>null},{name:"float$ebnf$2",symbols:[a.lexerAny.has("int")?{type:"int"}:int],postprocess:r},{name:"float$ebnf$2",symbols:[],postprocess:()=>null},{name:"float",symbols:["float$ebnf$1","float$ebnf$2",a.lexerAny.has("dot")?{type:"dot"}:dot,a.lexerAny.has("int")?{type:"int"}:int],postprocess:([e,...s])=>parseFloat(s.map((e=>e?e.text:"0")).join(""))*(e?-1:1)},{name:"time$ebnf$1$subexpression$1",symbols:[a.lexerAny.has("colon")?{type:"colon"}:colon,"uint"]},{name:"time$ebnf$1",symbols:["time$ebnf$1$subexpression$1"],postprocess:r},{name:"time$ebnf$1",symbols:[],postprocess:()=>null},{name:"time$ebnf$2$subexpression$1",symbols:[a.lexerAny.has("dot")?{type:"dot"}:dot,a.lexerAny.has("int")?{type:"int"}:int]},{name:"time$ebnf$2",symbols:["time$ebnf$2$subexpression$1"],postprocess:r},{name:"time$ebnf$2",symbols:[],postprocess:()=>null},{name:"time",symbols:["uint",a.lexerAny.has("colon")?{type:"colon"}:colon,"uint","time$ebnf$1","time$ebnf$2"],postprocess:([e,s,t,r,a])=>{const n="number"==typeof(r=r&&r[1])?[["hours",e],["minutes",t],["seconds",r]]:[["minutes",e],["seconds",t]];return(a=a&&a[1])&&n.push(["milliseconds",1e3*parseFloat("0."+a)]),n}}],ParserStart:"main"};s.default=n},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.lexerAny=s.lexer=void 0;const r=t(0);var a;s.lexer=(0,r.compile)({int:/\d+/,neg:"-",dot:".",years:/(?:y|yrs?|years?)\b/,months:/(?:mon(?:th)?s?)\b/,days:/(?:d|days?)\b/,hours:/(?:h|hrs?|hours?)\b/,minutes:/(?:m|mins?|minutes?)\b/,seconds:/(?:s|secs?|seconds?)\b/,milliseconds:/(?:ms|milliseconds?)\b/,space:{match:/[\s\t\n\v\f\r]+/,lineBreaks:!0},colon:":"}),s.lexer.next=(a=s.lexer.next,()=>{let e;for(;(e=a.call(s.lexer))&&"space"===e.type;);return e}),s.lexerAny=s.lexer},function(e,s,t){"use strict";function r(e){return e[0]}Object.defineProperty(s,"__esModule",{value:!0});const a=t(18),n={Lexer:a.lexerAny,ParserRules:[{name:"num",symbols:[a.lexerAny.has("int")?{type:"int"}:int]},{name:"num",symbols:[a.lexerAny.has("float")?{type:"float"}:float]},{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","long"],postprocess:e=>e[0].concat([e[1]])},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:["short"]},{name:"main$ebnf$2$subexpression$1$ebnf$1",symbols:["main$ebnf$2$subexpression$1$ebnf$1","short"],postprocess:e=>e[0].concat([e[1]])},{name:"main$ebnf$2$subexpression$1",symbols:[a.lexerAny.has("T")?{type:"T"}:T,"main$ebnf$2$subexpression$1$ebnf$1"]},{name:"main$ebnf$2",symbols:["main$ebnf$2$subexpression$1"],postprocess:r},{name:"main$ebnf$2",symbols:[],postprocess:()=>null},{name:"main",symbols:[a.lexerAny.has("P")?{type:"P"}:P,"main$ebnf$1","main$ebnf$2"],postprocess:([e,s,t],r)=>(t=t?t[1]:[],s.length||t.length?s.length?t.length?[...s,...t]:s:t:r)},{name:"long$subexpression$1",symbols:[a.lexerAny.has("Y")?{type:"Y"}:Y]},{name:"long$subexpression$1",symbols:[a.lexerAny.has("M")?{type:"M"}:M]},{name:"long$subexpression$1",symbols:[a.lexerAny.has("W")?{type:"W"}:W]},{name:"long$subexpression$1",symbols:[a.lexerAny.has("D")?{type:"D"}:D]},{name:"long",symbols:["num","long$subexpression$1"],postprocess:([e,s])=>{switch(e=parseFloat(e[0].value),s=s[0].type){case"Y":return["years",e];case"M":return["months",e];case"W":return["days",7*e];case"D":return["days",e];default:throw new Error("Unexpected unit "+s)}}},{name:"short$ebnf$1",symbols:[a.lexerAny.has("T")?{type:"T"}:T],postprocess:r},{name:"short$ebnf$1",symbols:[],postprocess:()=>null},{name:"short$subexpression$1",symbols:[a.lexerAny.has("H")?{type:"H"}:H]},{name:"short$subexpression$1",symbols:[a.lexerAny.has("M")?{type:"M"}:M]},{name:"short$subexpression$1",symbols:[a.lexerAny.has("S")?{type:"S"}:S]},{name:"short",symbols:["short$ebnf$1","num","short$subexpression$1"],postprocess:([e,s,t])=>{switch(s=parseFloat(s[0].value),t=t[0].type){case"H":return["hours",s];case"M":return["minutes",s];case"S":return["seconds",s];default:throw new Error("Unexpected unit "+t)}}}],ParserStart:"num"};s.default=n},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.lexerAny=s.lexer=void 0;const r=t(0);s.lexer=(0,r.compile)({int:/\-?\d+(?![\.\d])/,float:/\-?(?:(?:\d*\.\d+)|(?:\d+\.\d*))/,P:"P",Y:"Y",M:"M",W:"W",D:"D",H:"H",S:"S",T:"T"}),s.lexerAny=s.lexer},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.toSql=void 0;const r=t(2),a=t(5),n=t(6),o=t(20),l=t(3),i=new Set(l.sqlKeywords.map((e=>e.toLowerCase())));let c=[];function p(e){return m(e.name)}function m(e,s){if(!s){const s=e.toLowerCase();if(s===e&&!i.has(s)&&/^[a-z][a-z0-9_]*$/.test(s))return e}return'"'+e+'"'}function u(e,s,t){t&&c.push("(");let r=!0;for(const t of e)r||c.push(", "),r=!1,s(t);t&&c.push(")")}function b(e,s){switch(e.type){case"foreign key":c.push(" foreign key (",...e.localColumns.map(p).join(", "),")");case"reference":c.push(" REFERENCES "),s.tableRef(e.foreignTable),c.push("(",...e.foreignColumns.map(p).join(", "),") "),e.match&&c.push(" MATCH ",e.match.toUpperCase()),e.onDelete&&c.push(" ON DELETE ",e.onDelete),e.onUpdate&&c.push(" ON UPDATE ",e.onUpdate);break;case"primary key":case"unique":c.push(" ",e.type," "),"columns"in e&&c.push("(",...e.columns.map(p).join(", "),") ");break;case"check":c.push(" check "),s.expr(e.expr);break;case"not null":case"null":c.push(" ",e.type," ");break;case"default":c.push(" default "),s.expr(e.default);break;case"add generated":c.push(" GENERATED "),f(s,e);break;default:throw n.NotSupported.never(e)}c.push(" ")}function _(e,s){e.schema&&c.push(m(e.schema),"."),c.push(m(e.name,s)," ")}function y(e){_(e),e.alias&&c.push(" AS ",m(e.alias)," ")}function $(e,s){c.push(" ORDER BY "),u(s,(s=>{e.expr(s.by),s.order&&c.push(" ",s.order," "),s.nulls&&c.push(" NULLS ",s.nulls," ")}),!1)}function d(e){switch(e.type){case"default":c.push("DEFAULT ");break;case"identifier":c.push(e.name);break;case"list":let s=!0;for(const t of e.values)s||c.push(", "),s=!1,d(t);break;case"value":c.push("number"==typeof e.value?e.value.toString():(0,o.literal)(e.value));break;default:throw n.NotSupported.never(e)}}function f(e,s){s.always&&c.push(s.always.toUpperCase()," "),c.push("AS IDENTITY "),s.sequence&&(c.push("("),s.sequence.name&&(c.push("SEQUENCE NAME "),_(s.sequence.name),c.push(" ")),h(e,s.sequence),c.push(") "))}function h(e,s){s.as&&(c.push("AS "),e.dataType(s.as),c.push(" ")),"number"==typeof s.incrementBy&&c.push("INCREMENT BY ",s.incrementBy.toString()," "),"no minvalue"===s.minValue&&c.push("NO MINVALUE "),"number"==typeof s.minValue&&c.push("MINVALUE ",s.minValue.toString()," "),"no maxvalue"===s.maxValue&&c.push("NO MAXVALUE "),"number"==typeof s.maxValue&&c.push("MAXVALUE ",s.maxValue.toString()," "),"number"==typeof s.startWith&&c.push("START WITH ",s.startWith.toString()," "),"number"==typeof s.cache&&c.push("CACHE ",s.cache.toString()," "),s.cycle&&c.push(s.cycle," "),"none"===s.ownedBy?c.push("OWNED BY NONE "):s.ownedBy&&(c.push("OWNED BY "),x(s.ownedBy)),"restart"in s&&(!0===s.restart?c.push("RESTART "):s.restart&&c.push("RESTART WITH ",s.restart.toString()," "))}function x(e){e.schema&&c.push(m(e.schema),"."),c.push(m(e.table),".",m(e.column)," ")}function w(e,s,t){s?(c.push(s.type," "),t(),s.on&&(c.push("ON "),e.expr(s.on)),s.using&&(c.push("USING ("),u(s.using,(e=>c.push(p(e))),!1),c.push(") ")),c.push(" ")):t()}function k(e){e.opSchema?c.push(" operator(",m(e.opSchema),".",e.op,") "):c.push(" ",e.op," ")}const v=(0,a.astVisitor)((e=>({addColumn:(...s)=>{c.push(" ADD COLUMN "),s[0].ifNotExists&&c.push("IF NOT EXISTS "),e.super().addColumn(...s)},createExtension:e=>{c.push("CREATE EXTENSION "),e.ifNotExists&&c.push(" IF NOT EXISTS "),c.push(p(e.extension)),(e.from||e.version||e.schema)&&(c.push(" WITH"),e.schema&&c.push(" SCHEMA ",p(e.schema)),e.version&&c.push(" VERSION ",(0,o.literal)(e.version.value)),e.from&&c.push(" FROM ",(0,o.literal)(e.from.value)))},tablespace:e=>{c.push("TABLESPACE ",p(e.tablespace))},addConstraint:s=>{c.push(" ADD ");const t=s.constraint.constraintName;t&&c.push(" CONSTRAINT ",p(t)," "),b(s.constraint,e)},alterColumn:(s,t)=>{c.push(" ALTER COLUMN ",p(s.column)," "),e.super().alterColumn(s,t)},setColumnDefault:(s,t,r)=>{if(c.push(" SET DEFAULT "),e.expr(s.default),s.updateExisting)throw new Error("Not implemented: updateExisting on set column default")},createEnum:e=>{c.push("CREATE TYPE "),_(e.name),c.push(" AS ENUM "),u(e.values,(e=>c.push((0,o.literal)(e.value))),!0),c.push(" ")},createCompositeType:s=>{c.push("CREATE TYPE "),_(s.name),c.push(" AS "),u(s.attributes,(s=>{c.push(p(s.name)," "),e.dataType(s.dataType),s.collate&&(c.push("COLLATE "),_(s.collate))}),!0),c.push(" ")},setTableOwner:e=>{c.push(" OWNER TO ",p(e.to))},alterColumnSimple:e=>c.push(e.type),alterColumnAddGenerated:s=>{c.push(" ADD GENERATED "),f(e,s)},setColumnType:s=>{c.push(" SET DATA TYPE "),e.dataType(s.dataType),c.push(" ")},alterTable:s=>{c.push("ALTER TABLE "),s.ifExists&&c.push(" IF EXISTS "),s.only&&c.push(" ONLY "),y(s.table),u(s.changes,(t=>e.tableAlteration(t,s.table)),!1)},alterIndex:e=>{switch(c.push("ALTER INDEX "),e.ifExists&&c.push(" IF EXISTS "),y(e.index),e.change.type){case"rename":c.push(" RENAME TO "),_(e.change.to),c.push(" ");break;case"set tablespace":c.push(" SET TABLESPACE "),_(e.change.tablespace),c.push(" ");break;default:throw n.NotSupported.never(e.change,"Alter index type not supported: ")}},tableAlteration:(s,t)=>{switch(s.type){case"add column":return e.addColumn(s,t);case"add constraint":return e.addConstraint(s,t);case"alter column":return e.alterColumn(s,t);case"rename":return e.renameTable(s,t);case"rename column":return e.renameColumn(s,t);case"rename constraint":return e.renameConstraint(s,t);case"drop column":return e.dropColumn(s,t);case"drop constraint":return e.dropConstraint(s,t);case"owner":return e.setTableOwner(s,t);default:throw n.NotSupported.never(s)}},array:s=>{c.push("array"===s.type?"ARRAY[":"("),u(s.expressions,(s=>e.expr(s)),!1),c.push("array"===s.type?"]":")")},arrayIndex:s=>{e.expr(s.array),c.push("["),e.expr(s.index),c.push("] ")},expr:s=>{"ref"!==s.type?"list"!==s.type?(c.push("("),e.super().expr(s),c.push(")")):e.super().expr(s):e.ref(s)},callOverlay:s=>{c.push("OVERLAY("),e.expr(s.value),c.push(" PLACING "),e.expr(s.placing),c.push(" FROM "),e.expr(s.from),s.for&&(c.push(" FOR "),e.expr(s.for)),c.push(")")},callSubstring:s=>{c.push("SUBSTRING("),e.expr(s.value),s.from&&(c.push(" FROM "),e.expr(s.from)),s.for&&(c.push(" FOR "),e.expr(s.for)),c.push(")")},binary:s=>{e.expr(s.left),k(s),e.expr(s.right)},call:s=>{_(s.function),c.push("("),s.distinct&&c.push(s.distinct," "),u(s.args,(s=>e.expr(s)),!1),s.orderBy&&$(e,s.orderBy),c.push(") "),s.filter&&(c.push("filter (where "),e.expr(s.filter),c.push(") ")),s.over&&(c.push("over ("),s.over.partitionBy&&(c.push("PARTITION BY "),u(s.over.partitionBy,(s=>e.expr(s)),!1),c.push(" ")),s.over.orderBy&&($(e,s.over.orderBy),c.push(" ")),c.push(") "))},case:s=>{c.push("CASE "),s.value&&e.expr(s.value);for(const t of s.whens)c.push(" WHEN "),e.expr(t.when),c.push(" THEN "),e.expr(t.value);s.else&&(c.push(" ELSE "),e.expr(s.else)),c.push(" END ")},cast:s=>{e.expr(s.operand),c.push("::"),e.dataType(s.to)},constant:e=>{switch(e.type){case"boolean":c.push(e.value?"true":"false");break;case"integer":c.push(e.value.toString(10));break;case"numeric":c.push(e.value.toString()),Number.isInteger(e.value)&&c.push(".");break;case"null":c.push("null");break;case"constant":break;case"string":c.push((0,o.literal)(e.value));break;default:throw n.NotSupported.never(e)}},valueKeyword:e=>{c.push(e.keyword," ")},comment:e=>{c.push("COMMENT ON ",e.on.type.toUpperCase()," "),"column"===e.on.type?x(e.on.column):_(e.on.name),c.push(" IS ",(0,o.literal)(e.comment)," ")},extract:s=>{c.push("EXTRACT (",s.field.name.toUpperCase()," FROM "),e.expr(s.from),c.push(") ")},createColumn:s=>{var t;c.push(p(s.name)," "),e.dataType(s.dataType),c.push(" "),s.collate&&(c.push("COLLATE "),_(s.collate));for(const r of null!==(t=s.constraints)&&void 0!==t?t:[])e.constraint(r)},begin:e=>{c.push("BEGIN "),e.isolationLevel&&c.push("ISOLATION LEVEL ",e.isolationLevel.toUpperCase()," "),e.writeable&&c.push(e.writeable.toUpperCase()," "),"boolean"==typeof e.deferrable&&(e.deferrable||c.push("NOT "),c.push("DEFERRABLE "))},alterSequence:s=>{switch(c.push("ALTER SEQUENCE "),s.ifExists&&c.push("IF EXISTS "),_(s.name),s.change.type){case"set options":h(e,s.change);break;case"rename":c.push("RENAME TO ",p(s.change.newName)," ");break;case"set schema":c.push("SET SCHEMA ",p(s.change.newSchema)," ");break;case"owner to":s.change.owner,c.push("OWNER TO ",p(s.change.owner)," ");break;default:throw n.NotSupported.never(s.change)}},createSequence:s=>{c.push("CREATE "),s.temp&&c.push("TEMPORARY "),c.push("SEQUENCE "),s.ifNotExists&&c.push("IF NOT EXISTS "),_(s.name),h(e,s.options)},drop:s=>{c.push(s.type.toUpperCase()," "),s.concurrently&&c.push("CONCURRENTLY "),s.ifExists&&c.push("IF EXISTS "),u(s.names,(s=>e.tableRef(s)),!1),s.cascade&&c.push(s.cascade.toUpperCase()," ")},constraint:s=>{s.constraintName&&c.push(" CONSTRAINT ",p(s.constraintName)," "),b(s,e)},do:e=>{c.push("DO"),e.language&&c.push(" LANGUAGE ",e.language.name),c.push(" $$",e.code,"$$")},createFunction:s=>{var t;if(c.push(s.orReplace?"CREATE OR REPLACE FUNCTION ":"CREATE FUNCTION "),_(s.name),u(s.arguments,(s=>{s.mode&&c.push(s.mode," "),s.name&&c.push(p(s.name)," "),e.dataType(s.type),s.default&&(c.push(" = "),e.expr(s.default))}),!0),s.returns)switch(s.returns.kind){case"table":c.push(" RETURNS TABLE "),u(s.returns.columns,(s=>{c.push(p(s.name)," "),e.dataType(s.type)}),!0);break;case void 0:case null:case"array":c.push(" RETURNS "),e.dataType(s.returns);break;default:throw n.NotSupported.never(s.returns)}switch(c.push(" AS $$",null!==(t=s.code)&&void 0!==t?t:"","$$"),s.language&&c.push("LANGUAGE ",s.language.name," "),s.purity&&c.push(s.purity.toUpperCase()," "),"boolean"==typeof s.leakproof&&c.push(s.leakproof?"LEAKPROOF ":"NOT LEAKPROOF "),s.onNullInput){case"call":c.push("CALLED ON NULL INPUT ");break;case"null":c.push("RETURNS NULL ON NULL INPUT ");break;case"strict":c.push("STRICT ");break;case null:case void 0:break;default:throw n.NotSupported.never(s.onNullInput)}},dropFunction:s=>{c.push("DROP FUNCTION "),s.ifExists&&c.push("IF EXISTS "),_(s.name),s.arguments&&u(s.arguments,(s=>{s.name&&(_(s.name),c.push(" ")),e.dataType(s.type)}),!0),c.push(" ")},with:s=>{c.push("WITH "),u(s.bind,(s=>{c.push(p(s.alias)," AS ("),e.statement(s.statement),c.push(") ")}),!1),e.statement(s.in)},withRecursive:s=>{c.push("WITH RECURSIVE ",p(s.alias),"(",...s.columnNames.map(p).join(", "),") AS ("),e.union(s.bind),c.push(") "),e.statement(s.in)},setGlobal:e=>{c.push("SET ",p(e.variable)," = "),d(e.set)},setTimezone:e=>{switch(c.push("SET TIME ZONE "),e.to.type){case"default":case"local":c.push(e.to.type.toUpperCase()," ");break;case"value":c.push("string"==typeof e.to.value?(0,o.literal)(e.to.value):e.to.value.toString(10));break;case"interval":c.push("INTERVAL ",(0,o.literal)(e.to.value)," HOUR TO MINUTE");break;default:throw n.NotSupported.never(e.to)}},dataType:s=>{var t,r;if("array"===(null==s?void 0:s.kind))return e.dataType(s.arrayOf),void c.push("[]");if(!(null==s?void 0:s.name))return void c.push("unkown");let a=!0;if(s.schema)_(s,s.doubleQuoted);else if(s.doubleQuoted)_(s,!0);else switch(s.name){case"double precision":case"character varying":case"bit varying":c.push(s.name," ");break;case"time without time zone":case"timestamp without time zone":case"time with time zone":case"timestamp with time zone":const e=s.name.split(" ");c.push(e.shift()),(null===(t=s.config)||void 0===t?void 0:t.length)&&u(s.config,(e=>c.push(e.toString(10))),!0),c.push(" "),c.push(e.join(" ")," "),a=!1;break;default:_(s)}a&&(null===(r=s.config)||void 0===r?void 0:r.length)&&u(s.config,(e=>c.push(e.toString(10))),!0)},createIndex:s=>{c.push(s.unique?"CREATE UNIQUE INDEX ":"CREATE INDEX "),s.ifNotExists&&c.push(" IF NOT EXISTS "),s.indexName&&c.push(p(s.indexName)," "),c.push("ON "),e.tableRef(s.table),s.using&&c.push("USING ",p(s.using)," "),u(s.expressions,(s=>{e.expr(s.expression),c.push(" "),s.collate&&(c.push("COLLATE "),_(s.collate)),s.opclass&&_(s.opclass),s.order&&c.push(s.order," "),s.nulls&&c.push("nulls ",s.nulls," ")}),!0),s.with&&(c.push("WITH "),u(s.with,(e=>{c.push(e.parameter," = ",(0,o.literal)(e.value))}),!0)),s.tablespace&&c.push("TABLESPACE ",m(s.tablespace)),s.where&&(c.push(" WHERE "),e.expr(s.where)),c.push(" ")},createTable:s=>{var t;c.push("CREATE "),s.locality&&c.push(s.locality.toUpperCase()," "),s.temporary&&c.push("TEMPORARY "),s.unlogged&&c.push("UNLOGGED "),c.push(s.ifNotExists?"TABLE IF NOT EXISTS ":"TABLE "),e.tableRef(s.name),c.push("("),u(s.columns,(s=>{switch(s.kind){case"column":return e.createColumn(s);case"like table":return e.likeTable(s);default:throw n.NotSupported.never(s)}}),!1),s.constraints&&(c.push(", "),u(s.constraints,(s=>{const t=s.constraintName;t&&c.push("CONSTRAINT ",p(t)," "),b(s,e)}),!1)),c.push(") "),(null===(t=s.inherits)||void 0===t?void 0:t.length)&&(c.push(" INHERITS "),u(s.inherits,(e=>_(e)),!0))},likeTable:s=>{c.push(" LIKE "),e.tableRef(s.like),c.push(" ");for(const{verb:e,option:t}of s.options)c.push(e.toUpperCase()," ",t.toUpperCase()," ")},createSchema:e=>{c.push(e.ifNotExists?"CREATE SCHEMA IF NOT EXISTS ":"CREATE SCHEMA "),c.push(p(e.name))},truncateTable:s=>{c.push("TRUNCATE TABLE ");let t=!0;for(const r of s.tables)t||c.push(", "),t=!1,e.tableRef(r);if(s.identity)switch(s.identity){case"restart":c.push(" RESTART IDENTITY ");break;case"continue":c.push(" CONTINUE IDENTITY ")}s.cascade&&c.push(" ",s.cascade," ")},delete:s=>{c.push("DELETE FROM "),e.tableRef(s.from),s.where&&(c.push(" WHERE "),e.expr(s.where)),s.returning&&(c.push(" RETURNING "),u(s.returning,(s=>e.selectionColumn(s)),!1)),c.push(" ")},dropColumn:e=>{c.push(" DROP COLUMN "),e.ifExists&&c.push(" IF EXISTS "),c.push(p(e.column)),e.behaviour&&c.push(" ",e.behaviour),c.push(" ")},dropConstraint:e=>{c.push(" DROP CONSTRAINT "),e.ifExists&&c.push(" IF EXISTS "),c.push(p(e.constraint)),e.behaviour&&c.push(" ",e.behaviour.toUpperCase()," ")},from:s=>e.super().from(s),fromCall:s=>{w(e,s.join,(()=>{var t,r;if(e.call(s),s.withOrdinality&&c.push(" WITH ORDINALITY"),s.alias){c.push(" AS ",p(s.alias)," ");const e=null!==(r=null===(t=s.alias.columns)||void 0===t?void 0:t.length)&&void 0!==r?r:0;if(e>0){c.push("(");for(let t=0;t<e;++t)0!==t&&c.push(", "),c.push(p(s.alias.columns[t]));c.push(")")}}})),c.push(" ")},fromStatement:s=>{w(e,s.join,(()=>{c.push("("),e.select(s.statement),c.push(") "),s.alias&&(c.push(" AS ",m(s.alias)),s.columnNames&&u(s.columnNames,(e=>c.push(p(e))),!0),c.push(" "))})),c.push(" ")},values:s=>{c.push("VALUES "),u(s.values,(s=>{u(s,(s=>{e.expr(s)}),!0)}),!1)},fromTable:s=>{w(e,s.join,(()=>{if(e.tableRef(s.name),s.name.columnNames){if(!s.name.alias)throw new Error("Cannot specify aliased column names without an alias");u(s.name.columnNames,(e=>c.push(p(e))),!0)}}))},join:e=>{throw new Error("Should not happen ")},insert:s=>{if(c.push("INSERT INTO "),e.tableRef(s.into),s.columns&&c.push("(",s.columns.map(p).join(", "),")"),c.push(" "),s.overriding&&c.push("OVERRIDING ",s.overriding.toUpperCase()," VALUE "),e.select(s.insert),c.push(" "),s.onConflict){c.push("ON CONFLICT ");const t=s.onConflict.on;switch(null==t?void 0:t.type){case"on expr":u(t.exprs,(s=>e.expr(s)),!0);break;case"on constraint":c.push("ON CONSTRAINT "),_(t.constraint);case null:case void 0:break;default:throw n.NotSupported.never(t)}"do nothing"===s.onConflict.do?c.push(" DO NOTHING"):(c.push(" DO UPDATE SET "),u(s.onConflict.do.sets,(s=>e.set(s)),!1),s.onConflict.where&&(c.push(" WHERE "),e.expr(s.onConflict.where))),c.push(" ")}s.returning&&(c.push(" RETURNING "),u(s.returning,(s=>e.selectionColumn(s)),!1))},raise:s=>{var t,r;c.push("RAISE "),s.level&&c.push(s.level.toUpperCase()," "),c.push((0,o.literal)(s.format)," "),(null===(t=s.formatExprs)||void 0===t?void 0:t.length)&&(c.push(", "),u(s.formatExprs,(s=>e.expr(s)),!1)),(null===(r=s.using)||void 0===r?void 0:r.length)&&(c.push(" USING "),u(s.using,(({type:s,value:t})=>{c.push(s.toUpperCase(),"="),e.expr(t)}),!1)),c.push(" ")},default:()=>{c.push(" DEFAULT ")},member:s=>{e.expr(s.operand),c.push(s.op),c.push("number"==typeof s.member?s.member.toString(10):(0,o.literal)(s.member))},ref:e=>{e.table&&(_(e.table),c.push(".")),c.push("*"===e.name?"*":m(e.name))},parameter:e=>{c.push(e.name)},renameColumn:e=>{c.push(" RENAME COLUMN ",p(e.column)," TO ",p(e.to))},renameConstraint:e=>{c.push(" RENAME CONSTRAINT ",p(e.constraint)," TO ",p(e.to))},renameTable:e=>{c.push(" RENAME TO ",p(e.to))},createView:s=>{c.push("CREATE "),s.orReplace&&c.push("OR REPLACE "),s.temp&&c.push("TEMP "),s.recursive&&c.push("RECURSIVE "),c.push("VIEW "),e.tableRef(s.name),s.columnNames&&u(s.columnNames,(e=>c.push(p(e))),!0);const t=s.parameters&&Object.entries(s.parameters);(null==t?void 0:t.length)&&(c.push(" WITH "),u(t,(([e,s])=>c.push(e,"=",s)),!1)),c.push(" AS "),e.select(s.query),s.checkOption&&c.push(" WITH ",s.checkOption.toUpperCase()," CHECK OPTION")},createMaterializedView:s=>{c.push("CREATE MATERIALIZED VIEW "),s.ifNotExists&&c.push("IF NOT EXISTS "),e.tableRef(s.name),s.columnNames&&u(s.columnNames,(e=>c.push(p(e))),!0);const t=s.parameters&&Object.entries(s.parameters);(null==t?void 0:t.length)&&(c.push(" WITH "),u(t,(([e,s])=>c.push(e,"=",s)),!1)),s.tablespace&&c.push(" TABLESPACE ",p(s.tablespace)),c.push(" AS "),e.select(s.query),"boolean"==typeof s.withData&&c.push(s.withData?" WITH DATA":" WITH NO DATA")},refreshMaterializedView:s=>{c.push("REFRESH MATERIALIZED VIEW "),s.concurrently&&c.push("CONCURRENTLY "),e.tableRef(s.name),"boolean"==typeof s.withData&&c.push(s.withData?" WITH DATA":" WITH NO DATA")},select:s=>e.super().select(s),selection:s=>{if(c.push("SELECT "),s.distinct&&("string"==typeof s.distinct?c.push(s.distinct.toUpperCase()):(c.push(" DISTINCT ON "),u(s.distinct,(s=>e.expr(s)),!0)),c.push(" ")),s.columns&&u(s.columns,(s=>e.selectionColumn(s)),!1),c.push(" "),s.from){c.push("FROM ");const t=s.from.length;for(let r=0;r<t;r++){const t=s.from[r];r>0&&!t.join&&c.push(","),e.from(t)}c.push(" ")}s.where&&(c.push("WHERE "),e.expr(s.where),c.push(" ")),s.groupBy&&(c.push("GROUP BY "),u(s.groupBy,(s=>e.expr(s)),!1),c.push(" ")),s.orderBy&&($(e,s.orderBy),c.push(" ")),s.limit&&(s.limit.offset&&(c.push("OFFSET "),e.expr(s.limit.offset)),s.limit.limit&&(c.push("LIMIT "),e.expr(s.limit.limit))),s.for&&c.push("FOR ",s.for.type.toUpperCase())},show:e=>{c.push("SHOW ",p(e.variable))},prepare:s=>{var t;c.push("PREPARE ",p(s.name)),(null===(t=s.args)||void 0===t?void 0:t.length)&&u(s.args,(s=>e.dataType(s)),!0),c.push(" AS "),e.statement(s.statement)},deallocate:e=>{c.push("DEALLOCATE "),"name"in e.target?c.push(e.target.name):c.push("ALL")},arraySelect:s=>{c.push("array("),e.select(s.select),c.push(")")},union:s=>{c.push("("),e.statement(s.left),c.push(") ",s.type.toUpperCase()," "),"union"===s.right.type||"union all"===s.right.type?e.union(s.right):(c.push("("),e.statement(s.right),c.push(")"))},selectionColumn:s=>{e.expr(s.expr),s.alias&&c.push(" AS ",p(s.alias)),c.push(" ")},set:s=>{c.push(p(s.column)," = "),e.expr(s.value),c.push(" ")},statement:s=>e.super().statement(s),tableRef:e=>{_(e),e.alias&&c.push(" AS ",m(e.alias)),c.push(" ")},ternary:s=>{e.expr(s.value),c.push(" ",s.op," "),e.expr(s.lo),c.push(" AND "),e.expr(s.hi),c.push(" ")},transaction:e=>{c.push(e.type)},unary:s=>{switch(s.op){case"+":case"-":k(s),e.expr(s.operand);break;case"NOT":c.push(s.op),c.push(" "),e.expr(s.operand);break;default:e.expr(s.operand),c.push(" "),c.push(s.op)}},update:s=>{c.push("UPDATE "),e.tableRef(s.table),c.push(" SET "),u(s.sets,(s=>e.set(s)),!1),c.push(" "),s.from&&(c.push("FROM "),e.from(s.from),c.push(" ")),s.where&&(c.push("WHERE "),e.expr(s.where),c.push(" ")),s.returning&&(c.push(" RETURNING "),u(s.returning,(s=>e.selectionColumn(s)),!1),c.push(" "))}})));s.toSql={};const g=r.AstDefaultMapper.prototype;for(const e of Object.getOwnPropertyNames(g)){const t=g[e];"constructor"!==e&&"super"!==e&&"function"==typeof t&&(s.toSql[e]=function(...s){try{return v[e].apply(v,s),c.join("").trim()}finally{c=[]}})}},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.literal=void 0,s.literal=function e(s){return null==s?"NULL":Array.isArray(s)?"("+s.map(e).join(", ")+")":(~s.indexOf("\\")?"E":"")+"'"+(s=(s=s.replace(/'/g,"''")).replace(/\\/g,"\\\\"))+"'"}},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.locationOf=void 0,s.locationOf=function(e){const s=e._location;if(!s)throw new Error("This statement has not been parsed using location tracking (which has a small performance hit). ");return s}}]))},7644:e=>{"use strict";e.exports=o},3305:s=>{"use strict";s.exports=e},3545:e=>{"use strict";e.exports=s},7388:e=>{"use strict";e.exports=a},5980:e=>{"use strict";e.exports=t},2650:e=>{"use strict";e.exports=n},1177:e=>{"use strict";e.exports=r}},i={};function c(e){var s=i[e];if(void 0!==s)return s.exports;var t=i[e]={id:e,loaded:!1,exports:{}};return l[e].call(t.exports,t,t.exports,c),t.loaded=!0,t.exports}c.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return c.d(s,{a:s}),s},c.d=(e,s)=>{for(var t in s)c.o(s,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var p={};return(()=>{"use strict";c.r(p),c.d(p,{plugin:()=>Js});var e,s,t,r,a,n,o,l,i=c(3305),m=c(3545);!function(e){e.NATIVE="native",e.HTTP="http"}(e||(e={})),function(e){e[e.TIMESERIES=0]="TIMESERIES",e[e.TABLE=1]="TABLE",e[e.LOGS=2]="LOGS",e[e.TRACE=3]="TRACE",e[e.AUTO=4]="AUTO"}(s||(s={})),function(e){e.SQL="sql",e.Builder="builder"}(t||(t={})),function(e){e.List="list",e.Aggregate="aggregate",e.Trend="trend"}(r||(r={})),function(e){e.Sum="sum",e.Average="avg",e.Min="min",e.Max="max",e.Count="count",e.Any="any"}(a||(a={})),function(e){e.ASC="ASC",e.DESC="DESC"}(n||(n={})),(l=o||(o={})).IsNull="IS NULL",l.IsNotNull="IS NOT NULL",l.Equals="=",l.NotEquals="!=",l.LessThan="<",l.LessThanOrEqual="<=",l.GreaterThan=">",l.GreaterThanOrEqual=">=",l.Like="LIKE",l.NotLike="NOT LIKE",l.In="IN",l.NotIn="NOT IN",l.WithInGrafanaTimeRange="WITH IN DASHBOARD TIME RANGE",l.OutsideGrafanaTimeRange="OUTSIDE DASHBOARD TIME RANGE",t.Builder;const u={queryType:t.Builder,rawSql:"",builderOptions:{mode:r.List,fields:[],limit:100},format:s.TABLE,selectedFormat:s.AUTO};t.SQL,s.TABLE,s.AUTO;var b=c(5884);function _(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function y(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){_(e,s,t[s])}))}return e}function $(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}function d(e){const s=[],t=/(\$__|\$|default)/gi;let r,a;for(;null!==(r=t.exec(e));)s.push({startIndex:r.index,name:r[0],replacementName:""});for(let t=s.length-1;t>=0;t--){const r=s[t].startIndex,a="f"+(Math.random()+1).toString(36).substring(7);s[t].replacementName=a,e=e.substring(0,r)+a+e.substring(r+s[t].name.length)}try{a=(0,b.parseFirst)(e)}catch(e){return console.error(`Failed to parse SQL statement into an AST: ${e}`),{}}return(0,b.astMapper)((e=>({tableRef:t=>{const r=s.find((e=>e.replacementName===t.schema));var a;if(r)return $(y({},t),{schema:null===(a=t.schema)||void 0===a?void 0:a.replace(r.replacementName,r.name)});const n=s.find((e=>e.replacementName===t.name));return n?$(y({},t),{name:t.name.replace(n.replacementName,n.name)}):e.super().tableRef(t)},ref:t=>{const r=s.find((e=>t.name.startsWith(e.replacementName)));if(r){const e=t.name.replace(r.replacementName,r.name);return $(y({},t),{name:e})}return e.super().ref(t)},call:t=>{const r=s.find((e=>t.function.name.startsWith(e.replacementName)));return r?$(y({},t),{function:$(y({},t.function),{name:t.function.name.replace(r.replacementName,r.name)})}):e.super().call(t)}}))).statement(a)}function f(e){var s,t;const r=d(e);if("select"!==r.type||!(null===(s=r.from)||void 0===s?void 0:s.length)||(null===(t=r.from)||void 0===t?void 0:t.length)<=0)return"";switch(r.from[0].type){case"table":{const s=r.from[0],t=`${s.name.schema?`${s.name.schema}.`:""}${s.name.name}`,a=new RegExp(`\\b${t}\\b`,"gi").exec(e);return a?a[0]:t}case"statement":{const e=r.from[0];return f(b.toSql.statement(e.statement))}}return""}class h{setTargetTable(e){this._targetTable=e}setTargetTableFromQuery(e){if(this._targetTable=f(e),""===this._targetTable)throw console.error("Failed to get table from adhoc query."),new Error("Failed to get table from adhoc query.")}apply(e,s){if(""===e||!s||0===s.length)return e;const t=s[0];if(t.key.includes(".")&&(this._targetTable=t.key.split(".")[0]),""===this._targetTable||!e.match(new RegExp(`.*\\b${this._targetTable}\\b.*`,"gi")))return e;let r=s.map(((e,t)=>{const r=e.key.includes(".")?e.key.split(".")[1]:e.key,a=isNaN(Number(e.value))?`\\'${e.value}\\'`:Number(e.value),n=t!==s.length-1?e.condition?e.condition:"AND":"";return` ${r} ${e.operator} ${a} ${n}`})).join("");return`${e=e.replace(";","")} settings additional_table_filters={'${this._targetTable}' : '${r}'}`}constructor(){var e,s;(s="_targetTable")in(e=this)?Object.defineProperty(e,s,{value:"",enumerable:!0,configurable:!0,writable:!0}):e[s]=""}}var x,w=c(5980),k=(e=>(e.Bars="bars",e.Line="line",e.Points="points",e))(k||{}),v=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(v||{}),g=(e=>(e[e.After=1]="After",e[e.Before=-1]="Before",e[e.Center=0]="Center",e))(g||{}),A=(e=>(e.Done="Done",e.Error="Error",e.Loading="Loading",e.NotStarted="NotStarted",e.Streaming="Streaming",e))(A||{}),E=Object.defineProperty,O=Object.defineProperties,T=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,L=(e,s,t)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;x=((e,s)=>{for(var t in s||(s={}))C.call(s,t)&&L(e,t,s[t]);if(S)for(var t of S(s))N.call(s,t)&&L(e,t,s[t]);return e})({},{global:!1,id:"00000000-0000-0000-0000-000000000000",index:-1,skipUrlSync:!1}),O(x,T({rootStateKey:null,error:null,description:null,hide:0,state:A.NotStarted,datasource:null}));var I=c(1177),R=c(7388);const q=1e3,j=6e4,P=36e5,F={[i.LogLevel.critical]:R.colors[7],[i.LogLevel.warning]:R.colors[1],[i.LogLevel.error]:R.colors[4],[i.LogLevel.info]:R.colors[0],[i.LogLevel.debug]:R.colors[5],[i.LogLevel.trace]:R.colors[2],[i.LogLevel.unknown]:("#8e8e8e","#bdc4cd",m.config.bootData.user.lightTheme?"#bdc4cd":"#8e8e8e")};function D(e,s){const t=s&&e===i.LogLevel.unknown?"logs":e,r=F[e];return{displayNameFromDS:t,color:{mode:i.FieldColorModeId.Fixed,fixedColor:r},custom:{drawStyle:k.Bars,barAlignment:g.Center,lineColor:r,pointColor:r,fillColor:r,lineWidth:1,fillOpacity:100,stacking:{mode:v.Normal,group:"A"}}}}const B="time",U="logs",M=(()=>{const e={critical:["critical","fatal","crit","alert","emerg"],error:["error","err","eror"],warn:["warn","warning"],info:["info","information","informational"],debug:["debug","dbug"],trace:["trace"],unknown:["unknown"]};return Object.keys(e).reduce(((s,t)=>(s[t]=`IN (${[...e[t].map((e=>`'${e}'`)),...e[t].map((e=>`'${e.toUpperCase()}'`)),...e[t].map((e=>`'${e.charAt(0).toUpperCase()+e.slice(1)}'`))].join(",")})`,s)),{})})();function H(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function G(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){H(e,s,t[s])}))}return e}function z(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}const W=e=>["boolean"].includes(null==e?void 0:e.toLowerCase()),K=e=>["int","float","decimal"].some((s=>null==e?void 0:e.toLowerCase().includes(s))),Q=e=>{const s=null==e?void 0:e.toLowerCase();return(null==s?void 0:s.startsWith("date"))||(null==s?void 0:s.startsWith("nullable(date"))},V=e=>{const s=null==e?void 0:e.toLowerCase();return(null==s?void 0:s.startsWith("datetime"))||(null==s?void 0:s.startsWith("nullable(datetime"))},Y=e=>!(W(e)||K(e)||Q(e)),J=e=>[o.IsNull,o.IsNotNull].includes(e.operator),X=e=>W(e.type),Z=e=>K(e.type),ee=e=>Q(e.type)&&[o.WithInGrafanaTimeRange,o.OutsideGrafanaTimeRange].includes(e.operator),se=e=>Q(e.type),te=e=>Y(e.type)&&![o.In,o.NotIn].includes(e.operator),re=e=>Y(e.type)&&[o.In,o.NotIn].includes(e.operator),ae=e=>e.reduce(((e,s,t)=>{const r=0===t?"":s.condition;let a="",n=s.key,l="",i=!1;if(s.operator===o.NotLike?(l="LIKE",i=!0):s.operator===o.OutsideGrafanaTimeRange?(l="",i=!0):l=[o.WithInGrafanaTimeRange].includes(s.operator)?"":s.operator,a=`${n} ${l}`,J(s));else if(X(s))a+=` ${s.value}`;else if(Z(s))a+=` ${s.value||"0"}`;else if(se(s))if(ee(s))Q(s.type)&&(a+=` >= $__fromTime AND ${s.key} <= $__toTime`);else switch(s.value){case"GRAFANA_START_TIME":Q(s.type)&&(a+=" $__fromTime");break;case"GRAFANA_END_TIME":Q(s.type)&&(a+=" $__toTime");break;default:a+=` ${s.value||"TODAY"}`}else if(te(s))s.operator===o.Like||s.operator===o.NotLike?a+=` '%${s.value||""}%'`:a+=pe(s.value||"");else if(re(s)){let e=s.value;a+=` (${null==e?void 0:e.map((e=>pe(e).trim())).join(", ")} )`}return i&&(a=` NOT ( ${a} )`),a?`${e} ${r} ( ${a} )`:e}),""),ne=(e=[],s)=>{const t=e.length>0?` GROUP BY ${e.join(", ")}`:"";return void 0===s?t:0===e.length?" GROUP BY time":`${t}, time`},oe=(e,s=!0)=>{const t=s?" ORDER BY ":"";return e&&e.filter((e=>e.name)).length>0?t+e.filter((e=>e.name)).map((e=>`${e.name} ${e.dir}`)).join(", "):""},le=e=>{const s=e.limit?(e=>" LIMIT "+(e||100))(e.limit):"";let t="";switch(e.mode){case r.Aggregate:t+=((e="",s="",t=[],r=[],a=[])=>{let n=t.length>0?t.join(", "):"",o=r.map((e=>{const s=e.alias?` ${e.alias.replace(/ /g,"_")}`:"";return`${e.aggregation}(${e.field})${s}`})).join(", ");const l=a.filter((e=>!t.some((s=>s===e)))).join(", ");return`SELECT ${n}${n&&(l||o)?", ":""}${l}${o&&l?", ":""}${o} FROM ${e}${""===e||""===s?"":"."}${me(s)}`})(e.database,e.table,e.fields,e.metrics,e.groupBy);let s=ae(e.filters||[]);s&&(t+=` WHERE ${s}`),t+=ne(e.groupBy);break;case r.Trend:if(!Q(e.timeFieldType))throw new Error("timeFieldType is expected to be valid Date type.");t+=((e="",s="",t=[],r=[],a="",n="")=>{let o=(t=t&&t.length>0?t:[]).map((e=>{const s=e.alias?" "+e.alias.replace(/ /g,"_"):"";return`${e.aggregation}(${e.field})${s}`})).join(", ");const l=`$__timeInterval(${a}) as time`;return o=""!==o?`${l}, ${r.length>0?`${r.join(", ")},`:""} ${o}`:r.length>0?`${l}, ${r.join(", ")}`:`${l}`,`SELECT ${o} FROM ${e}${""===e||""===s?"":"."}${me(s)}`})(e.database,e.table,e.metrics,e.groupBy,e.timeField,e.timeFieldType);const a=ae(e.filters||[]);t+=` WHERE $__timeFilter(${e.timeField})`,t+=a?` AND ${a}`:"",t+=ne(e.groupBy,e.timeField);break;case r.List:default:t+=((e="",s="",t=[])=>{const r=""===e||""===s?"":".";return`SELECT ${(t=t&&t.length>0?t:[""]).join(", ")} FROM ${e}${r}${me(s)}`})(e.database,e.table,e.fields);const n=ae(e.filters||[]);n&&(t+=` WHERE ${n}`)}if(e.mode===r.Trend){t+=" ORDER BY time ASC";const r=oe(e.orderBy,!1);""!==r.trim()&&(t+=`, ${r}`),t+=s}else t+=oe(e.orderBy),t+=s;return t};function ie(e){var s,t,a,n,l;const i=d(e);if(!i)return"The query is not valid SQL.";if("select"!==i.type)return"The query is not a select statement.";if(!i.from||1!==i.from.length)return"The query has too many 'FROM' clauses.";if("table"!==i.from[0].type)return"The 'FROM' clause is not a table.";const c=i.from[0],p=function(e){if(!e)return{timeField:"",metrics:[],fields:[]};const s=[],t=[];let r="";for(let a of e)switch(a.expr.type){case"ref":t.push(a.expr.name);break;case"call":const e=ce(a);if(!e)return{timeField:"",metrics:[],fields:[]};(0,w.isString)(e)?r=e:s.push(e);break;default:return{timeField:"",metrics:[],fields:[]}}return{timeField:r,metrics:s,fields:t}}(i.columns?i.columns:null);let m={mode:r.List,database:c.name.schema,table:c.name.name};p.fields&&(m.fields=p.fields),p.metrics.length>0&&(m.mode=r.Aggregate,m.metrics=p.metrics),p.timeField&&(m.mode=r.Trend,m.timeFieldType="datetime",m.timeField=p.timeField),i.where&&(m.filters=function(e,s){const t=[];let r=0,a=!1;return(0,b.astVisitor)((e=>({expr:n=>{switch(null==n?void 0:n.type){case"binary":a=function(e,s,t,r){return"AND"===e.op||"OR"===e.op?s.unshift({condition:e.op}):Object.values(o).find((s=>e.op===s))&&(0===t&&s.unshift({}),s[t].operator=e.op,r&&s[t].operator===o.Like&&(s[t].operator=o.NotLike,r=!1)),r}(n,t,r,a),e.super().expr(n);break;case"ref":({i:r,notFlag:a}=function(e,s,t,r){var a,n;return"$__fromtime"===(null===(a=e.name)||void 0===a?void 0:a.toLowerCase())&&s[t].operator===o.GreaterThanOrEqual?(r?(s[t].operator=o.OutsideGrafanaTimeRange,r=!1):s[t].operator=o.WithInGrafanaTimeRange,s[t].type="datetime",{i:++t,notFlag:r}):"$__totime"===(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())?(s.splice(t,1),{i:t,notFlag:r}):s[t].key?(s[t]=z(G({},s[t]),{value:[e.name],type:"string"}),{i:++t,notFlag:r}):(s[t].key=e.name,s[t].operator===o.IsNotNull&&t++,{i:t,notFlag:r})}(n,t,r,a));break;case"string":r=function(e,s,t){return e[s].key?(e[s]=z(G({},e[s]),{value:t.value,type:"string"}),++s):(e[s]=z(G({},e[s]),{key:t.value}),s)}(t,r,n);break;case"integer":r=function(e,s,t){return e[s].key?(e[s]=z(G({},e[s]),{value:t.value,type:"int"}),++s):(e[s]=z(G({},e[s]),{key:t.value.toString()}),s)}(t,r,n);break;case"unary":a=function(e,s,t,r){return"NOT"===e.op||(0===t&&r.unshift({}),r[t].operator=e.op,s)}(n,a,r,t),e.super().expr(n);break;case"call":r=function(e,s,t,r){const a=`${e.function.name}(${e.args.map((e=>e.name)).join(",")})`;return a===`$__timefilter(${s})`?(t.splice(r,1),r):a.startsWith("$__timefilter(")?(t[r]=z(G({},t[r]),{key:e.args[0].name,operator:o.WithInGrafanaTimeRange,type:"datetime"}),++r):(t[r]=z(G({},t[r]),{value:a,type:"datetime"}),a||r++,r)}(n,s,t,r);break;case"list":r=function(e,s,t){return e[s]=z(G({},e[s]),{value:t.expressions.map((e=>e.value)),type:"string"}),++s}(t,r,n);break;default:console.error(`${null==n?void 0:n.type} is not supported. This is likely a bug.`)}}}))).expr(e),t}(i.where,p.timeField));const u=null===(s=i.orderBy)||void 0===s?void 0:s.map((e=>"ref"!==e.by.type||"time"===e.by.name?{}:{name:e.by.name,dir:e.order})).filter((e=>e.name));u&&u.length>0&&(m.orderBy=u),m.limit="integer"===(null===(t=i.limit)||void 0===t||null===(a=t.limit)||void 0===a?void 0:a.type)?null===(n=i.limit)||void 0===n?void 0:n.limit.value:void 0;const _=null===(l=i.groupBy)||void 0===l?void 0:l.map((e=>"ref"!==e.type||"time"===e.name?"":e.name)).filter((e=>""!==e));return _&&_.length>0&&(m.groupBy=_),m}function ce(e){if("call"!==e.expr.type)return{};let s=e.expr.args.map((e=>"ref"!==e.type?"":e.name));return s.length>1?"":Object.values(a).includes(e.expr.function.name.toLowerCase())?{aggregation:e.expr.function.name,field:s[0],alias:null===(t=e.alias)||void 0===t?void 0:t.name}:s[0];var t}function pe(e){return e.startsWith("$")?` ${e||""}`:` '${e||""}'`}function me(e){return""===e?"":`"${e}"`}function ue(e,s,t,r,a,n,o){try{var l=e[n](o),i=l.value}catch(e){return void t(e)}l.done?s(i):Promise.resolve(i).then(r,a)}function be(e){return function(){var s=this,t=arguments;return new Promise((function(r,a){var n=e.apply(s,t);function o(e){ue(n,r,a,o,l,"next",e)}function l(e){ue(n,r,a,o,l,"throw",e)}o(void 0)}))}}function _e(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function ye(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){_e(e,s,t[s])}))}return e}function $e(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}new Map([["equals",o.Equals],["contains",o.Like]]);class de extends m.DataSourceWithBackend{getDataProvider(e,s){if(this.getSupportedSupplementaryQueryTypes().includes(e)&&e===i.SupplementaryQueryType.LogsVolume){const e=(0,w.cloneDeep)(s),t=function(e){if(e.__interval_ms){let s,t=e.__interval_ms.value;return t>P?(t=864e5,s="1d"):t>j?(t=P,s="1h"):t>q?(t=j,s="1m"):(t=q,s="1s"),{interval:s,intervalMs:t}}return{interval:"$__interval"}}(e.scopedVars);e.interval=t.interval,e.scopedVars.__interval={value:t.interval,text:t.interval},e.hideFromInspector=!0,void 0!==t.intervalMs&&(e.intervalMs=t.intervalMs,e.scopedVars.__interval_ms={value:t.intervalMs,text:t.intervalMs});const r=[];if(e.targets.forEach((s=>{const t=this.getSupplementaryLogsVolumeQuery(e,s);void 0!==t&&r.push(t)})),!r.length)return;return function(e,s,t){return new I.Observable((r=>{let a=[];r.next({state:i.LoadingState.Loading,error:void 0,data:[]});const n=e.query(s),o=((0,I.isObservable)(n)?n:(0,I.from)(n)).subscribe({complete:()=>{const e=function(e){if(1!==e.length)return[];const[[s],t]=(0,w.partition)(e[0].fields,(e=>e.name===B));if(void 0===s)return[];const r=1===t.length&&t[0].name===U;r&&(t[0].name="logs");const a=s.values.length;return t.map((e=>{const t=i.LogLevel[e.name]||i.LogLevel.unknown,n=new i.MutableDataFrame;return n.addField({name:"Time",type:i.FieldType.time,values:s.values},a),n.addField({name:"Value",type:i.FieldType.number,config:D(t,r),values:e.values}),n}))}(a);e[0]&&(e[0].meta={custom:{targets:t.targets,absoluteRange:{from:t.range.from.valueOf(),to:t.range.to.valueOf()}}}),r.next({state:i.LoadingState.Done,error:void 0,data:e}),r.complete()},next:e=>{const{error:s}=e;void 0!==s?(r.next({state:i.LoadingState.Error,error:s,data:[]}),r.error(s)):a=a.concat(e.data.map(i.toDataFrame))},error:e=>{r.next({state:i.LoadingState.Error,error:e,data:[]}),r.error(e)}});return()=>{null==o||o.unsubscribe()}}))}(this,$e(ye({},e),{targets:r}),{range:e.range,targets:e.targets})}}getSupportedSupplementaryQueryTypes(){return[i.SupplementaryQueryType.LogsVolume]}getSupplementaryLogsVolumeQuery(e,o){if(o.format!==s.LOGS||o.queryType!==t.Builder||o.builderOptions.mode!==r.List||void 0===o.builderOptions.timeField||void 0===o.builderOptions.database||void 0===o.builderOptions.table)return;const l=function(e,s){let t="DAY";if(e.__interval_ms){let s=e.__interval_ms.value;t=s>P?"DAY":s>j?"HOUR":s>q?"MINUTE":"SECOND"}return`toStartOfInterval("${s}", INTERVAL 1 ${t})`}(e.scopedVars,o.builderOptions.timeField),i=[],c=[];if(o.builderOptions.logLevelField){const e=`toString("${o.builderOptions.logLevelField}")`;let s;for(s in M)i.push(`sum(${e} ${M[s]}) AS ${s}`)}else c.push({aggregation:a.Count,alias:U,field:"*"});const p={mode:r.Aggregate,database:o.builderOptions.database,table:o.builderOptions.table,filters:o.builderOptions.filters,fields:i,metrics:c,groupBy:[`${l} AS ${B}`],orderBy:[{name:B,dir:n.ASC}]},m=le(p);return{format:s.AUTO,queryType:t.SQL,rawSql:m,refId:"",selectedFormat:s.AUTO}}getSupplementaryQuery(e,s){}metricFindQuery(e,s){var r=this;return be((function*(){var a,n,o,l;r.adHocFiltersStatus===he.none&&(r.adHocFiltersStatus=yield r.canUseAdhocFilters());const c=(0,w.isString)(e)?{rawSql:e,queryType:t.SQL}:e;if(c.queryType!==t.SQL&&c.queryType!==t.Builder&&c.queryType)return[];if(!c.rawSql)return[];const p=$e(ye({},c),{queryType:c.queryType||t.SQL}),m=yield r.runQuery(p,s);if(0===(null===(a=m.fields)||void 0===a?void 0:a.length))return[];var u;if(1===(null==m||null===(n=m.fields)||void 0===n?void 0:n.length))return(0,i.vectorator)(null===(u=null==m?void 0:m.fields[0])||void 0===u?void 0:u.values).map((e=>({text:e,value:e})));const b=null===(o=null==m?void 0:m.fields[0])||void 0===o?void 0:o.values;return(0,i.vectorator)(null===(l=null==m?void 0:m.fields[1])||void 0===l?void 0:l.values).map(((e,s)=>({text:e,value:b.get(s)})))}))()}applyTemplateVariables(e,s){let t=e.rawSql||"";const r=(0,m.getTemplateSrv)();if(!this.skipAdHocFilter){const e=null==r?void 0:r.getAdhocFilters(this.name);if(this.adHocFiltersStatus===he.disabled&&(null==e?void 0:e.length)>0)throw new Error(`Unable to apply ad hoc filters. Upgrade ClickHouse to >=${this.adHocCHVerReq.major}.${this.adHocCHVerReq.minor} or remove ad hoc filters for the dashboard.`);t=this.adHocFilter.apply(t,e)}return this.skipAdHocFilter=!1,t=this.applyConditionalAll(t,(0,m.getTemplateSrv)().getVariables()),$e(ye({},e),{rawSql:this.replace(t,s)||""})}applyConditionalAll(e,s){if(!e)return e;const t="$__conditionalAll(";let r=e.lastIndexOf(t);for(;-1!==r;){const a=this.getMacroArgs(e,r+t.length-1);if(2!==a.length)return e;const n=a[1].trim(),o=s.find((e=>e.name===n.substring(1,n.length)));let l=a[0],i=null==o?void 0:o.current.value.toString();""!==i&&"$__all"!==i||(l="1=1"),r=(e=e.replace(`${t}${a[0]},${a[1]})`,l)).lastIndexOf(t)}return e}getMacroArgs(e,s){const t=[],r=/\(|\)|,/g;let a,n=0,o=1;const l=e.substring(s,e.length);for(;null!==(a=r.exec(l));){const e=a[0];if("("===e?n++:")"===e&&n--,","===e&&1===n&&(t.push(l.substring(o,r.lastIndex-1)),o=r.lastIndex),0===n)return t.push(l.substring(o,r.lastIndex-1)),t}return[]}replace(e,s){return void 0!==e?(0,m.getTemplateSrv)().replace(e,s,this.format):e}format(e){return Array.isArray(e)?`'${e.join("','")}'`:e}getDefaultDatabase(){return this.settings.jsonData.defaultDatabase}fetchDatabases(){var e=this;return be((function*(){return e.fetchData("SHOW DATABASES")}))()}fetchTables(e){var s=this;return be((function*(){const t=e?`SHOW TABLES FROM ${e}`:"SHOW TABLES";return s.fetchData(t)}))()}fetchEntities(){var e=this;return be((function*(){return e.fetchTables()}))()}fetchFields(e,s){var t=this;return be((function*(){return t.fetchData(`DESC TABLE ${e}."${s}"`)}))()}fetchFieldsFull(e,s){var t=this;return be((function*(){var r;const a=`DESC TABLE ${Boolean(e)?`${e}.`:""}"${s}"`,n=yield t.runQuery({rawSql:a});return 0===(null===(r=n.fields)||void 0===r?void 0:r.length)?[]:new i.DataFrameView(n).map((e=>({name:e[0],type:e[1],label:e[0],picklistValues:[]})))}))()}fetchData(e){var s=this;return be((function*(){const t=yield s.runQuery({rawSql:e});return s.values(t)}))()}getTimezone(e){if(e.timezone&&"browser"!==e.timezone)return e.timezone;const s=(0,i.getTimeZoneInfo)((0,i.getTimeZone)(),Date.now());return null==s?void 0:s.ianaName}query(e){const s=e.targets.filter((e=>!0!==e.hide)).map((s=>$e(ye({},s),{meta:$e(ye({},s.meta),{timezone:this.getTimezone(e)})})));return super.query($e(ye({},e),{targets:s}))}runQuery(e,s){return new Promise((t=>{const r={targets:[$e(ye({},e),{refId:String(Math.random())})],range:s?s.range:(0,m.getTemplateSrv)().timeRange};this.query(r).subscribe((e=>{t(e.data[0]||{fields:[]})}))}))}values(e){var s,t;return 0===(null===(s=e.fields)||void 0===s?void 0:s.length)?[]:(0,i.vectorator)(null===(t=null==e?void 0:e.fields[0])||void 0===t?void 0:t.values).map((e=>e))}getTagKeys(){var e=this;return be((function*(){if((e.adHocFiltersStatus===he.disabled||e.adHocFiltersStatus===he.none)&&(e.adHocFiltersStatus=yield e.canUseAdhocFilters(),e.adHocFiltersStatus===he.disabled))return{};const{type:s,frame:t}=yield e.fetchTags();return s===fe.query?t.fields.map((e=>({text:e.name}))):new i.DataFrameView(t).map((e=>({text:`${e[2]}.${e[0]}`})))}))()}getTagValues({key:e}){var s=this;return be((function*(){const{type:t}=s.getTagSource();return s.skipAdHocFilter=!0,t===fe.query?s.fetchTagValuesFromQuery(e):s.fetchTagValuesFromSchema(e)}))()}fetchTagValuesFromSchema(e){var s=this;return be((function*(){var t;const{from:r}=s.getTagSource(),[a,n]=e.split("."),o=`select distinct ${n} from ${(null==r?void 0:r.includes("."))?`${r.split(".")[0]}.${a}`:a} limit 1000`,l=yield s.runQuery({rawSql:o});if(0===(null===(t=l.fields)||void 0===t?void 0:t.length))return[];const c=l.fields[0];return(0,i.vectorator)(c.values).filter((e=>null!==e)).map((e=>({text:String(e)})))}))()}fetchTagValuesFromQuery(e){var s=this;return be((function*(){const{frame:t}=yield s.fetchTags(),r=t.fields.find((s=>s.name===e));return r?(0,i.vectorator)(r.values).filter((e=>null!==e)).map((e=>({text:String(e)}))):[]}))()}fetchTags(){var e=this;return be((function*(){const s=e.getTagSource();if(e.skipAdHocFilter=!0,void 0===s.source){e.adHocFilter.setTargetTable("default");const s="SELECT name, type, table FROM system.columns",t=yield e.runQuery({rawSql:s});return{type:fe.schema,frame:t}}if(s.type===fe.query)e.adHocFilter.setTargetTableFromQuery(s.source);else{let t=s.from;(null==t?void 0:t.includes("."))&&(t=t.split(".")[1]),e.adHocFilter.setTargetTable(t||"")}const t=yield e.runQuery({rawSql:s.source});return{type:s.type,frame:t}}))()}getTagSource(){const e="$clickhouse_adhoc_query",s=this.getDefaultDatabase();let t=(0,m.getTemplateSrv)().replace(e);if(t===e&&(0,w.isEmpty)(s))return{type:fe.schema,source:void 0};if(t=t===e?s:t,t.toLowerCase().startsWith("select"))return{type:fe.query,source:t};if(!t.includes(".")){const e=`SELECT name, type, table FROM system.columns WHERE database IN ('${t}')`;return{type:fe.schema,source:e,from:t}}const[r,a]=t.split("."),n=`SELECT name, type, table FROM system.columns WHERE database IN ('${r}') AND table = '${a}'`;return{type:fe.schema,source:n,from:t}}canUseAdhocFilters(){var e=this;return be((function*(){e.skipAdHocFilter=!0;const s=yield e.fetchData("SELECT version()");try{const t=s[0].split("."),r={major:Number.parseInt(t[0],10),minor:Number.parseInt(t[1],10)};return r.major>e.adHocCHVerReq.major||r.major===e.adHocCHVerReq.major&&r.minor>=e.adHocCHVerReq.minor?he.enabled:he.disabled}catch(e){throw console.error(`Unable to parse ClickHouse version: ${e}`),e}}))()}constructor(e){super(e),_e(this,"annotations",{}),_e(this,"settings",void 0),_e(this,"adHocFilter",void 0),_e(this,"skipAdHocFilter",!1),_e(this,"adHocFiltersStatus",he.none),_e(this,"adHocCHVerReq",{major:22,minor:7}),this.settings=e,this.adHocFilter=new h}}var fe,he;!function(e){e[e.query=0]="query",e[e.schema=1]="schema"}(fe||(fe={})),function(e){e[e.none=0]="none",e[e.enabled=1]="enabled",e[e.disabled=2]="disabled"}(he||(he={}));var xe=c(2650),we=c.n(xe);const ke=({hasCert:e,label:s,onChange:t,onClick:r,placeholder:a})=>we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:12},s),e?we().createElement(we().Fragment,null,we().createElement(R.Input,{type:"text",disabled:!0,value:"configured",width:24}),we().createElement(R.Button,{variant:"secondary",onClick:r,style:{marginLeft:4}},"Reset")):we().createElement(R.TextArea,{rows:7,onChange:t,placeholder:a,required:!0})),ve={ConfigEditor:{ServerAddress:{label:"Server address",placeholder:"Server TCP address",tooltip:"ClickHouse native TCP server address"},ServerPort:{label:"Server port",placeholder:e=>"Typically "+("true"===e?"9440":"9000"),tooltip:"ClickHouse native TCP port. Typically 9000 for unsecure, 9440 for secure"},Protocol:{label:"Protocol",tooltip:"Native or HTTP for transport"},Username:{label:"Username",placeholder:"Username",tooltip:"ClickHouse username"},Password:{label:"Password",placeholder:"Password",tooltip:"ClickHouse password"},TLSSkipVerify:{label:"Skip TLS Verify",tooltip:"Skip TLS Verify"},TLSClientAuth:{label:"TLS Client Auth",tooltip:"TLS Client Auth"},TLSAuthWithCACert:{label:"With CA Cert",tooltip:"Needed for verifying self-signed TLS Certs"},TLSCACert:{label:"CA Cert",placeholder:"CA Cert. Begins with -----BEGIN CERTIFICATE-----"},TLSClientCert:{label:"Client Cert",placeholder:"Client Cert. Begins with -----BEGIN CERTIFICATE-----"},TLSClientKey:{label:"Client Key",placeholder:"Client Key. Begins with -----BEGIN RSA PRIVATE KEY-----"},DefaultDatabase:{label:"Default database",placeholder:"Default database",tooltip:"Default database to be used. Can be empty."},Timeout:{label:"Dial Timeout (seconds)",placeholder:"10",tooltip:"Timeout in seconds for connection"},QueryTimeout:{label:"Query Timeout (seconds)",placeholder:"60",tooltip:"Timeout in seconds for read queries"},Secure:{label:"Secure Connection",tooltip:"Toggle on if the connection is secure"},Validate:{label:"Validate SQL",tooltip:"Validate Sql in the editor."}},QueryEditor:{CodeEditor:{input:()=>".monaco-editor textarea",container:"data-testid-code-editor-container",Expand:"data-testid-code-editor-expand-button"},Format:{label:"Format",tooltip:"Query Type",options:{AUTO:"Auto",TABLE:"Table",TIME_SERIES:"Time Series",LOGS:"Logs",TRACE:"Trace"}},Types:{label:"Query Type",tooltip:"Query Type",options:{SQLEditor:"SQL Editor",QueryBuilder:"Query Builder"},switcher:{title:"Are you sure?",body:"Queries that are too complex for the Query Builder will be altered.",confirmText:"Continue",dismissText:"Cancel"},cannotConvert:{title:"Cannot convert",confirmText:"Yes"}},QueryBuilder:{TYPES:{label:"Show as",tooltip:"Show as",options:{LIST:"Table",AGGREGATE:"Aggregate",TREND:"Time Series"}},DATABASE:{label:"Database",tooltip:"Clickhouse database to query from"},FROM:{label:"Table",tooltip:"Clickhouse table to query from"},SELECT:{label:"Fields",tooltipTable:"List of fields to show",tooltipAggregate:"List of metrics to show. Use any of the given aggregation along with the field",ALIAS:{label:"as",tooltip:"alias"},AddLabel:"Field",RemoveLabel:""},AGGREGATES:{label:"Aggregates",tooltipTable:"Aggregate functions to use",tooltipAggregate:"Aggregate functions to use",ALIAS:{label:"as",tooltip:"alias"},AddLabel:"Aggregate",RemoveLabel:""},WHERE:{label:"Filters",tooltip:"List of filters",AddLabel:"Filter",RemoveLabel:""},GROUP_BY:{label:"Group by",tooltip:"Group the results by specific field"},ORDER_BY:{label:"Order by",tooltip:"Order by field",AddLabel:"Order by",RemoveLabel:""},LIMIT:{label:"Limit",tooltip:"Number of records/results to show."},TIME_FIELD:{label:"Time field",tooltip:"Select the time field for trending over time"},LOGS_VOLUME_TIME_FIELD:{label:"Time field",tooltip:"Select the time field for logs volume histogram. If not selected, the histogram will not be shown"},LOG_LEVEL_FIELD:{label:"Log level field",tooltip:"Select the field to extract log level information from"},PREVIEW:{label:"SQL Preview",tooltip:"SQL Preview. You can safely switch to SQL Editor to customize the generated query"}}}},ge={components:ve};function Ae(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function Ee(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){Ae(e,s,t[s])}))}return e}function Oe(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}function Te(e,s,t,r,a,n,o){try{var l=e[n](o),i=l.value}catch(e){return void t(e)}l.done?s(i):Promise.resolve(i).then(r,a)}var Se;!function(e){e[e.FIELD=3]="FIELD",e[e.DATABASE=8]="DATABASE",e[e.TABLE=5]="TABLE",e[e.VARIABLE=4]="VARIABLE"}(Se||(Se={}));var Ce=c(7644);const Ne={Common:{check:Ce.css`
      margin-top: 5px;
    `,wrapper:Ce.css`
      position: relative;
      width: 100%;
    `,smallBtn:Ce.css`
      margin-top: 5px;
      margin-inline: 5px;
    `,selectWrapper:Ce.css`
      width: 100%;
    `,inlineSelect:Ce.css`
      margin-right: 5px;
    `,firstLabel:Ce.css`
      margin-right: 5px;
    `,expand:Ce.css`
      position: absolute;
      top: 2px;
      left: 6px;
      z-index: 100;
      color: gray;
    `},ConfigEditor:{container:Ce.css`
      justify-content: space-between;
      h5 {
        line-height: 34px;
        margin-bottom: 5px;
      }
      button {
        margin-right: 5px;
      }
    `,wide:Ce.css`
      width: 75%;
    `,subHeader:Ce.css`
      padding: 5px 0 5px 0;
    `},QueryEditor:{queryType:Ce.css`
      justify-content: space-between;
      span {
        display: flex;
      }
    `},FormatSelector:{formatSelector:Ce.css`
      display: flex;
    `},VariablesEditor:{}};function Le(e,s,t,r,a,n,o){try{var l=e[n](o),i=l.value}catch(e){return void t(e)}l.done?s(i):Promise.resolve(i).then(r,a)}function Ie(e){return function(){var s=this,t=arguments;return new Promise((function(r,a){var n=e.apply(s,t);function o(e){Le(n,r,a,o,l,"next",e)}function l(e){Le(n,r,a,o,l,"throw",e)}o(void 0)}))}}function Re(){return Re=Ie((function*(e,s,t){if(e.endsWith("$"))return function(e){const s=(0,m.getTemplateSrv)();return s?s.getVariables().map((t=>{const r=`\${${t.name}}`,a=s.replace(r);return{label:r,detail:`(Template Variable) ${a}`,kind:Se.VARIABLE,documentation:`(Template Variable) ${a}`,insertText:`{${t.name}}`,range:e}})):[]}(t);const r=["select","from","where"];let a=e.replace(/[\n\r]/g," ");for(const e of r)a=a.replace(e,e.toUpperCase());if(a.endsWith("SELECT ")||a.endsWith("FROM ")||a.endsWith(", "))return void 0!==s.defaultDatabase?je(s,t):function(e,s){return qe.apply(this,arguments)}(s,t);if(a.endsWith("WHERE ")){const e=a.split("FROM ");return e[e.length-1].split(" WHERE")[0].split(",").map((e=>e.trim())).map((e=>({label:e,kind:Se.TABLE,documentation:"Table",insertText:e,range:t})))}if(e.endsWith(".")){const r=e.split(" "),a=r[r.length-1].split(".");if(void 0!==s.defaultDatabase){const e=a[0];return Fe(s,t,"",e)}if(2===a.length){const e=a[0];return je(s,t,e)}const n=a[0],o=a[1];return Fe(s,t,n,o)}return[]})),Re.apply(this,arguments)}function qe(){return(qe=Ie((function*(e,s){return(yield e.databases()).map((e=>({label:e,kind:Se.DATABASE,documentation:"Database",insertText:e,range:s})))}))).apply(this,arguments)}function je(e,s,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Ie((function*(e,s,t){return(yield e.tables(t)).map((e=>({label:e,kind:Se.TABLE,documentation:"Table",insertText:e,range:s})))}))).apply(this,arguments)}function Fe(e,s,t,r){return De.apply(this,arguments)}function De(){return(De=Ie((function*(e,s,t,r){return(yield e.fields(t,r)).map((e=>({label:e,kind:Se.FIELD,documentation:"Field",insertText:e,range:s})))}))).apply(this,arguments)}const Be=(e,t)=>{if(t===s.AUTO){const t=function(e){var s,t;const r=d(e);return"select"!==r.type||!(null===(s=r.columns)||void 0===s?void 0:s.length)||(null===(t=r.columns)||void 0===t?void 0:t.length)<=0?[]:r.columns.map((e=>{var s;return`${e.expr} as ${null===(s=e.alias)||void 0===s?void 0:s.name}`}))}(e);if(t.length>2&&(0,w.isString)(t[0])){const e=t[0].trim().toLowerCase();if(e.endsWith("as time"))return s.TIMESERIES;if(e.endsWith("as log_time"))return s.LOGS}return s.TABLE}return t};var Ue=c(7799);const Me=["INTERVAL"];function He(e,s,t,r,a,n,o){try{var l=e[n](o),i=l.value}catch(e){return void t(e)}l.done?s(i):Promise.resolve(i).then(r,a)}function Ge(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function ze(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){Ge(e,s,t[s])}))}return e}function We(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}const Ke=e=>{const s="150px",{query:r,onRunQuery:a,onChange:n,datasource:o}=e,[l,i]=(0,xe.useState)(),[c,p]=(0,xe.useState)({height:s,icon:"plus",on:r.expand||!1}),m={databases:()=>o.fetchDatabases(),tables:e=>o.fetchTables(e),fields:(e,s)=>o.fetchFields(e,s),defaultDatabase:o.getDefaultDatabase()},u=(b=function*(e,s){const t=yield function(e,s,t){return Re.apply(this,arguments)}(e,m,s);return Promise.resolve({suggestions:t})},_=function(){var e=this,s=arguments;return new Promise((function(t,r){var a=b.apply(e,s);function n(e){He(a,t,r,n,o,"next",e)}function o(e){He(a,t,r,n,o,"throw",e)}n(void 0)}))},function(e,s){return _.apply(this,arguments)});var b,_;return we().createElement("div",{className:Ne.Common.wrapper},we().createElement("a",{onClick:()=>(()=>{const e=r,t=!c.on,a=t?"minus":"plus";if(n(We(ze({},e),{expand:t})),l)if(t){l.expanded=!0;const e=Qe(l);p({height:`${e}px`,on:t,icon:a})}else l.expanded=!1,p({height:s,icon:a,on:t})})(),className:Ne.Common.expand,"data-testid":ge.components.QueryEditor.CodeEditor.Expand},we().createElement("i",{className:`fa fa-${c.icon}`})),we().createElement(R.CodeEditor,{"aria-label":"SQL",height:c.height,language:"sql",value:r.rawSql||"",onSave:e=>{const s=Be(e,r.selectedFormat);n(We(ze({},r),{rawSql:e,format:s,queryType:t.SQL})),a()},showMiniMap:!1,showLineNumbers:!0,onBlur:e=>n(We(ze({},r),{rawSql:e})),onEditorDidMount:e=>(e=>{const s=function(e,s,t){return s.updateOptions({fixedOverflowWidgets:!0,scrollBeyondLastLine:!1}),void 0!==monaco.languages.getLanguages().find((s=>s.id===e))||(monaco.languages.register({id:e}),monaco.languages.registerCompletionItemProvider("sql",{triggerCharacters:[" ","$",".",","],provideCompletionItems:(r=function*(e,s){const r=e.getWordUntilPosition(s),a=e.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:s.lineNumber,endColumn:s.column}),n={startLineNumber:s.lineNumber,endLineNumber:s.lineNumber,startColumn:r.startColumn,endColumn:r.endColumn};return t(a,n)},a=function(){var e=this,s=arguments;return new Promise((function(t,a){var n=r.apply(e,s);function o(e){Te(n,t,a,o,l,"next",e)}function l(e){Te(n,t,a,o,l,"throw",e)}o(void 0)}))},function(e,s){return a.apply(this,arguments)})})),monaco.editor;var r,a}("chSql",e,u);e.expanded=r.expand,e.onDidChangeModelDecorations((s=>{if(e.expanded){const s=Qe(e);p({height:`${s}px`,on:!0,icon:"minus"})}})),e.onKeyUp((t=>{if(o.settings.jsonData.validate){((e,s,t)=>{const r=function(e){try{return Ue.parse(e),{valid:!0}}catch(s){const t=s,r=t.message.split("\n"),a=t.hash.loc,n=e.split("\n"),o=n[a.first_line-1],l=o.substring(a.first_column,a.last_column);if(Me.includes(l.toUpperCase()))return{valid:!0};if(o.trim()===l){const e=n[a.first_line];if(null==e?void 0:e.trim().startsWith("$"))return{valid:!0}}return o.substring(a.last_column+1).trim().startsWith("$")?{valid:!0}:{valid:!1,error:{startLine:a.first_line,endLine:a.last_line,startCol:a.first_column+1,endCol:a.last_column+1,message:s.message,expected:r[3]}}}}(e);if(r.valid)t.setModelMarkers(s,"clickhouse",[]);else{const e=r.error;t.setModelMarkers(s,"clickhouse",[{startLineNumber:e.startLine,startColumn:e.startCol,endLineNumber:e.endLine,endColumn:e.endCol,message:e.expected,severity:8}])}})(e.getValue(),e.getModel(),s)}})),i(e)})(e)}))},Qe=e=>{var s;if(!e.getDomNode())return;const t=(null===(s=e.getModel())||void 0===s?void 0:s.getLineCount())||1;return e.getTopForLineNumber(t+1)+40};var Ve=c(3533),Ye=c.n(Ve);function Je(e,s,t,r,a,n,o){try{var l=e[n](o),i=l.value}catch(e){return void t(e)}l.done?s(i):Promise.resolve(i).then(r,a)}const Xe=e=>{const{datasource:s,onTableChange:t,database:r,table:a}=e,[n,o]=(0,xe.useState)([]),{label:l,tooltip:i}=ge.components.QueryEditor.QueryBuilder.FROM;return(0,xe.useEffect)((()=>{function e(){var t;return t=function*(){const e=yield s.fetchTables(r),t=e.map((e=>({label:e,value:e})));a&&!e.find((e=>e===a))&&t.push({label:a,value:a}),t.push({label:"-- Choose --",value:""}),o(t)},e=function(){var e=this,s=arguments;return new Promise((function(r,a){var n=t.apply(e,s);function o(e){Je(n,r,a,o,l,"next",e)}function l(e){Je(n,r,a,o,l,"throw",e)}o(void 0)}))},e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s,r,a]),we().createElement(we().Fragment,null,we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:i},l),we().createElement(R.Select,{className:`width-15 ${Ne.Common.inlineSelect}`,onChange:e=>(e=>{t(e)})(e.value?e.value:""),options:n,value:a,menuPlacement:"bottom",allowCustomValue:!0}))},Ze=e=>{const{options:s,label:t,tooltip:a}=ge.components.QueryEditor.QueryBuilder.TYPES,n=[{value:r.List,label:s.LIST},{value:r.Aggregate,label:s.AGGREGATE},{value:r.Trend,label:s.TREND}];return we().createElement(we().Fragment,null,we().createElement(R.InlineFormLabel,{width:6,className:"query-keyword",tooltip:a},t),we().createElement(R.RadioButtonGroup,{options:n,value:e.mode,onChange:s=>e.onModeChange(s)}))},es=e=>{const s=(e.fieldsList||[]).map((e=>({label:e.label,value:e.name}))),[t,r]=(0,xe.useState)([]),[a,n]=(0,xe.useState)(!1),o=[],[l,i]=(0,xe.useState)(e.fields||[]),{label:c,tooltipTable:p}=ge.components.QueryEditor.QueryBuilder.SELECT;(0,xe.useEffect)((()=>{if(0===e.fieldsList.length)return;i(e.fields);const s=ss(e.fields,e.fieldsList);r(s)}),[e.fieldsList,e.fields]);return we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:p},c),we().createElement("div",{"data-testid":"query-builder-fields-multi-select-container",className:Ne.Common.selectWrapper},we().createElement(R.MultiSelect,{options:[...s,...o,...t],value:l&&l.length>0?l:[],isOpen:a,onOpenMenu:()=>n(!0),onCloseMenu:()=>n(!1),onChange:s=>{n(!1),(s=>{const t=(e=>o.map((e=>e.value)).includes(e[0])||o.map((e=>e.value)).includes(e[e.length-1])?[e[e.length-1]]:e)(s);i(t);const a=ss(s,e.fieldsList);r(a)})(s.map((e=>e.value)))},onBlur:()=>{e.onFieldsChange(l)},allowCustomValue:!0,menuPlacement:"bottom"})))};function ss(e,s){return e.filter((e=>-1===s.findIndex((s=>s.name===e)))).map((e=>({label:e,value:e})))}function ts(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function rs(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){ts(e,s,t[s])}))}return e}function as(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}const ns=e=>{const s=(e.fieldsList||[]).map((e=>({label:e.label,value:e.name}))),[t,r]=(0,xe.useState)(!1),{metric:n,index:o,metrics:l,onMetricsChange:i}=e,[c,p]=(0,xe.useState)(n.alias||""),{ALIAS:m}=ge.components.QueryEditor.QueryBuilder.AGGREGATES,u=[{value:a.Count,label:"Count"},{value:a.Sum,label:"Sum"},{value:a.Min,label:"Min"},{value:a.Max,label:"Max"},{value:a.Average,label:"Average"},{value:a.Any,label:"Any"}];return we().createElement(we().Fragment,null,we().createElement(R.Select,{width:20,className:Ne.Common.inlineSelect,options:u,onChange:e=>(e=>{const s=[...l].map(((s,t)=>as(rs({},s),{aggregation:t===o?e:s.aggregation})));i(s)})(e.value),value:n.aggregation,menuPlacement:"bottom"}),we().createElement(R.Select,{width:28,className:Ne.Common.inlineSelect,options:s,isOpen:t,onOpenMenu:()=>r(!0),onCloseMenu:()=>r(!1),onChange:e=>{r(!1);const s=[...l].map(((s,t)=>as(rs({},s),{field:t===o?e.value:s.field})));i(s)},value:n.field,menuPlacement:"bottom"}),we().createElement(R.InlineFormLabel,{width:2,className:"query-keyword"},m.label),we().createElement(R.Input,{width:20,value:c,onChange:e=>p(e.currentTarget.value),onBlur:()=>{const e=[...l].map(((e,s)=>as(rs({},e),{alias:s===o?c:e.alias})));i(e)},placeholder:"alias"}))},os=e=>{const{metrics:s,onMetricsChange:t,fieldsList:r=[]}=e,{label:n,tooltipAggregate:o,AddLabel:l,RemoveLabel:i}=ge.components.QueryEditor.QueryBuilder.AGGREGATES;return we().createElement(we().Fragment,null,s.map(((e,a)=>we().createElement("div",{className:"gf-form",key:a},0===a?we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:o},n):we().createElement("div",{className:`width-8 ${Ne.Common.firstLabel}`}),we().createElement(ns,{fieldsList:r,index:a,metric:e,metrics:s,onMetricsChange:t}),s.length>1&&we().createElement(R.Button,{icon:"trash-alt",size:"sm",variant:"destructive",className:Ne.Common.smallBtn,onClick:()=>(e=>{const r=[...s];r.splice(e,1),t(r)})(a)},i)))),we().createElement("div",{className:"gf-form"},we().createElement("div",{className:`width-8 ${Ne.Common.firstLabel}`}),we().createElement(R.Button,{icon:"plus-circle",size:"sm",variant:"secondary",className:Ne.Common.smallBtn,onClick:()=>{const e={field:"",aggregation:a.Count};t([...s,e])}},l)))},ls=e=>{const{label:s,tooltip:t}=e.labelAndTooltip,r=(e.fieldsList||[]).filter((s=>e.timeFieldTypeCheckFn(s.type))).map((e=>({label:e.label,value:e.name})));return we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:t},s),we().createElement(R.Select,{options:r,width:20,onChange:s=>e.onTimeFieldChange(s.value,(s=>{const t=e.fieldsList.find((e=>e.name===s));return t?t.type:""})(s.value)),value:e.timeField,menuPlacement:"bottom"}))};function is(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function cs(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){is(e,s,t[s])}))}return e}function ps(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}const ms=[{value:!0,label:"True"},{value:!1,label:"False"}],us=[{value:"AND",label:"AND"},{value:"OR",label:"OR"}],bs=[{value:o.Equals,label:"="},{value:o.NotEquals,label:"!="},{value:o.LessThan,label:"<"},{value:o.LessThanOrEqual,label:"<="},{value:o.GreaterThan,label:">"},{value:o.GreaterThanOrEqual,label:">="},{value:o.Like,label:"LIKE"},{value:o.NotLike,label:"NOT LIKE"},{value:o.In,label:"IN"},{value:o.NotIn,label:"NOT IN"},{value:o.IsNull,label:"IS NULL"},{value:o.IsNotNull,label:"IS NOT NULL"},{value:o.WithInGrafanaTimeRange,label:"WITHIN DASHBOARD TIME RANGE"},{value:o.OutsideGrafanaTimeRange,label:"OUTSIDE DASHBOARD TIME RANGE"}],_s=[{value:"today()",label:"TODAY"},{value:"yesterday()",label:"YESTERDAY"},{value:"now()",label:"NOW"},{value:"GRAFANA_START_TIME",label:"DASHBOARD START TIME"},{value:"GRAFANA_END_TIME",label:"DASHBOARD END TIME"}],ys={filterType:"custom",condition:"AND",key:"Id",type:"id",operator:o.IsNotNull},$s=e=>{const[s,t]=(0,xe.useState)(e.value||0);return we().createElement("div",{"data-testid":"query-builder-filters-number-value-container"},we().createElement(R.Input,{"data-testid":"query-builder-filters-number-value-input",type:"number",value:s,onChange:e=>t(e.currentTarget.valueAsNumber||0),onBlur:()=>e.onChange(s)}))},ds=e=>{const[s,t]=(0,xe.useState)(e.value||"");return we().createElement("div",{"data-testid":"query-builder-filters-single-string-value-container"},we().createElement(R.Input,{type:"text",value:s,onChange:e=>t(e.currentTarget.value),onBlur:()=>e.onChange(s)}))},fs=e=>{const[s,t]=(0,xe.useState)(e.value||[]);return we().createElement("div",{"data-testid":"query-builder-filters-multi-string-value-container"},we().createElement(R.Input,{type:"text",value:s.join(","),placeholder:"comma separated values",onChange:e=>t((e.currentTarget.value||"").split(",")),onBlur:()=>e.onChange(s)}))},hs=e=>{const{filter:s,onFilterChange:t,fieldsList:r}=e,a=()=>{const e=r.find((e=>e.name===s.key));return(null==e?void 0:e.picklistValues)||[]};if(J(s))return we().createElement(we().Fragment,null);if(X(s)){const e=e=>{t(ps(cs({},s),{value:e}))};return we().createElement("div",{"data-testid":"query-builder-filters-boolean-value-container"},we().createElement(R.RadioButtonGroup,{options:ms,value:s.value,onChange:s=>e(s)}))}if(Z(s))return we().createElement($s,{value:s.value,onChange:e=>t(ps(cs({},s),{value:e}))});if(se(s)){const e=e=>{t(ps(cs({},s),{value:e}))};return ee(s)?null:we().createElement("div",{"data-testid":"query-builder-filters-date-value-container"},we().createElement(R.Select,{value:s.value||"TODAY",onChange:s=>e(s.value),options:[..._s]}))}if(te(s)){const e=e=>{t(ps(cs({},s),{value:e}))};return"picklist"!==s.type||s.operator!==o.Equals&&s.operator!==o.NotEquals?we().createElement(ds,{value:s.value,onChange:e}):we().createElement("div",{"data-testid":"query-builder-filters-single-picklist-value-container"},we().createElement(R.Select,{value:s.value,onChange:s=>e(s.value),options:a()}))}if(re(s)){const e=e=>{t(ps(cs({},s),{value:e}))};return"picklist"===s.type?we().createElement("div",{"data-testid":"query-builder-filters-multi-picklist-value-container"},we().createElement(R.MultiSelect,{value:s.value,options:a(),onChange:s=>e(s.map((e=>e.value)))})):we().createElement(fs,{value:s.value,onChange:e})}return we().createElement(we().Fragment,null)},xs=e=>{const{index:s,filter:t,fieldsList:r,onFilterChange:a}=e,[n,l]=(0,xe.useState)(!1);return we().createElement(we().Fragment,null,0!==s&&we().createElement(R.RadioButtonGroup,{options:us,value:t.condition,onChange:e=>(e=>{let r=t;r.condition=e,a(s,r)})(e)}),we().createElement(R.Select,{value:t.key,width:40,className:Ne.Common.inlineSelect,options:(()=>{const e=(t.restrictToFields||r).map((e=>({label:e.label,value:e.name})));return(null==t?void 0:t.key)&&!e.find((e=>e.value===t.key))&&e.push({label:t.key,value:t.key}),e})(),isOpen:n,onOpenMenu:()=>l(!0),onCloseMenu:()=>l(!1),onChange:e=>(e=>{l(!1);const n=r.find((s=>s.name===e));let i,c=null;if(n)c={key:n.name,type:n.type};else{const s=r.find((s=>s.type.startsWith("Map")&&e.startsWith(s.name)&&new RegExp(`^${s.name}\\[['"].+['"]\\]$`).test(e)));if(s){var p;const t=null===(p=/^Map\(\w+, (\w+)\)$/.exec(s.type))||void 0===p?void 0:p[1];t&&(c={key:e,type:t})}}c&&(i=t.restrictToFields?{filterType:"custom",key:c.key,type:"datetime",condition:t.condition||"AND",operator:o.WithInGrafanaTimeRange,restrictToFields:t.restrictToFields}:W(c.type)?{filterType:"custom",key:c.key,type:"boolean",condition:t.condition||"AND",operator:o.Equals,value:!1}:Q(c.type)?{filterType:"custom",key:c.key,type:c.type,condition:t.condition||"AND",operator:o.Equals,value:"TODAY"}:{filterType:"custom",key:c.key,type:c.type,condition:t.condition||"AND",operator:o.IsNotNull},a(s,i))})(e.value),allowCustomValue:!0,menuPlacement:"bottom"}),we().createElement(R.Select,{value:t.operator,width:34,className:Ne.Common.inlineSelect,options:((e="string")=>W(e)?bs.filter((e=>[o.Equals,o.NotEquals].includes(e.value))):K(e)?bs.filter((e=>[o.IsNull,o.IsNotNull,o.Equals,o.NotEquals,o.LessThan,o.LessThanOrEqual,o.GreaterThan,o.GreaterThanOrEqual].includes(e.value))):Q(e)?bs.filter((e=>[o.IsNull,o.IsNotNull,o.Equals,o.NotEquals,o.LessThan,o.LessThanOrEqual,o.GreaterThan,o.GreaterThanOrEqual,o.WithInGrafanaTimeRange,o.OutsideGrafanaTimeRange].includes(e.value))):bs.filter((e=>[o.IsNull,o.IsNotNull,o.Equals,o.NotEquals,o.Like,o.NotLike,o.In,o.NotIn].includes(e.value))))(t.type),onChange:e=>(e=>{let r=t;r.operator=e,re(r)&&(Array.isArray(r.value)||(r.value=[r.value||""])),a(s,r)})(e.value),menuPlacement:"bottom"}),we().createElement(hs,{filter:t,onFilterChange:e=>{a(s,e)},fieldsList:r}))},ws=e=>{const{filters:s=[],onFiltersChange:t,fieldsList:r=[]}=e,{label:a,tooltip:n,AddLabel:o,RemoveLabel:l}=ge.components.QueryEditor.QueryBuilder.WHERE,i=()=>{t([...s,cs({},ys)])},c=(e,r)=>{const a=[...s];a[e]=r,t(a)};return we().createElement(we().Fragment,null,0===s.length&&we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:n},a),we().createElement(R.Button,{"data-testid":"query-builder-filters-add-button",icon:"plus-circle",variant:"secondary",size:"sm",className:Ne.Common.smallBtn,onClick:i},o)),s.map(((e,o)=>we().createElement("div",{className:"gf-form",key:o},0===o?we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:n},a):we().createElement("div",{className:`width-8 ${Ne.Common.firstLabel}`}),we().createElement(xs,{fieldsList:r,filter:e,onFilterChange:c,index:o}),we().createElement(R.Button,{"data-testid":"query-builder-filters-remove-button",icon:"trash-alt",variant:"destructive",size:"sm",className:Ne.Common.smallBtn,onClick:()=>(e=>{const r=[...s];r.splice(e,1),t(r)})(o)},l)))),0!==s.length&&we().createElement("div",{className:"gf-form"},we().createElement("div",{className:`width-8 ${Ne.Common.firstLabel}`}),we().createElement(R.Button,{"data-testid":"query-builder-filters-inline-add-button",icon:"plus-circle",variant:"secondary",size:"sm",className:Ne.Common.smallBtn,onClick:i},o)))},ks=e=>{const s=(e.fieldsList||[]).map((e=>({label:e.label,value:e.name}))),[t,r]=(0,xe.useState)(!1),[a,n]=(0,xe.useState)(e.groupBy||[]),{label:o,tooltip:l}=ge.components.QueryEditor.QueryBuilder.GROUP_BY;return a.filter((e=>!s.some((s=>s.value===e)))).forEach((e=>s.push({value:e,label:e}))),we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:l},o),we().createElement("div",{"data-testid":"query-builder-group-by-multi-select-container",className:Ne.Common.selectWrapper},we().createElement(R.MultiSelect,{options:s,placeholder:"(Optional) Click here to choose",isOpen:t,onOpenMenu:()=>r(!0),onCloseMenu:()=>r(!1),onChange:e=>{r(!1),n(e.map((e=>e.value)))},onBlur:()=>e.onGroupByChange(a),value:a,allowCustomValue:!0,menuPlacement:"bottom"})))};function vs(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function gs(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){vs(e,s,t[s])}))}return e}function As(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}const Es=e=>{const s=e.fieldsList||[],{index:t,orderByItem:r}=e,a=[{value:n.ASC,label:"ASC"},{value:n.DESC,label:"DESC"}];return we().createElement(we().Fragment,null,we().createElement(R.Select,{value:r.name,className:Ne.Common.inlineSelect,width:20,options:s,onChange:s=>(s=>{const r=[...e.orderBy].map(((e,r)=>As(gs({},e),{name:r===t?s:e.name})));e.onOrderByItemsChange(r)})(s.value),allowCustomValue:!0,menuPlacement:"bottom"}),we().createElement(R.Select,{value:r.dir,className:Ne.Common.inlineSelect,width:12,options:a,onChange:s=>(s=>{const r=[...e.orderBy].map(((e,r)=>As(gs({},e),{dir:r===t?s:e.dir})));e.onOrderByItemsChange(r)})(s.value),menuPlacement:"bottom"}))},Os=e=>{const s=e.fieldsList||[],{label:t,tooltip:r,AddLabel:a,RemoveLabel:o}=ge.components.QueryEditor.QueryBuilder.ORDER_BY,l=()=>{var t;const r=[...e.orderBy];r.push({name:(null===(t=s[0])||void 0===t?void 0:t.value)||"Name",dir:n.ASC}),e.onOrderByItemsChange(r)};return 0===s.length?null:we().createElement(we().Fragment,null,0===e.orderBy.length?we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:r},t),we().createElement(R.Button,{"data-testid":"query-builder-orderby-add-button",icon:"plus-circle",variant:"secondary",size:"sm",onClick:l,className:Ne.Common.smallBtn},a)):we().createElement(we().Fragment,null,e.orderBy.map(((s,a)=>we().createElement("div",{className:"gf-form",key:a,"data-testid":"query-builder-orderby-item-wrapper"},0===a?we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword","data-testid":"query-builder-orderby-item-label",tooltip:r},t):we().createElement("div",{className:`width-8 ${Ne.Common.firstLabel}`}),we().createElement(Es,{index:a,orderBy:e.orderBy,orderByItem:s,onOrderByItemsChange:e.onOrderByItemsChange,fieldsList:e.fieldsList}),we().createElement(R.Button,{"data-testid":"query-builder-orderby-remove-button",className:Ne.Common.smallBtn,variant:"destructive",size:"sm",icon:"trash-alt",onClick:()=>(s=>{const t=[...e.orderBy];t.splice(s,1),e.onOrderByItemsChange(t)})(a)},o)))),we().createElement("div",{className:"gf-form"},we().createElement("div",{className:`width-8 ${Ne.Common.firstLabel}`}),we().createElement(R.Button,{"data-testid":"query-builder-orderby-inline-add-button",icon:"plus-circle",variant:"secondary",size:"sm",onClick:l,className:Ne.Common.smallBtn},a))))},Ts=(e,s)=>{var t;let a=[];switch(e.mode){case r.Aggregate:a=[...(e.fields||[]).map((e=>({value:e,label:e}))),...(e.metrics||[]).map((e=>({value:`${e.aggregation}(${e.field})`,label:`${e.aggregation}(${e.field})`}))),...(e.groupBy||[]).map((e=>({value:e,label:e})))];break;case r.List:default:a=s.map((e=>({value:e.name,label:e.label})))}return null===(t=e.orderBy)||void 0===t||t.filter((e=>!a.some((s=>s.value===e.name)))).forEach((e=>a.push({value:e.name,label:e.name}))),a},Ss=e=>{const[s,t]=(0,xe.useState)(e.limit||10),{label:r,tooltip:a}=ge.components.QueryEditor.QueryBuilder.LIMIT;return we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:a},r),we().createElement(R.Input,{width:10,value:s,type:"number",min:1,onChange:e=>t(e.currentTarget.valueAsNumber),onBlur:()=>e.onLimitChange(s)}))};function Cs(e,s,t,r,a,n,o){try{var l=e[n](o),i=l.value}catch(e){return void t(e)}l.done?s(i):Promise.resolve(i).then(r,a)}const Ns=e=>{const{datasource:s,onChange:t,value:r}=e,[a,n]=(0,xe.useState)([]),{label:o,tooltip:l}=ge.components.QueryEditor.QueryBuilder.DATABASE;(0,xe.useEffect)((()=>{function e(){var t;return t=function*(){const e=yield s.fetchDatabases(),t=e.map((e=>({label:e,value:e})));r&&!e.find((e=>e===r))&&t.push({label:r,value:r}),n(t)},e=function(){var e=this,s=arguments;return new Promise((function(r,a){var n=t.apply(e,s);function o(e){Cs(n,r,a,o,l,"next",e)}function l(e){Cs(n,r,a,o,l,"throw",e)}o(void 0)}))},e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s,r]);const i=s.settings.jsonData.defaultDatabase,c=null!=r?r:i;return we().createElement(we().Fragment,null,we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:l},o),we().createElement(R.Select,{className:`width-15 ${Ne.Common.inlineSelect}`,onChange:e=>t(e.value),options:a,value:c,menuPlacement:"bottom",allowCustomValue:!0}))},Ls=e=>{const{label:s,tooltip:t}=ge.components.QueryEditor.QueryBuilder.LOG_LEVEL_FIELD,r=(e.fieldsList||[]).filter((e=>"*"!==e.name)).map((e=>({label:e.label,value:e.name})));return r.length&&r.push({label:"-",value:void 0}),we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:t},s),we().createElement(R.Select,{options:r,width:20,onChange:s=>e.onLogLevelFieldChange(s.value),menuPlacement:"bottom"}))};function Is(e,s,t,r,a,n,o){try{var l=e[n](o),i=l.value}catch(e){return void t(e)}l.done?s(i):Promise.resolve(i).then(r,a)}function Rs(e){return function(){var s=this,t=arguments;return new Promise((function(r,a){var n=e.apply(s,t);function o(e){Is(n,r,a,o,l,"next",e)}function l(e){Is(n,r,a,o,l,"throw",e)}o(void 0)}))}}function qs(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function js(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){qs(e,s,t[s])}))}return e}function Ps(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}const Fs=e=>{const[t,a]=(0,xe.useState)([]),n=Ye()(e.builderOptions,u.builderOptions);(0,xe.useEffect)((()=>{const s=(t=Rs((function*(s,t){e.datasource.fetchFieldsFull(s,t).then(function(){var s=Rs((function*(s){var t;s.push({name:"*",label:"ALL",type:"string",picklistValues:[]}),a(s);const i=s.filter((e=>V(e.type)));if(i.length>0){const e={operator:o.WithInGrafanaTimeRange,filterType:"custom",key:i[0].name,type:"datetime",condition:"AND",restrictToFields:i};l([e])}if((null===(t=n.fields)||void 0===t?void 0:t.length)>0){const t=n.fields[0],a=s.filter((e=>Q(e.type))).find((e=>e.name===t));if(a){const s=Ps(js({},n),{timeField:a.name,timeFieldType:a.type,mode:r.Trend,fields:n.fields.slice(1,n.fields.length)});e.onBuilderOptionsChange(s)}}}));return function(e){return s.apply(this,arguments)}}()).catch((e=>{throw console.error(e),e}))})),function(e,s){return t.apply(this,arguments)});var t;n.table&&s(n.database,n.table)}),[e.datasource,n.table]);const l=(s=[])=>{const t=Ps(js({},n),{filters:s});e.onBuilderOptionsChange(t)},c=(s="",t="")=>{const r=Ps(js({},n),{timeField:s,timeFieldType:t});e.onBuilderOptionsChange(r)},p=(()=>{const e=[];return t.forEach((s=>{e.push(s)})),e})();return n?we().createElement(we().Fragment,null,we().createElement("div",{className:"gf-form"},we().createElement(Ns,{datasource:e.datasource,value:n.database,onChange:(s="")=>{a([]);const t=Ps(js({},n),{database:s,table:"",fields:[],filters:[],orderBy:[],timeField:void 0,logLevelField:void 0});e.onBuilderOptionsChange(t)}}),we().createElement(Ze,{mode:n.mode,onModeChange:s=>{if(s===r.List){const t=Ps(js({},n),{mode:s,fields:n.fields||[],orderBy:[]});e.onBuilderOptionsChange(t)}else if(s===r.Aggregate){const t=Ps(js({},n),{mode:s,orderBy:[],metrics:n.metrics||[]});e.onBuilderOptionsChange(t)}else if(s===r.Trend){const s=Ps(js({},n),{mode:r.Trend,timeField:n.timeField||"",timeFieldType:n.timeFieldType||"datetime",metrics:n.metrics||[]});e.onBuilderOptionsChange(s)}}})),we().createElement("div",{className:"gf-form"},we().createElement(Xe,{datasource:e.datasource,database:n.database,table:n.table,onTableChange:(s="")=>{const t=Ps(js({},n),{table:s,fields:[],filters:[],orderBy:[],timeField:void 0,logLevelField:void 0});e.onBuilderOptionsChange(t)}})),n.mode===r.Trend&&we().createElement(ls,{timeField:n.timeField,timeFieldType:n.timeFieldType,onTimeFieldChange:c,fieldsList:p,timeFieldTypeCheckFn:Q,labelAndTooltip:ge.components.QueryEditor.QueryBuilder.TIME_FIELD}),n.mode===r.List&&e.format===s.LOGS&&e.app===i.CoreApp.Explore&&we().createElement(we().Fragment,null,we().createElement(ls,{timeField:n.timeField,timeFieldType:n.timeFieldType,onTimeFieldChange:c,fieldsList:p,timeFieldTypeCheckFn:V,labelAndTooltip:ge.components.QueryEditor.QueryBuilder.LOGS_VOLUME_TIME_FIELD}),we().createElement(Ls,{fieldsList:p,onLogLevelFieldChange:(s="")=>{const t=Ps(js({},n),{logLevelField:s});e.onBuilderOptionsChange(t)}})),n.mode!==r.Trend&&we().createElement(es,{fields:n.fields||[],onFieldsChange:(s=[])=>{const t=Ps(js({},n),{fields:s});e.onBuilderOptionsChange(t)},fieldsList:p}),(n.mode===r.Aggregate||n.mode===r.Trend)&&we().createElement(os,{metrics:n.metrics||[],onMetricsChange:(s=[])=>{const t=Ps(js({},n),{metrics:s});e.onBuilderOptionsChange(t)},fieldsList:p}),we().createElement(ws,{filters:n.filters||[],onFiltersChange:l,fieldsList:p}),(n.mode===r.Aggregate||n.mode===r.Trend)&&we().createElement(ks,{groupBy:n.groupBy||[],onGroupByChange:(s=[])=>{const t=Ps(js({},n),{groupBy:s});e.onBuilderOptionsChange(t)},fieldsList:p}),we().createElement(we().Fragment,null,we().createElement(Os,{orderBy:n.orderBy||[],onOrderByItemsChange:(s=[])=>{const t=Ps(js({},n),{orderBy:s});e.onBuilderOptionsChange(t)},fieldsList:Ts(n,p)}),we().createElement(Ss,{limit:n.limit||20,onLimitChange:(s=20)=>{const t=Ps(js({},n),{limit:s});e.onBuilderOptionsChange(t)}}))):null},Ds=e=>{const{label:s,tooltip:t}=ge.components.QueryEditor.QueryBuilder.PREVIEW;return we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:t},s),we().createElement("pre",null,e.sql))};function Bs(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function Us(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){Bs(e,s,t[s])}))}return e}function Ms(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}const Hs=e=>{const{query:s,onChange:r}=e,{label:a,tooltip:n,options:o,switcher:l,cannotConvert:i}=ge.components.QueryEditor.Types;let c=s.queryType||(s.rawSql&&!s.queryType?t.SQL:t.Builder);const[p,m]=(0,xe.useState)(c),[b,_]=(0,xe.useState)(!1),[y,$]=(0,xe.useState)(!1),d=[{label:o.SQLEditor,value:t.SQL},{label:o.QueryBuilder,value:t.Builder}],[f,h]=(0,xe.useState)(""),x=(e,a=!1)=>{if(s.queryType!==t.SQL||e!==t.Builder||a){let a;switch(m(e),s.queryType){case t.Builder:a=s.builderOptions;break;case t.SQL:a=ie(s.rawSql)||u.builderOptions;break;default:a=u.builderOptions}e===t.SQL?r(Ms(Us({},s),{queryType:e,rawSql:le(a),meta:{builderOptions:a},format:s.format,selectedFormat:s.selectedFormat})):e===t.Builder&&r(Ms(Us({},s),{queryType:e,rawSql:le(a),builderOptions:a}))}else{const e=ie(s.rawSql);(0,w.isString)(e)?($(!0),h(e)):_(!0)}},k=()=>{x(t.Builder,!0),_(!1),$(!1)};return we().createElement(we().Fragment,null,we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:n},a),we().createElement(R.RadioButtonGroup,{options:d,value:p,onChange:e=>x(e)}),we().createElement(R.ConfirmModal,{isOpen:b,title:l.title,body:l.body,confirmText:l.confirmText,dismissText:l.dismissText,icon:"exclamation-triangle",onConfirm:k,onDismiss:()=>_(!1)}),we().createElement(R.ConfirmModal,{title:i.title,body:`${f} \nDo you want to delete your current query and use the query builder?`,isOpen:y,icon:"exclamation-triangle",onConfirm:k,confirmText:l.confirmText,onDismiss:()=>$(!1)}))},Gs=e=>{const{onChange:t,format:r}=e,{label:a,tooltip:n,options:o}=ge.components.QueryEditor.Format;return we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:8,className:"query-keyword",tooltip:n},a),we().createElement(R.Select,{className:`width-8 ${Ne.Common.inlineSelect}`,onChange:e=>t(e.value),options:[{label:o.AUTO,value:s.AUTO},{label:o.TABLE,value:s.TABLE},{label:o.TIME_SERIES,value:s.TIMESERIES},{label:o.LOGS,value:s.LOGS},{label:o.TRACE,value:s.TRACE}],value:r,menuPlacement:"bottom",allowCustomValue:!1}))};function zs(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function Ws(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){zs(e,s,t[s])}))}return e}function Ks(e,s){return s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t}(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})),e}const Qs=e=>{const{query:a,onChange:n,app:o}=e,l=e=>{const o=le(e),l=a.selectedFormat===s.AUTO?e.mode===r.Trend?s.TIMESERIES:s.TABLE:a.selectedFormat;n(Ks(Ws({},a),{queryType:t.Builder,rawSql:o,builderOptions:e,format:l}))};switch(a.queryType){case t.SQL:return we().createElement("div",{"data-testid":"query-editor-section-sql"},we().createElement(Ke,e));case t.Builder:default:let s=Ws({},a);if(a.rawSql&&!a.builderOptions)return we().createElement("div",{"data-testid":"query-editor-section-sql"},we().createElement(Ke,e));if(!a.rawSql||!a.builderOptions){let{rawSql:e,builderOptions:t}=u;s=Ks(Ws({},s),{rawSql:e,builderOptions:t})}return we().createElement("div",{"data-testid":"query-editor-section-builder"},we().createElement(Fs,{datasource:e.datasource,builderOptions:s.builderOptions,onBuilderOptionsChange:l,format:s.format,app:o}),we().createElement(Ds,{sql:s.rawSql}))}},Vs=JSON.parse('{"id":"grafana-clickhouse-datasource","um":{"i8":"%VERSION%"}}');function Ys(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const Js=new i.DataSourcePlugin(de).setConfigEditor((s=>{var t;const r=(0,R.useTheme)(),{FormField:a,SecretFormField:n}=R.LegacyForms,{options:o,onOptionsChange:l}=s,{jsonData:c,secureJsonFields:p}=o,m=o.secureJsonData||{},u=p&&p.tlsCACert,b=p&&p.tlsClientCert,_=p&&p.tlsClientKey,y=[{label:"Native",value:e.NATIVE},{label:"HTTP",value:e.HTTP}],$={padding:`0 ${r.spacing.sm}`,height:`${r.spacing.formInputHeight}px`,display:"flex",alignItems:"center"},d=(e,s)=>{l(Oe(Ee({},o),{jsonData:Oe(Ee({},o.jsonData),{[e]:s})}))},f=(e,s)=>{l(Oe(Ee({},o),{jsonData:Oe(Ee({},o.jsonData),{[e]:s})}))},h=(e,s)=>{l(Oe(Ee({},o),{secureJsonData:Oe(Ee({},m),{[e]:s})}))},x=e=>{l(Oe(Ee({},o),{secureJsonFields:Oe(Ee({},p),{[e]:!1}),secureJsonData:Oe(Ee({},m),{[e]:""})}))};return we().createElement(we().Fragment,null,we().createElement("div",{className:"gf-form-group"},we().createElement("h3",null,"Server"),we().createElement("br",null),we().createElement("div",{className:"gf-form"},we().createElement(a,{name:"server",labelWidth:12,inputWidth:20,value:c.server||"",onChange:(0,i.onUpdateDatasourceJsonDataOption)(s,"server"),label:ve.ConfigEditor.ServerAddress.label,"aria-label":ve.ConfigEditor.ServerAddress.label,placeholder:ve.ConfigEditor.ServerAddress.placeholder,tooltip:ve.ConfigEditor.ServerAddress.tooltip})),we().createElement("div",{className:"gf-form"},we().createElement(a,{name:"port",labelWidth:12,inputWidth:20,type:"number",value:c.port||"",onChange:e=>{return s=e.currentTarget.value,void l(Oe(Ee({},o),{jsonData:Oe(Ee({},o.jsonData),{port:+s})}));var s},label:ve.ConfigEditor.ServerPort.label,"aria-label":ve.ConfigEditor.ServerPort.label,placeholder:ve.ConfigEditor.ServerPort.placeholder((null===(t=c.secure)||void 0===t?void 0:t.toString())||"false"),tooltip:ve.ConfigEditor.ServerPort.tooltip})),we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:12,tooltip:ve.ConfigEditor.Protocol.tooltip},ve.ConfigEditor.Protocol.label),we().createElement(R.RadioButtonGroup,{options:y,disabledOptions:[],value:c.protocol||e.NATIVE,onChange:e=>{return s=e,void l(Oe(Ee({},o),{jsonData:Oe(Ee({},o.jsonData),{protocol:s})}));var s}})),we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:12,tooltip:ve.ConfigEditor.Secure.tooltip},ve.ConfigEditor.Secure.label),we().createElement("div",{style:$},we().createElement(R.Switch,{id:"secure",className:"gf-form",value:c.secure||!1,onChange:e=>f("secure",e.currentTarget.checked)})))),we().createElement("div",{className:"gf-form-group"},we().createElement("h3",null,"Credentials"),we().createElement("br",null),we().createElement("div",{className:"gf-form"},we().createElement(a,{name:"user",labelWidth:12,inputWidth:20,value:c.username||"",onChange:(0,i.onUpdateDatasourceJsonDataOption)(s,"username"),label:ve.ConfigEditor.Username.label,"aria-label":ve.ConfigEditor.Username.label,placeholder:ve.ConfigEditor.Username.placeholder,tooltip:ve.ConfigEditor.Username.tooltip})),we().createElement("div",{className:"gf-form"},we().createElement(n,{name:"pwd",labelWidth:12,inputWidth:20,required:!0,value:m.password||"",isConfigured:p&&p.password,onReset:()=>{l(Oe(Ee({},o),{secureJsonFields:Oe(Ee({},o.secureJsonFields),{password:!1}),secureJsonData:Oe(Ee({},o.secureJsonData),{password:""})}))},onChange:(0,i.onUpdateDatasourceSecureJsonDataOption)(s,"password"),label:ve.ConfigEditor.Password.label,"aria-label":ve.ConfigEditor.Password.label,placeholder:ve.ConfigEditor.Password.placeholder,tooltip:ve.ConfigEditor.Password.tooltip}))),we().createElement("div",{className:"gf-form-group"},we().createElement("h3",null,"TLS / SSL Settings"),we().createElement("br",null),we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:12,tooltip:ve.ConfigEditor.TLSSkipVerify.tooltip},ve.ConfigEditor.TLSSkipVerify.label),we().createElement("div",{style:$},we().createElement(R.Switch,{className:"gf-form",value:c.tlsSkipVerify||!1,onChange:e=>d("tlsSkipVerify",e.currentTarget.checked)}))),we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:12,tooltip:ve.ConfigEditor.TLSClientAuth.tooltip},ve.ConfigEditor.TLSClientAuth.label),we().createElement("div",{style:$},we().createElement(R.Switch,{className:"gf-form",value:c.tlsAuth||!1,onChange:e=>d("tlsAuth",e.currentTarget.checked)})),we().createElement(R.InlineFormLabel,{width:12,tooltip:ve.ConfigEditor.TLSAuthWithCACert.tooltip},ve.ConfigEditor.TLSAuthWithCACert.label),we().createElement("div",{style:$},we().createElement(R.Switch,{className:"gf-form",value:c.tlsAuthWithCACert||!1,onChange:e=>d("tlsAuthWithCACert",e.currentTarget.checked)}))),c.tlsAuthWithCACert&&we().createElement(ke,{hasCert:!!u,onChange:e=>h("tlsCACert",e.currentTarget.value),placeholder:ve.ConfigEditor.TLSCACert.placeholder,label:ve.ConfigEditor.TLSCACert.label,onClick:()=>x("tlsCACert")}),c.tlsAuth&&we().createElement(we().Fragment,null,we().createElement(ke,{hasCert:!!b,onChange:e=>h("tlsClientCert",e.currentTarget.value),placeholder:ve.ConfigEditor.TLSClientCert.placeholder,label:ve.ConfigEditor.TLSClientCert.label,onClick:()=>x("tlsClientCert")}),we().createElement(ke,{hasCert:!!_,placeholder:ve.ConfigEditor.TLSClientKey.placeholder,label:ve.ConfigEditor.TLSClientKey.label,onChange:e=>h("tlsClientKey",e.currentTarget.value),onClick:()=>x("tlsClientKey")}))),we().createElement("div",{className:"gf-form-group"},we().createElement("h3",null,"Additional Properties"),we().createElement("br",null),we().createElement("div",{className:"gf-form"},we().createElement(a,{labelWidth:12,inputWidth:20,value:c.defaultDatabase||"",onChange:(0,i.onUpdateDatasourceJsonDataOption)(s,"defaultDatabase"),label:ve.ConfigEditor.DefaultDatabase.label,"aria-label":ve.ConfigEditor.DefaultDatabase.label,placeholder:ve.ConfigEditor.DefaultDatabase.placeholder,tooltip:ve.ConfigEditor.DefaultDatabase.tooltip})),we().createElement("div",{className:"gf-form"},we().createElement(a,{labelWidth:12,inputWidth:20,value:c.timeout||"",onChange:(0,i.onUpdateDatasourceJsonDataOption)(s,"timeout"),label:ve.ConfigEditor.Timeout.label,"aria-label":ve.ConfigEditor.Timeout.label,placeholder:ve.ConfigEditor.Timeout.placeholder,tooltip:ve.ConfigEditor.Timeout.tooltip,type:"number"})),we().createElement("div",{className:"gf-form"},we().createElement(a,{labelWidth:12,inputWidth:20,value:c.queryTimeout||"",onChange:(0,i.onUpdateDatasourceJsonDataOption)(s,"queryTimeout"),label:ve.ConfigEditor.QueryTimeout.label,"aria-label":ve.ConfigEditor.QueryTimeout.label,placeholder:ve.ConfigEditor.QueryTimeout.placeholder,tooltip:ve.ConfigEditor.QueryTimeout.tooltip,type:"number"})),we().createElement("div",{className:"gf-form"},we().createElement(R.InlineFormLabel,{width:12,tooltip:ve.ConfigEditor.Validate.tooltip},ve.ConfigEditor.Validate.label),we().createElement("div",{style:$},we().createElement(R.Switch,{className:"gf-form",value:c.validate||!1,onChange:e=>f("validate",e.currentTarget.checked)})))))})).setQueryEditor((e=>{const{query:a,onChange:n,onRunQuery:o}=e;var l;return we().createElement(we().Fragment,null,we().createElement("div",{className:"gf-form "+Ne.QueryEditor.queryType},we().createElement("span",null,we().createElement(Hs,e)),we().createElement(R.Button,{onClick:()=>(()=>{if(a.queryType===t.SQL){const e=Be(a.rawSql,a.selectedFormat);e!==a.format&&n(Ks(Ws({},a),{format:e}))}o()})()},"Run Query")),we().createElement(Gs,{format:null!==(l=a.selectedFormat)&&void 0!==l?l:s.AUTO,onChange:e=>{switch(a.queryType){case t.SQL:n(Ks(Ws({},a),{format:Be(a.rawSql,e),selectedFormat:e}));case t.Builder:default:if(e===s.AUTO){let t=a.builderOptions;const o=t&&t.mode===r.Trend?s.TIMESERIES:s.TABLE;n(Ks(Ws({},a),{format:o,selectedFormat:e}))}else n(Ks(Ws({},a),{format:e,selectedFormat:e}))}}}),we().createElement(Qs,e))}));(0,m.getAppEvents)().subscribe(i.DashboardLoadedEvent,(({payload:{dashboardId:e,orgId:s,grafanaVersion:a,queries:n}})=>{var o;const l=null===(o=n[Vs.id])||void 0===o?void 0:o.filter((e=>!e.hide));var i;(null==l?void 0:l.length)&&(i=function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(s){Ys(e,s,t[s])}))}return e}({clickhouse_plugin_version:Vs.um.i8,grafana_version:a,dashboard_id:e,org_id:s},(e=>{const s={sql_queries:0,builder_queries:0,builder_table_queries:0,builder_aggregate_queries:0,builder_time_series_queries:0};return e.forEach((e=>{switch(e.queryType){case t.SQL:s.sql_queries++;break;case t.Builder:s.builder_queries++,e.builderOptions.mode===r.Aggregate?s.builder_aggregate_queries++:e.builderOptions.mode===r.List?s.builder_table_queries++:e.builderOptions.mode===r.Trend&&s.builder_time_series_queries++}})),s})(l)),(0,m.reportInteraction)("grafana_ds_clickhouse_dashboard_loaded",i))}))})(),p})()));
//# sourceMappingURL=module.js.map